!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=357)}([function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.pop();return this.withLatestFrom.apply(this,e).filter(function(t){return i.apply(void 0,r(t))}).map(function(t){return u(t,1)[0]})}function o(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return s.Observable.create(function(r){var i=!1,o=void 0,a=[],s={next:function(t){i=!0,o=t,a.forEach(function(t){r.next(n(t,o))}),a.splice(0)},error:function(t){return r.error(t)},complete:function(){}},u={next:function(t){if(!i)return a.push(t);r.next(n(t,o))},error:function(t){return r.error(t)},complete:function(){return r.complete()}},c=e.subscribe(u),l=t.subscribe(s);return function(){c.unsubscribe(),l.unsubscribe()}})}function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(n.length){var i=new Set(n.concat(t));return this.filter(function(t){return i.has(t.type)})}return this.filter(function(e){return e.type===t})}var s=n(1),u=(n(200),n(203),n(205),n(207),n(212),n(215),n(218),n(220),n(225),n(227),n(231),n(233),n(235),n(238),n(241),n(243),n(245),n(247),n(248),n(249),n(251),n(254),n(256),n(258),n(259),n(262),n(264),n(265),n(267),n(268),n(270),n(272),n(274),n(276),n(279),n(281),n(284),n(286),n(292),n(294),n(296),n(298),n(300),n(302),n(304),n(306),n(308),n(310),n(312),n(315),n(317),n(319),n(321),n(323),function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),c=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e};!function(t){return function(e){return Object.keys(t).forEach(function(n){return e.prototype[n]=t[n]})}}({filterByLatestFrom:i,bufferedWith:o,withType:a})(s.Observable);e.a=s.Observable},function(t,e,n){"use strict";var r=n(14),i=n(197),o=n(80),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(r?r.call(o,this.source):o.add(this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=a},function(t,e,n){/**
 * @license
 * Video.js 7.2.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
!function(e,n){t.exports=n()}(0,function(){function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t){return t.replace(/\n\r?\s*/g,"")}function n(t,e){Le(t).forEach(function(n){return e(t[n],n)})}function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Le(t).reduce(function(n,r){return e(n,t[r],r)},n)}function i(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[t].concat(r)):(r.forEach(function(e){e&&n(e,function(e,n){t[n]=e})}),t)}function o(t){return!!t&&"object"===(void 0===t?"undefined":Ce(t))}function a(t){return o(t)&&"[object Object]"===je.call(t)&&t.constructor===Object}function s(t,e){if(!t||!e)return"";if("function"==typeof fe.getComputedStyle){var n=fe.getComputedStyle(t);return n?n[e]:""}return""}function u(t){return"string"==typeof t&&/\S/.test(t)}function c(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function l(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function p(){return be===fe.document}function d(t){return o(t)&&1===t.nodeType}function h(){try{return fe.parent!==fe.self}catch(t){return!0}}function f(t){return function(e,n){if(!u(e))return be[t](null);u(n)&&(n=be.querySelector(n));var r=d(n)?n:be;return r[t]&&r[t](e)}}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=be.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(Oe.warn(ke(Ie,t,n)),i.setAttribute(t,n)):"textContent"===t?v(i,n):i[t]=n}),Object.getOwnPropertyNames(n).forEach(function(t){i.setAttribute(t,n[t])}),r&&D(i,r),i}function v(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function m(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function g(t,e){return c(e),t.classList?t.classList.contains(e):l(e).test(t.className)}function b(t,e){return t.classList?t.classList.add(e):g(t,e)||(t.className=(t.className+" "+e).trim()),t}function _(t,e){return t.classList?t.classList.remove(e):(c(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function T(t,e,n){var r=g(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!r),n!==r)return n?b(t,e):_(t,e),t}function w(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var r=e[n];null===r||void 0===r||!1===r?t.removeAttribute(n):t.setAttribute(n,!0===r?"":r)})}function S(t){var e={};if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,o=n[r].value;"boolean"!=typeof t[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),e[i]=o}return e}function O(t,e){return t.getAttribute(e)}function k(t,e,n){t.setAttribute(e,n)}function C(t,e){t.removeAttribute(e)}function E(){be.body.focus(),be.onselectstart=function(){return!1}}function P(){be.onselectstart=function(){return!0}}function A(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(s(t,"height"))),n.width||(n.width=parseFloat(s(t,"width"))),n}}function x(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=be.documentElement,r=be.body,i=n.clientLeft||r.clientLeft||0,o=fe.pageXOffset||r.scrollLeft,a=e.left+o-i,s=n.clientTop||r.clientTop||0,u=fe.pageYOffset||r.scrollTop,c=e.top+u-s;return{left:Math.round(a),top:Math.round(c)}}function j(t,e){var n={},r=x(t),i=t.offsetWidth,o=t.offsetHeight,a=r.top,s=r.left,u=e.pageY,c=e.pageX;return e.changedTouches&&(c=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-u+o)/o)),n.x=Math.max(0,Math.min(1,(c-s)/i)),n}function L(t){return o(t)&&3===t.nodeType}function I(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function M(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),d(t)||L(t)?t:"string"==typeof t&&/\S/.test(t)?be.createTextNode(t):void 0}).filter(function(t){return t})}function D(t,e){return M(e).forEach(function(e){return t.appendChild(e)}),t}function R(t,e){return D(I(t),e)}function U(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||0===t.button&&1===t.buttons)}function N(){return Ue++}function B(t){var e=t[Be];return e||(e=t[Be]=N()),Ne[e]||(Ne[e]={}),Ne[e]}function $(t){var e=t[Be];return!!e&&!!Object.getOwnPropertyNames(Ne[e]).length}function F(t){var e=t[Be];if(e){delete Ne[e];try{delete t[Be]}catch(e){t.removeAttribute?t.removeAttribute(Be):t[Be]=null}}}function V(t,e){var n=B(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&F(t)}function H(t,e,n,r){n.forEach(function(n){t(e,n,r)})}function q(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var r=t||fe.event;t={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(t[i]=r[i]));if(t.target||(t.target=t.srcElement||be),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var o=be.documentElement,a=be.body;t.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function z(t,e,n){if(Array.isArray(e))return H(z,t,e,n);var r=B(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=N()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(e,n){if(!r.disabled){e=q(e);var i=r.handlers[e.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!e.isImmediatePropagationStopped();a++)try{o[a].call(t,e,n)}catch(t){Oe.error(t)}}}),1===r.handlers[e].length)if(t.addEventListener){var i=!1;$e&&Fe.indexOf(e)>-1&&(i={passive:!0}),t.addEventListener(e,r.dispatcher,i)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function W(t,e,n){if($(t)){var r=B(t);if(r.handlers){if(Array.isArray(e))return H(W,t,e,n);var i=function(t,e){r.handlers[e]=[],V(t,e)};if(void 0!==e){var o=r.handlers[e];if(o){if(!n)return void i(t,e);if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);V(t,e)}}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(t,s)}}}function G(t,e,n){var r=$(t)?B(t):{},i=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=q(e),r.dispatcher&&r.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&!0===e.bubbles)G.call(null,i,e,n);else if(!i&&!e.defaultPrevented){var o=B(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function X(t,e,n){if(Array.isArray(e))return H(X,t,e,n);var r=function r(){W(t,e,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||N(),z(t,e,r)}function Y(t,e){e&&(qe=e),fe.setTimeout(ze,t)}function K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=y("span",{className:"vjs-event-bus"});return i(t,sn),t.on("dispose",function(){t.off(),fe.setTimeout(function(){t.eventBusEl_=null},0)}),t}function Q(t,e){return i(t,un),t.state=i({},t.state,e),"function"==typeof t.handleStateChanged&&Ze(t)&&t.on("statechanged",t.handleStateChanged),t}function J(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function Z(t,e){return J(t)===J(e)}function tt(){for(var t={},e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.forEach(function(e){e&&n(e,function(e,n){if(!a(e))return void(t[n]=e);a(t[n])||(t[n]={}),t[n]=tt(t[n],e)})}),t}function et(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function nt(t,e,n,r){return et(t,r,n.length-1),n[r][e]}function rt(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:nt.bind(null,"start",0,t),end:nt.bind(null,"end",1,t)}}function it(t,e){return Array.isArray(t)?rt(t):void 0===t||void 0===e?rt():rt([[t,e]])}function ot(t,e){var n=0,r=void 0,i=void 0;if(!e)return 0;t&&t.length||(t=it(0,0));for(var o=0;o<t.length;o++)r=t.start(o),i=t.end(o),i>e&&(i=e),n+=i-r;return n/e}function at(t){if(t instanceof at)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:o(t)&&("number"==typeof t.code&&(this.code=t.code),i(this,t)),this.message||(this.message=at.defaultMessages[this.code]||"")}function st(t,e){var n,r=null;try{n=JSON.parse(t,e)}catch(t){r=t}return[r,n]}function ut(t){return void 0!==t&&null!==t&&"function"==typeof t.then}function ct(t){ut(t)&&t.then(null,function(t){})}function lt(t){var e=lr.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function pt(t,e,n){if(!cr(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===hr.call(t)?dt(t,e,n):"string"==typeof t?ht(t,e,n):ft(t,e,n)}function dt(t,e,n){for(var r=0,i=t.length;r<i;r++)fr.call(t,r)&&e.call(n,t[r],r,t)}function ht(t,e,n){for(var r=0,i=t.length;r<i;r++)e.call(n,t.charAt(r),r,t)}function ft(t,e,n){for(var r in t)fr.call(t,r)&&e.call(n,t[r],r,t)}function yt(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)gr.call(n,r)&&(t[r]=n[r])}return t}function vt(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function mt(t,e,n){var r=t;return cr(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=mr(e,{uri:t}),r.callback=n,r}function gt(t,e,n){return e=mt(t,e,n),bt(e)}function bt(t){function e(){4===s.readyState&&setTimeout(i,0)}function n(){var t=void 0;if(t=s.response?s.response:s.responseText||_t(s),v)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(l),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,a(t,m)}function i(){if(!c){var e;clearTimeout(l),e=t.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var r=m,i=null;return 0!==e?(r={body:n(),statusCode:e,method:d,headers:{},url:p,rawRequest:s},s.getAllResponseHeaders&&(r.headers=vr(s.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),a(i,r,r.body)}}if(void 0===t.callback)throw new Error("callback argument missing");var o=!1,a=function(e,n,r){o||(o=!0,t.callback(e,n,r))},s=t.xhr||null;s||(s=t.cors||t.useXDR?new gt.XDomainRequest:new gt.XMLHttpRequest);var u,c,l,p=s.url=t.uri||t.url,d=s.method=t.method||"GET",h=t.body||t.data,f=s.headers=t.headers||{},y=!!t.sync,v=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:p,rawRequest:s};if("json"in t&&!1!==t.json&&(v=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(!0===t.json?h:t.json))),s.onreadystatechange=e,s.onload=i,s.onerror=r,s.onprogress=function(){},s.onabort=function(){c=!0},s.ontimeout=r,s.open(d,p,!y,t.username,t.password),y||(s.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(l=setTimeout(function(){if(!c){c=!0,s.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}},t.timeout)),s.setRequestHeader)for(u in f)f.hasOwnProperty(u)&&s.setRequestHeader(u,f[u]);else if(t.headers&&!vt(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(s.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(s),s.send(h||null),s}function _t(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function Tt(){}function wt(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function St(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Ot(){this.values=jr(null)}function kt(t,e,n,r){var i=r?t.split(r):[t];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],u=a[1];e(s,u)}}}function Ct(t,e,n){function r(){var e=St(t);if(null===e)throw new wt(wt.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function i(){t=t.replace(/^\s+/,"")}var o=t;if(i(),e.startTime=r(),i(),"--\x3e"!==t.substr(0,3))throw new wt(wt.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),i(),e.endTime=r(),i(),function(t,e){var r=new Ot;kt(t,function(t,e){switch(t){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===e){r.set(t,n[i].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];r.integer(t,a),r.percent(t,a)&&r.set("snapToLines",!1),r.alt(t,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=e.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical",""),e.line=r.get("line","auto"),e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align","middle"),e.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,e)}function Et(t,e){function n(t){return Lr[t]}for(var r,i=t.document.createElement("div"),o=i,a=[];null!==(r=function(){if(!e)return null;var t=e.match(/^([^<]*)(<[^>]*>?)?/);return function(t){return e=e.substr(t.length),t}(t[1]?t[1]:t[2])}());)if("<"!==r[0])o.appendChild(t.document.createTextNode(function(t){for(;c=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(c[0],n);return t}(r)));else{if("/"===r[1]){a.length&&a[a.length-1]===r.substr(2).replace(">","")&&(a.pop(),o=o.parentNode);continue}var s,u=St(r.substr(1,r.length-2));if(u){s=t.document.createProcessingInstruction("timestamp",u),o.appendChild(s);continue}var c=r.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!c)continue;if(!(s=function(e,n){var r=Ir[e];if(!r)return null;var i=t.document.createElement(r);i.localName=r;var o=Mr[e];return o&&n&&(i[o]=n.trim()),i}(c[1],c[3])))continue;if(!function(t,e){return!Dr[e.localName]||Dr[e.localName]===t.localName}(o,s))continue;c[2]&&(s.className=c[2].substr(1).replace("."," ")),a.push(c[1]),o.appendChild(s),o=s}return i}function Pt(t){for(var e=0;e<Rr.length;e++){var n=Rr[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function At(t){function e(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function n(t){if(!t||!t.length)return null;var r=t.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):i}return"ruby"===r.tagName?n(t):r.childNodes?(e(t,r),n(t)):void 0}var r,i=[],o="";if(!t||!t.childNodes)return"ltr";for(e(i,t);o=n(i);)for(var a=0;a<o.length;a++)if(r=o.charCodeAt(a),Pt(r))return"rtl";return"ltr"}function xt(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,i=0;i<n.length&&n[i]!==e;i++)"showing"===n[i].mode&&r++;return-1*++r}function jt(){}function Lt(t,e,n){jt.call(this),this.cue=e,this.cueDiv=Et(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:At(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(e.positionAlign){case"start":i=e.position;break;case"middle":i=e.position-e.size/2;break;case"end":i=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function It(t){var e,n,r,i;if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,i=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||r,this.lineHeight=void 0!==e?e:t.lineHeight}function Mt(t,e,n,r){var i=new It(e),o=e.cue,a=xt(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var c=i.lineHeight,l=c*Math.round(a),p=n[u]+c,d=s[0];Math.abs(l)>p&&(l=l<0?-1:1,l*=Math.ceil(p/c)*c),a<0&&(l+=""===o.vertical?n.height:n.width,s=s.reverse()),i.move(d,l)}else{var h=i.lineHeight/n.height*100;switch(o.lineAlign){case"middle":a-=h/2;break;case"end":a-=h}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new It(e)}var f=function(t,e){for(var i,o=new It(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(r);)t.move(e[s]);if(t.within(n))return t;var u=t.intersectPercentage(n);a>u&&(i=new It(t),a=u),t=new It(o)}return i||o}(i,s);e.move(f.toCSSCompatValues(n))}function Dt(){}function Rt(t){return"string"==typeof t&&(!!Br[t.toLowerCase()]&&t.toLowerCase())}function Ut(t){return"string"==typeof t&&(!!$r[t.toLowerCase()]&&t.toLowerCase())}function Nt(t,e,n){this.hasBeenReset=!1;var r="",i=!1,o=t,a=e,s=n,u=null,c="",l=!0,p="auto",d="start",h=50,f="middle",y=50,v="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(t){r=""+t}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(t){i=!!t}},startTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");o=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");a=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(t){s=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(t){u=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(t){var e=Rt(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");c=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return l},set:function(t){l=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(t){if("number"!=typeof t&&t!==Nr)throw new SyntaxError("An invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(t){var e=Ut(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return h},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");h=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(t){var e=Ut(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");f=e,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return y},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(t){var e=Ut(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}}}),this.displayState=void 0}function Bt(t){return"string"==typeof t&&(!!Vr[t.toLowerCase()]&&t.toLowerCase())}function $t(t){return"number"==typeof t&&t>=0&&t<=100}function Ft(){var t=100,e=3,n=0,r=100,i=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!$t(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(t){if(!$t(t))throw new Error("RegionAnchorX must be between 0 and 100.");r=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!$t(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!$t(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!$t(t))throw new Error("ViewportAnchorX must be between 0 and 100.");i=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){var e=Bt(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");a=e}}})}function Vt(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t.textTracks();i.kind=e,n&&(i.label=n),r&&(i.language=r),i.tech=t;var a=new xr.text.TrackClass(i);return o.addTrack(a),a}function Ht(t,e){Wr[t]=Wr[t]||[],Wr[t].push(e)}function qt(t,e,n){t.setTimeout(function(){return Zt(e,Wr[e.type],n,t)},1)}function zt(t,e){t.forEach(function(t){return t.setTech&&t.setTech(e)})}function Wt(t,e,n){return t.reduceRight(Yt(n),e[n]())}function Gt(t,e,n,r){return e[n](t.reduce(Yt(n),r))}function Xt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="call"+J(n),o=t.reduce(Yt(i),r),a=o===Xr,s=a?null:e[n](o);return Kt(t,n,s,a),s}function Yt(t){return function(e,n){return e===Xr?Xr:n[t]?n[t](e):e}}function Kt(t,e,n,r){for(var i=t.length-1;i>=0;i--){var o=t[i];o[e]&&o[e](r,n)}}function Qt(t){Gr[t.id()]=null}function Jt(t,e){var n=Gr[t.id()],r=null;if(void 0===n||null===n)return r=e(t),Gr[t.id()]=[[e,r]],r;for(var i=0;i<n.length;i++){var o=n[i],a=o[0],s=o[1];a===e&&(r=s)}return null===r&&(r=e(t),n.push([e,r])),r}function Zt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],r=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=e[0],u=e.slice(1);if("string"==typeof s)Zt(t,Wr[s],n,r,o,a);else if(s){var c=Jt(r,s);if(!c.setSource)return o.push(c),Zt(t,u,n,r,o,a);c.setSource(i({},t),function(e,i){if(e)return Zt(t,u,n,r,o,a);o.push(c),Zt(i,t.type===i.type?u:Wr[i.type],n,r,o,a)})}else u.length?Zt(t,u,n,r,o,a):a?n(t,o):Zt(t,Wr["*"],n,r,o,!0)}function te(t){var e=Zr(t.src);return!t.type&&e&&(t.type=e),t}function ee(t,e){var n=void 0;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function ne(t,e,n){try{t.style[e]=n}catch(t){return}}function re(t){hi=t}function ie(){hi=di}function oe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return hi(t,e)}function ae(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function se(t,e){return ae(t.options[t.options.selectedIndex].value,e)}function ue(t,e,n){if(e)for(var r=0;r<t.options.length;r++)if(ae(t.options[r].value,n)===e){t.selectedIndex=r;break}}function ce(t,e,n){var r=ce.getPlayer(t);if(r)return e&&Oe.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"==typeof t?Me("#"+Go(t)):t;if(!d(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");be.body.contains(i)||Oe.warn("The element supplied is not included in the DOM"),e=e||{},ce.hooks("beforesetup").forEach(function(t){var n=t(i,tt(e));if(!o(n)||Array.isArray(n))return void Oe.error("please return an object in beforesetup hooks");e=tt(e,n)});var a=cn.getComponent("Player");return r=new a(i,e,n),ce.hooks("setup").forEach(function(t){return t(r)}),r}var le,pe="7.2.2",de="undefined"!=typeof window?window:"undefined"!=typeof self?self:{};le="undefined"!=typeof window?window:void 0!==de?de:"undefined"!=typeof self?self:{};var he,fe=le,ye={},ve=Object.freeze({default:ye}),me=ve&&ye||ve,ge=void 0!==de?de:"undefined"!=typeof window?window:{};"undefined"!=typeof document?he=document:(he=ge["__GLOBAL_DOCUMENT_CACHE@4"])||(he=ge["__GLOBAL_DOCUMENT_CACHE@4"]=me);var be=he,_e=void 0,Te="info",we=[],Se=function(t,e){var n=_e.levels[Te],r=new RegExp("^("+n+")$");if("log"!==t&&e.unshift(t.toUpperCase()+":"),we&&we.push([].concat(e)),e.unshift("VIDEOJS:"),fe.console){var i=fe.console[t];i||"debug"!==t||(i=fe.console.info||fe.console.log),i&&n&&r.test(t)&&i[Array.isArray(e)?"apply":"call"](fe.console,e)}};_e=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];Se("log",e)},_e.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:Te},_e.level=function(t){if("string"==typeof t){if(!_e.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');Te=t}return Te},_e.history=function(){return we?[].concat(we):[]},_e.history.clear=function(){we&&(we.length=0)},_e.history.disable=function(){null!==we&&(we.length=0,we=null)},_e.history.enable=function(){null===we&&(we=[])},_e.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Se("error",e)},_e.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Se("warn",e)},_e.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Se("debug",e)};var Oe=_e,ke=function(t){for(var n="",r=0;r<arguments.length;r++)n+=e(t[r])+(arguments[r+1]||"");return n},Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Pe=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Ae=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},xe=function(t,e){return t.raw=e,t},je=Object.prototype.toString,Le=function(t){return o(t)?Object.keys(t):[]},Ie=xe(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),Me=f("querySelector"),De=f("querySelectorAll"),Re=Object.freeze({isReal:p,isEl:d,isInFrame:h,createEl:y,textContent:v,prependTo:m,hasClass:g,addClass:b,removeClass:_,toggleClass:T,setAttributes:w,getAttributes:S,getAttribute:O,setAttribute:k,removeAttribute:C,blockTextSelection:E,unblockTextSelection:P,getBoundingClientRect:A,findPosition:x,getPointerPosition:j,isTextNode:L,emptyEl:I,normalizeContent:M,appendContent:D,insertContent:R,isSingleLeftClick:U,$:Me,$$:De}),Ue=1,Ne={},Be="vdata"+(new Date).getTime(),$e=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){$e=!0}});fe.addEventListener("test",null,t),fe.removeEventListener("test",null,t)}catch(t){}}();var Fe=["touchstart","touchmove"],Ve=Object.freeze({fixEvent:q,on:z,off:W,trigger:G,one:X}),He=!1,qe=void 0,ze=function(){if(p()&&!1!==qe.options.autoSetup){var t=Array.prototype.slice.call(be.getElementsByTagName("video")),e=Array.prototype.slice.call(be.getElementsByTagName("audio")),n=Array.prototype.slice.call(be.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(var i=0,o=r.length;i<o;i++){var a=r[i];if(!a||!a.getAttribute){Y(1);break}if(void 0===a.player){var s=a.getAttribute("data-setup");null!==s&&qe(a)}}else He||Y(1)}};p()&&"complete"===be.readyState?He=!0:X(fe,"load",function(){He=!0});var We=function(t){var e=be.createElement("style");return e.className=t,e},Ge=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},Xe=function(t,e,n){e.guid||(e.guid=N());var r=function(){return e.apply(t,arguments)};return r.guid=n?n+"_"+e.guid:e.guid,r},Ye=function(t,e){var n=Date.now();return function(){var r=Date.now();r-n>=e&&(t.apply(void 0,arguments),n=r)}},Ke=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fe,i=void 0,o=function(){r.clearTimeout(i),i=null},a=function(){var o=this,a=arguments,s=function(){i=null,s=null,n||t.apply(o,a)};!i&&n&&t.apply(o,a),r.clearTimeout(i),i=r.setTimeout(s,e)};return a.cancel=o,a},Qe=function(){};Qe.prototype.allowedEvents_={},Qe.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},z(this,t,e),this.addEventListener=n},Qe.prototype.addEventListener=Qe.prototype.on,Qe.prototype.off=function(t,e){W(this,t,e)},Qe.prototype.removeEventListener=Qe.prototype.off,Qe.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},X(this,t,e),this.addEventListener=n},Qe.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=q(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),G(this,t)},Qe.prototype.dispatchEvent=Qe.prototype.trigger;var Je=void 0;Qe.prototype.queueTrigger=function(t){var e=this;Je||(Je=new Map);var n=t.type||t,r=Je.get(this);r||(r=new Map,Je.set(this,r));var i=r.get(n);r.delete(n),fe.clearTimeout(i);var o=fe.setTimeout(function(){0===r.size&&(r=null,Je.delete(e)),e.trigger(t)},0);r.set(n,o)};var Ze=function(t){return t instanceof Qe||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},tn=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},en=function(t){if(!t.nodeName&&!Ze(t))throw new Error("Invalid target; must be a DOM node or evented object.")},nn=function(t){if(!tn(t))throw new Error("Invalid event type; must be a non-empty string or array.")},rn=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},on=function(t,e){var n=e.length<3||e[0]===t||e[0]===t.eventBusEl_,r=void 0,i=void 0,o=void 0;return n?(r=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],o=e[1]):(r=e[0],i=e[1],o=e[2]),en(r),nn(i),rn(o),o=Xe(t,o),{isTargetingSelf:n,target:r,type:i,listener:o}},an=function(t,e,n,r){en(t),t.nodeName?Ve[e](t,n,r):t[e](n,r)},sn={on:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=on(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(an(a,"on",s,u),!o){var c=function(){return t.off(a,s,u)};c.guid=u.guid;var l=function(){return t.off("dispose",c)};l.guid=u.guid,an(this,"on","dispose",c),an(a,"on","dispose",l)}},one:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=on(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(o)an(a,"one",s,u);else{var c=function e(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t.off(a,s,e),u.apply(null,r)};c.guid=u.guid,an(a,"one",s,c)}},off:function(t,e,n){if(!t||tn(t))W(this.eventBusEl_,t,e);else{var r=t,i=e;en(r),nn(i),rn(n),n=Xe(this,n),this.off("dispose",n),r.nodeName?(W(r,i,n),W(r,"dispose",n)):Ze(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(t,e){return G(this.eventBusEl_,t,e)}},un={state:{},setState:function(t){var e=this;"function"==typeof t&&(t=t());var r=void 0;return n(t,function(t,n){e.state[n]!==t&&(r=r||{},r[n]={from:e.state[n],to:t}),e.state[n]=t}),r&&Ze(this)&&this.trigger({changes:r,type:"statechanged"}),r}},cn=function(){function t(e,n,r){if(Ee(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=tt({},this.options_),n=this.options_=tt(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+N()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),!1!==n.evented&&K(this,{eventBusKey:this.el_?"el_":null}),Q(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(r),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),F(this.el_),this.el_=null),this.player_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return Oe.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=tt(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,n){return y(t,e,n)},t.prototype.localize=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],a=r&&r.split("-")[0],s=i&&i[a],u=n;return o&&o[t]?u=o[t]:s&&s[t]&&(u=s[t]),e&&(u=u.replace(/\{(\d+)\}/g,function(t,n){var r=e[n-1],i=r;return void 0===r&&(i=t),i})),u},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=J(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof e){o=J(e);var a=n.componentClass||o;n.name=o;var s=t.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=e;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&J(i.name()),o&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var u=this.contentEl().children,c=u[r]||null;this.contentEl().insertBefore(i.el(),c)}return i},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,n=this.options_.children;if(n){var r=this.options_,i=function(t){var n=t.name,i=t.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var o=e.addChild(n,i);o&&(e[n]=o)}},o=void 0,a=t.getComponent("Tech");o=Array.isArray(n)?n:Object.keys(n),o.concat(Object.keys(this.options_).filter(function(t){return!o.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var r=void 0,i=void 0;return"string"==typeof t?(r=t,i=n[r]||e.options_[r]||{}):(r=t.name,i=t),{name:r,opts:i}}).filter(function(e){var n=t.getComponent(e.opts.componentClass||J(e.name));return n&&!a.isTech(n)}).forEach(i)}},t.prototype.buildCSSClass=function(){return""},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,e){return Me(t,e||this.contentEl())},t.prototype.$$=function(t,e){return De(t,e||this.contentEl())},t.prototype.hasClass=function(t){return g(this.el_,t)},t.prototype.addClass=function(t){b(this.el_,t)},t.prototype.removeClass=function(t){_(this.el_,t)},t.prototype.toggleClass=function(t,e){T(this.el_,t,e)},t.prototype.show=function(){this.removeClass("vjs-hidden")},t.prototype.hide=function(){this.addClass("vjs-hidden")},t.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},t.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.prototype.getAttribute=function(t){return O(this.el_,t)},t.prototype.setAttribute=function(t,e){k(this.el_,t,e)},t.prototype.removeAttribute=function(t){C(this.el_,t)},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},t.prototype.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e===e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[t],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+J(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof fe.getComputedStyle){var n=fe.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(0===(e=parseFloat(e))){var r="offset"+J(t);e=this.el_[r]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,n=void 0;this.on("touchstart",function(r){1===r.touches.length&&(e={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=(new Date).getTime(),n=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)n=!1;else if(e){var r=t.touches[0].pageX-e.pageX,i=t.touches[0].pageY-e.pageY,o=Math.sqrt(r*r+i*i);o>10&&(n=!1)}});var r=function(){n=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(r){if(e=null,!0===n){(new Date).getTime()-t<200&&(r.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=Xe(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.prototype.setTimeout=function(t,e){var n,r,i=this;return t=Xe(this,t),n=fe.setTimeout(function(){i.off("dispose",r),t()},e),r=function(){return i.clearTimeout(n)},r.guid="vjs-timeout-"+n,this.on("dispose",r),n},t.prototype.clearTimeout=function(t){fe.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){var n=this;t=Xe(this,t);var r=fe.setInterval(t,e),i=function(){return n.clearInterval(r)};return i.guid="vjs-interval-"+r,this.on("dispose",i),r},t.prototype.clearInterval=function(t){fe.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.prototype.requestAnimationFrame=function(t){var e,n,r=this;return this.supportsRaf_?(t=Xe(this,t),e=fe.requestAnimationFrame(function(){r.off("dispose",n),t()}),n=function(){return r.cancelAnimationFrame(e)},n.guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},t.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){fe.cancelAnimationFrame(t);var e=function(){};return e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,n){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var r=t.getComponent("Tech"),i=r&&r.isTech(n),o=t===n||t.prototype.isPrototypeOf(n.prototype);if(i||!o){var a=void 0;throw a=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+a+".")}e=J(e),t.components_||(t.components_={});var s=t.getComponent("Player");if("Player"===e&&s&&s.players){var u=s.players,c=Object.keys(u);if(u&&c.length>0&&c.map(function(t){return u[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,n},t.getComponent=function(e){if(e)return e=J(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();cn.prototype.supportsRaf_="function"==typeof fe.requestAnimationFrame&&"function"==typeof fe.cancelAnimationFrame,cn.registerComponent("Component",cn);for(var ln=fe.navigator&&fe.navigator.userAgent||"",pn=/AppleWebKit\/([\d.]+)/i.exec(ln),dn=pn?parseFloat(pn.pop()):null,hn=/iPad/i.test(ln),fn=/iPhone/i.test(ln)&&!hn,yn=/iPod/i.test(ln),vn=fn||hn||yn,mn=function(){var t=ln.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),gn=/Android/i.test(ln),bn=function(){var t=ln.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),_n=gn&&bn<5&&dn<537,Tn=/Firefox/i.test(ln),wn=/Edge/i.test(ln),Sn=!wn&&(/Chrome/i.test(ln)||/CriOS/i.test(ln)),On=function(){var t=ln.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),kn=function(){var t=/MSIE\s(\d+)\.\d/.exec(ln),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(ln)&&/rv:11.0/.test(ln)&&(e=11),e}(),Cn=/Safari/i.test(ln)&&!Sn&&!gn&&!wn,En=(Cn||vn)&&!Sn,Pn=(p()&&("ontouchstart"in fe||fe.navigator.maxTouchPoints||fe.DocumentTouch&&fe.document instanceof fe.DocumentTouch)),An=Object.freeze({IS_IPAD:hn,IS_IPHONE:fn,IS_IPOD:yn,IS_IOS:vn,IOS_VERSION:mn,IS_ANDROID:gn,ANDROID_VERSION:bn,IS_NATIVE_ANDROID:_n,IS_FIREFOX:Tn,IS_EDGE:wn,IS_CHROME:Sn,CHROME_VERSION:On,IE_VERSION:kn,IS_SAFARI:Cn,IS_ANY_SAFARI:En,TOUCH_ENABLED:Pn}),xn={},jn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ln=jn[0],In=void 0,Mn=0;Mn<jn.length;Mn++)if(jn[Mn][1]in be){In=jn[Mn];break}if(In)for(var Dn=0;Dn<In.length;Dn++)xn[Ln[Dn]]=In[Dn];at.prototype.code=0,at.prototype.message="",at.prototype.status=null,at.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],at.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Rn=0;Rn<at.errorTypes.length;Rn++)at[at.errorTypes[Rn]]=Rn,at.prototype[at.errorTypes[Rn]]=Rn;var Un=st,Nn=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,n,r){return t[n]&&(e[n]=t[n]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},Bn=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=Nn(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(Nn))},$n=function(t,e){return t.forEach(function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return n.addCue(t)})}),e.textTracks()},Fn={textTracksToJson:Bn,jsonToTextTracks:$n,trackToJson_:Nn},Vn="vjs-modal-dialog",Hn=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=y("div",{className:Vn+"-content"},{role:"document"}),i.descEl_=y("p",{className:Vn+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),v(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return Vn+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},e.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Xe(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Xe(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.prototype.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},e.prototype.fill=function(){this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,r=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),R(e,t),this.trigger("modalfill"),r?n.insertBefore(e,r):n.appendChild(e);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},e.prototype.empty=function(){this.trigger("beforemodalempty"),I(this.contentEl()),this.trigger("modalempty")},e.prototype.content=function(t){return void 0!==t&&(this.content_=t),this.content_},e.prototype.conditionalFocus_=function(){var t=be.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(be,"keydown",this.handleKeyDown))},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(be,"keydown",this.handleKeyDown)},e.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=void 0,i=0;i<e.length;i++)if(n===e[i]){r=i;break}be.activeElement===this.el_&&(r=0),t.shiftKey&&0===r?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||r!==e.length-1||(e[0].focus(),t.preventDefault())}},e.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof fe.HTMLAnchorElement||t instanceof fe.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof fe.HTMLInputElement||t instanceof fe.HTMLSelectElement||t instanceof fe.HTMLTextAreaElement||t instanceof fe.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof fe.HTMLIFrameElement||t instanceof fe.HTMLObjectElement||t instanceof fe.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},e}(cn);Hn.prototype.options_={pauseOnOpen:!0,temporary:!0},cn.registerComponent("ModalDialog",Hn);var qn=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ee(this,e);var r=Ae(this,t.call(this));r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var i=0;i<n.length;i++)r.addTrack(n[i]);return r}return Pe(e,t),e.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack=function(t){for(var e=void 0,n=0,r=this.length;n<r;n++)if(this[n]===t){e=this[n],e.off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===t){e=i;break}}return e},e}(Qe);qn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var zn in qn.prototype.allowedEvents_)qn.prototype["on"+zn]=null;var Wn=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},Gn=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ee(this,e);for(var r=n.length-1;r>=0;r--)if(n[r].enabled){Wn(n,n[r]);break}var i=Ae(this,t.call(this,n));return i.changing_=!1,i}return Pe(e,t),e.prototype.addTrack=function(e){var n=this;e.enabled&&Wn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,Wn(n,e),n.changing_=!1,n.trigger("change"))})},e}(qn),Xn=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},Yn=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ee(this,e);for(var r=n.length-1;r>=0;r--)if(n[r].selected){Xn(n,n[r]);break}var i=Ae(this,t.call(this,n));return i.changing_=!1,Object.defineProperty(i,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),i}return Pe(e,t),e.prototype.addTrack=function(e){var n=this;e.selected&&Xn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,Xn(n,e),n.changing_=!1,n.trigger("change"))})},e}(qn),Kn=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.addTrack=function(e){t.prototype.addTrack.call(this,e),e.addEventListener("modechange",Xe(this,function(){this.queueTrigger("change")})),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",Xe(this,function(){this.trigger("selectedlanguagechange")}))},e}(qn),Qn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ee(this,t),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var n=0,r=e.length;n<r;n++)this.addTrackElement_(e[n])}return t.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}(),Jn=function(){function t(e){Ee(this,t),t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}return t.prototype.setCues_=function(t){var e=this.length||0,n=0,r=t.length;this.cues_=t,this.length_=t.length;var i=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<r)for(n=e;n<r;n++)i.call(this,n)},t.prototype.getCueById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===t){e=i;break}}return e},t}(),Zn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},tr={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},er={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},nr={disabled:"disabled",hidden:"hidden",showing:"showing"},rr=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ee(this,e);var r=Ae(this,t.call(this)),i={id:n.id||"vjs_track_"+N(),kind:n.kind||"",label:n.label||"",language:n.language||""};for(var o in i)!function(t){Object.defineProperty(r,t,{get:function(){return i[t]},set:function(){}})}(o);return r}return Pe(e,t),e}(Qe),ir=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=be.createElement("a");n.href=t;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&(i=be.createElement("div"),i.innerHTML='<a href="'+t+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),be.body.appendChild(i));for(var o={},a=0;a<e.length;a++)o[e[a]]=n[e[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=fe.location.protocol),r&&be.body.removeChild(i),o},or=function(t){if(!t.match(/^https?:\/\//)){var e=be.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},ar=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=e.exec(t);if(n)return n.pop().toLowerCase()}return""},sr=function(t){var e=fe.location,n=ir(t);return(":"===n.protocol?e.protocol:n.protocol)+n.host!==e.protocol+e.host},ur=Object.freeze({parseUrl:ir,getAbsoluteURL:or,getFileExtension:ar,isCrossOrigin:sr}),cr=lt,lr=Object.prototype.toString,pr=t(function(t,e){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}),dr=(pr.left,pr.right,pt),hr=Object.prototype.toString,fr=Object.prototype.hasOwnProperty,yr=function(t){return"[object Array]"===Object.prototype.toString.call(t)},vr=function(t){if(!t)return{};var e={};return dr(pr(t).split("\n"),function(t){var n=t.indexOf(":"),r=pr(t.slice(0,n)).toLowerCase(),i=pr(t.slice(n+1));void 0===e[r]?e[r]=i:yr(e[r])?e[r].push(i):e[r]=[e[r],i]}),e},mr=yt,gr=Object.prototype.hasOwnProperty,br=gt;gt.XMLHttpRequest=fe.XMLHttpRequest||Tt,gt.XDomainRequest="withCredentials"in new gt.XMLHttpRequest?gt.XMLHttpRequest:fe.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(t){gt["delete"===t?"del":t]=function(e,n,r){return n=mt(e,n,r),n.method=t.toUpperCase(),bt(n)}});var _r=function(t,e){var n=new fe.WebVTT.Parser(fe,fe.vttjs,fe.WebVTT.StringDecoder()),r=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){r.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),r.length>0&&(fe.console&&fe.console.groupCollapsed&&fe.console.groupCollapsed("Text Track parsing errors for "+e.src),r.forEach(function(t){return Oe.error(t)}),fe.console&&fe.console.groupEnd&&fe.console.groupEnd()),n.flush()},Tr=function(t,e){var n={uri:t},r=sr(t);r&&(n.cors=r),br(n,Xe(this,function(t,n,r){if(t)return Oe.error(t,n);if(e.loaded_=!0,"function"!=typeof fe.WebVTT){if(e.tech_){var i=function(){return _r(r,e)};e.tech_.on("vttjsloaded",i),e.tech_.on("vttjserror",function(){Oe.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",i)})}}else _r(r,e)}))},wr=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Ee(this,e),!n.tech)throw new Error("A tech was not provided.");var r=tt(n,{kind:er[n.kind]||"subtitles",language:n.language||n.srclang||""}),i=nr[r.mode]||"disabled",o=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden");var a=Ae(this,t.call(this,r));a.tech_=r.tech,a.cues_=[],a.activeCues_=[];var s=new Jn(a.cues_),u=new Jn(a.activeCues_),c=!1,l=Xe(a,function(){this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1)});return"disabled"!==i&&a.tech_.ready(function(){a.tech_.on("timeupdate",l)},!0),Object.defineProperties(a,{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(t){var e=this;nr[t]&&(i=t,"showing"===i&&this.tech_.ready(function(){e.tech_.on("timeupdate",l)},!0),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return u;for(var t=this.tech_.currentTime(),e=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=t&&i.endTime>=t?e.push(i):i.startTime===i.endTime&&i.startTime<=t&&i.startTime+.5>=t&&e.push(i)}if(c=!1,e.length!==this.activeCues_.length)c=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(c=!0);return this.activeCues_=e,u.setCues_(this.activeCues_),u},set:function(){}}}),r.src?(a.src=r.src,Tr(r.src,a)):a.loaded_=!0,a}return Pe(e,t),e.prototype.addCue=function(t){var e=t;if(fe.vttjs&&!(t instanceof fe.vttjs.VTTCue)){e=new fe.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var n in t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(rr);wr.prototype.allowedEvents_={cuechange:"cuechange"};var Sr=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ee(this,e);var r=tt(n,{kind:tr[n.kind]||""}),i=Ae(this,t.call(this,r)),o=!1;return Object.defineProperty(i,"enabled",{get:function(){return o},set:function(t){"boolean"==typeof t&&t!==o&&(o=t,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return Pe(e,t),e}(rr),Or=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ee(this,e);var r=tt(n,{kind:Zn[n.kind]||""}),i=Ae(this,t.call(this,r)),o=!1;return Object.defineProperty(i,"selected",{get:function(){return o},set:function(t){"boolean"==typeof t&&t!==o&&(o=t,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return Pe(e,t),e}(rr),kr=0,Cr=2,Er=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ee(this,e);var r=Ae(this,t.call(this)),i=void 0,o=new wr(n);return r.kind=o.kind,r.src=o.src,r.srclang=o.language,r.label=o.label,r.default=o.default,Object.defineProperties(r,{readyState:{get:function(){return i}},track:{get:function(){return o}}}),i=kr,o.addEventListener("loadeddata",function(){i=Cr,r.trigger({type:"load",target:r})}),r}return Pe(e,t),e}(Qe);Er.prototype.allowedEvents_={load:"load"},Er.NONE=kr,Er.LOADING=1,Er.LOADED=Cr,Er.ERROR=3;var Pr={audio:{ListClass:Gn,TrackClass:Sr,capitalName:"Audio"},video:{ListClass:Yn,TrackClass:Or,capitalName:"Video"},text:{ListClass:Kn,TrackClass:wr,capitalName:"Text"}};Object.keys(Pr).forEach(function(t){Pr[t].getterName=t+"Tracks",Pr[t].privateName=t+"Tracks_"});var Ar={remoteText:{ListClass:Kn,TrackClass:wr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Qn,TrackClass:Er,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},xr=tt(Pr,Ar);Ar.names=Object.keys(Ar),Pr.names=Object.keys(Pr),xr.names=[].concat(Ar.names).concat(Pr.names);var jr=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();wt.prototype=jr(Error.prototype),wt.prototype.constructor=wt,wt.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Ot.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Lr={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},Ir={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Mr={v:"title",lang:"lang"},Dr={rt:"ruby"},Rr=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];jt.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},jt.prototype.formatStyle=function(t,e){return 0===t?0:t+e},Lt.prototype=jr(jt.prototype),Lt.prototype.constructor=Lt,It.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},It.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},It.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},It.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},It.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},It.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},It.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},It.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t,{left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n}},Dt.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},Dt.convertCueToDOMTree=function(t,e){return t&&e?Et(t,e):null};Dt.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var i=[],o=It.getSimpleBoxPosition(r),a=Math.round(.05*o.height*100)/100,s={font:a+"px sans-serif"};!function(){for(var n,a,u=0;u<e.length;u++)a=e[u],n=new Lt(t,a,s),r.appendChild(n.div),Mt(t,n,o,i),a.displayState=n.div,i.push(It.getSimpleBoxPosition(n))}()}else for(var u=0;u<e.length;u++)r.appendChild(e[u].displayState)},Dt.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},Dt.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof wt))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){function e(){for(var t=i.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,i.buffer=t.substr(e),n}function n(t){var e=new Ot;if(kt(t,function(t,n){switch(t){case"id":e.set(t,n);break;case"width":e.percent(t,n);break;case"lines":e.integer(t,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var i=new Ot;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;e.set(t+"X",i.get("x")),e.set(t+"Y",i.get("y"));break;case"scroll":e.alt(t,n,["up"])}},/=/,/\s/),e.has("id")){var n=new(i.vttjs.VTTRegion||i.window.VTTRegion);n.width=e.get("width",100),n.lines=e.get("lines",3),n.regionAnchorX=e.get("regionanchorX",0),n.regionAnchorY=e.get("regionanchorY",100),n.viewportAnchorX=e.get("viewportanchorX",0),n.viewportAnchorY=e.get("viewportanchorY",100),n.scroll=e.get("scroll",""),i.onregion&&i.onregion(n),i.regionList.push({id:e.get("id"),region:n})}}function r(t){var e=new Ot;kt(t,function(t,n){switch(t){case"MPEGT":e.integer(t+"S",n);break;case"LOCA":e.set(t+"L",St(n))}},/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:e.get("MPEGTS"),LOCAL:e.get("LOCAL")})}var i=this;t&&(i.buffer+=i.decoder.decode(t,{stream:!0}));try{var o;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;o=e();var a=o.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new wt(wt.Errors.BadSignature);i.state="HEADER"}for(var s=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(s?s=!1:o=e(),i.state){case"HEADER":/:/.test(o)?function(t){t.match(/X-TIMESTAMP-MAP/)?kt(t,function(t,e){switch(t){case"X-TIMESTAMP-MAP":r(e)}},/=/):kt(t,function(t,e){switch(t){case"Region":n(e)}},/:/)}(o):o||(i.state="ID");continue;case"NOTE":o||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){i.state="NOTE";break}if(!o)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===o.indexOf("--\x3e")){i.cue.id=o;continue}case"CUE":try{Ct(o,i.cue,i.regionList)}catch(t){i.reportOrThrowError(t),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var u=-1!==o.indexOf("--\x3e");if(!o||u&&(s=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=o;continue;case"BADCUE":o||(i.state="ID");continue}}}catch(t){i.reportOrThrowError(t),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new wt(wt.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Ur=Dt,Nr="auto",Br={"":1,lr:1,rl:1},$r={start:1,middle:1,end:1,left:1,right:1};Nt.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Fr=Nt,Vr={"":!0,up:!0},Hr=Ft,qr=t(function(t){var e=t.exports={WebVTT:Ur,VTTCue:Fr,VTTRegion:Hr};fe.vttjs=e,fe.WebVTT=e.WebVTT;var n=e.VTTCue,r=e.VTTRegion,i=fe.VTTCue,o=fe.VTTRegion;e.shim=function(){fe.VTTCue=n,fe.VTTRegion=r},e.restore=function(){fe.VTTCue=i,fe.VTTRegion=o},fe.VTTCue||e.shim()}),zr=(qr.WebVTT,qr.VTTCue,qr.VTTRegion,function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Ee(this,e),n.reportTouchActivity=!1;var i=Ae(this,t.call(this,null,n,r));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),xr.names.forEach(function(t){var e=xr[t];n&&n[e.getterName]&&(i[e.privateName]=n[e.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===n["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new xr.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return Pe(e,t),e.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Xe(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},e.prototype.onDurationChange=function(t){this.duration_=this.duration()},e.prototype.buffered=function(){return it(0,0)},e.prototype.bufferedPercent=function(){return ot(this.buffered(),this.duration_)},e.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){this.clearTracks(Pr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach(function(t){for(var n=e[t+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===t&&e.removeRemoteTextTrack(i),n.removeTrack(i)}})},e.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},e.prototype.reset=function(){},e.prototype.error=function(t){return void 0!==t&&(this.error_=new at(t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?it(0,0):it()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.initTrackListeners=function(){var t=this;Pr.names.forEach(function(e){var n=Pr[e],r=function(){t.trigger(e+"trackchange")},i=t[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),t.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})},e.prototype.addWebVttScript_=function(){var t=this;if(!fe.WebVTT)if(be.body.contains(this.el())){if(!this.options_["vtt.js"]&&a(qr)&&Object.keys(qr).length>0)return void this.trigger("vttjsloaded");var e=be.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),fe.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},e.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),r=function(t){return e.addTrack(t.track)},i=function(t){return e.removeTrack(t.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return t.trigger("texttrackchange")},a=function(){o();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++){e[t].removeEventListener("cuechange",o)}})},e.prototype.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return Vt(this,t,e,n)},e.prototype.createRemoteTextTrack=function(t){var e=tt(t,{tech:this});return new Ar.remoteTextEl.TrackClass(e)},e.prototype.addRemoteTextTrack=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=this.createRemoteTextTrack(e);return!0!==n&&!1!==n&&(Oe.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==n&&this.ready(function(){return t.autoRemoteTextTracks_.addTrack(r.track)}),r},e.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},e.prototype.getVideoPlaybackQuality=function(){return{}},e.prototype.setPoster=function(){},e.prototype.playsinline=function(){},e.prototype.setPlaysinline=function(){},e.prototype.overrideNativeAudioTracks=function(){},e.prototype.overrideNativeVideoTracks=function(){},e.prototype.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=J(t),e.techs_[t]=n,"Tech"!==t&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(t)return t=J(t),e.techs_&&e.techs_[t]?e.techs_[t]:fe&&fe.videojs&&fe.videojs[t]?(Oe.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),fe.videojs[t]):void 0},e}(cn));xr.names.forEach(function(t){var e=xr[t];zr.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),zr.prototype.featuresVolumeControl=!0,zr.prototype.featuresMuteControl=!0,zr.prototype.featuresFullscreenResize=!1,zr.prototype.featuresPlaybackRate=!1,zr.prototype.featuresProgressEvents=!1,zr.prototype.featuresSourceset=!1,zr.prototype.featuresTimeupdateEvents=!1,zr.prototype.featuresNativeTextTracks=!1,zr.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,e)},t.canPlayType=function(e){for(var n=t.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(e))return r;return""},t.selectSourceHandler=function(e,n){for(var r=t.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(e,n))return r[i];return null},t.canPlaySource=function(e,n){var r=t.selectSourceHandler(e,n);return r?r.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:Oe.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},cn.registerComponent("Tech",zr),zr.registerTech("Tech",zr),zr.defaultTechOrder_=[];var Wr={},Gr={},Xr={},Yr={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Kr={setCurrentTime:1},Qr={play:1,pause:1},Jr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Zr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=ar(t);return Jr[e.toLowerCase()]||""},ti=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter(function(t){return t.src===e});if(n.length)return n[0].type;for(var r=t.$$("source"),i=0;i<r.length;i++){var o=r[i];if(o.type&&o.src&&o.src===e)return o.type}return Zr(e)},ei=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(e){e=t(e),Array.isArray(e)?n=n.concat(e):o(e)&&n.push(e)}),e=n}else e="string"==typeof e&&e.trim()?[te({src:e})]:o(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[te(e)]:[];return e},ni=function(t){function e(n,r,i){Ee(this,e);var o=tt({createEl:!1},r),a=Ae(this,t.call(this,n,o,i));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var s=0,u=r.playerOptions.techOrder;s<u.length;s++){var c=J(u[s]),l=zr.getTech(c);if(c||(l=cn.getComponent(c)),l&&l.isSupported()){n.loadTech_(c);break}}return a}return Pe(e,t),e}(cn);cn.registerComponent("MediaLoader",ni);var ri=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.emitTapEvents(),i.enable(),i}return Pe(e,t),e.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=i({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&Oe.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),r=i({role:"button"},r),this.tabIndex_=n.tabIndex;var o=t.prototype.createEl.call(this,e,n,r);return this.createControlTextEl(o),o},e.prototype.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=y("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,v(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},e.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},e.prototype.handleClick=function(t){},e.prototype.handleFocus=function(t){z(be,"keydown",Xe(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(t){W(be,"keydown",Xe(this,this.handleKeyPress))},e}(cn);cn.registerComponent("ClickableComponent",ri);var ii=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.update(),n.on("posterchange",Xe(i,i.update)),i}return Pe(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){return y("div",{className:"vjs-poster",tabIndex:-1})},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?ct(this.player_.play()):this.player_.pause())},e}(ri);cn.registerComponent("PosterImage",ii);var oi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},ai=function(t){function e(n,r,i){Ee(this,e);var o=Ae(this,t.call(this,n,r,i));return n.on("loadstart",Xe(o,o.toggleDisplay)),n.on("texttrackchange",Xe(o,o.updateDisplay)),n.on("loadstart",Xe(o,o.preselectTrack)),n.ready(Xe(o,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",Xe(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()})),o}return Pe(e,t),e.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,r=void 0,i=void 0,o=void 0,a=0;a<e.length;a++){var s=e[a];n&&n.enabled&&n.language===s.language?s.kind===n.kind?o=s:o||(o=s):n&&!n.enabled?(o=null,r=null,i=null):s.default&&("descriptions"!==s.kind||r?s.kind in t&&!i&&(i=s):r=s)}o?o.mode="showing":i?i.mode="showing":r&&(r.mode="showing")},e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"==typeof fe.WebVTT&&fe.WebVTT.processCues(fe,[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();for(var e=null,n=null,r=t.length;r--;){var i=t[r];"showing"===i.mode&&("descriptions"===i.kind?e=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},e.prototype.updateForTrack=function(t){if("function"==typeof fe.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(fe.WebVTT.processCues(fe,e,this.el_),this.player_.textTrackSettings)for(var r=this.player_.textTrackSettings.getValues(),i=e.length;i--;){var o=e[i];if(o){var a=o.displayState;if(r.color&&(a.firstChild.style.color=r.color),r.textOpacity&&ne(a.firstChild,"color",ee(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(a.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&ne(a.firstChild,"backgroundColor",ee(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?ne(a,"backgroundColor",ee(r.windowColor,r.windowOpacity)):a.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===r.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===r.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===r.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),r.fontPercent&&1!==r.fontPercent){var s=fe.parseFloat(a.style.fontSize);a.style.fontSize=s*r.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=oi[r.fontFamily])}}}},e}(cn);cn.registerComponent("TextTrackDisplay",ai);var si=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),r=y("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),i=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},e}(cn);cn.registerComponent("LoadingSpinner",si);var ui=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.createEl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t="button",e=i({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=i({type:"button"},n);var r=cn.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(r),r},e.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return Oe.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),cn.prototype.addChild.call(this,t,e)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(ri);cn.registerComponent("Button",ui);var ci=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)return void ct(e);var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(!r)return void this.player_.focus();var i=function(){return r.focus()};ut(e)?e.then(i,function(){}):this.setTimeout(i,1)},e.prototype.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},e.prototype.handleMouseDown=function(t){this.mouseused_=!0},e}(ui);ci.prototype.controlText_="Play Video",cn.registerComponent("BigPlayButton",ci);var li=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.controlText(r&&r.controlText||i.localize("Close")),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(ui);cn.registerComponent("CloseButton",li);var pi=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.on(n,"play",i.handlePlay),i.on(n,"pause",i.handlePause),i.on(n,"ended",i.handleEnded),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(ui);pi.prototype.controlText_="Play",cn.registerComponent("PlayToggle",pi);var di=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||o>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n},hi=di,fi=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.throttledUpdateContent=Ye(Xe(i,i.updateContent),25),i.on(n,"timeupdate",i.throttledUpdateContent),i}return Pe(e,t),e.prototype.createEl=function(e){var n=this.buildCSSClass(),r=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=y("span",{className:n+"-display"},{"aria-live":"off"}),this.updateTextNode_(),r.appendChild(this.contentEl_),r},e.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},e.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=be.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},e.prototype.formatTime_=function(t){return oe(t)},e.prototype.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},e.prototype.updateContent=function(t){},e}(cn);fi.prototype.labelText_="Time",fi.prototype.controlText_="Time",cn.registerComponent("TimeDisplay",fi);var yi=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.on(n,"ended",i.handleEnded),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-current-time"},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(fi);yi.prototype.labelText_="Current Time",yi.prototype.controlText_="Current Time",cn.registerComponent("CurrentTimeDisplay",yi);var vi=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.on(n,"durationchange",i.updateContent),i.on(n,"loadedmetadata",i.throttledUpdateContent),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-duration"},e.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(fi);vi.prototype.labelText_="Duration",vi.prototype.controlText_="Duration",cn.registerComponent("DurationDisplay",vi);var mi=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(cn);cn.registerComponent("TimeDivider",mi);var gi=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.on(n,"durationchange",i.throttledUpdateContent),i.on(n,"ended",i.handleEnded),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-remaining-time"},e.prototype.formatTime_=function(e){return"-"+t.prototype.formatTime_.call(this,e)},e.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(fi);gi.prototype.labelText_="Remaining Time",gi.prototype.controlText_="Remaining Time",cn.registerComponent("RemainingTimeDisplay",gi);var bi=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return Pe(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=y("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(cn);cn.registerComponent("LiveDisplay",bi);var _i=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}return Pe(e,t),e.prototype.enabled=function(){return this.enabled_},e.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.prototype.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.prototype.createEl=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=i({tabIndex:0},n),r=i({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),t.prototype.createEl.call(this,e,n,r)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Sn||t.preventDefault(),E(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(t){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;P(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!==t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",r=e.el().style;return this.vertical()?r.height=n:r.width=n,t}}},e.prototype.calculateDistance=function(t){var e=j(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(cn);cn.registerComponent("Slider",_i);var Ti=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.partEls_=[],i.on(n,"progress",i.update),i}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},e.prototype.update=function(t){var e=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_,o=function(t,e){var n=t/e||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=o(r,n);for(var a=0;a<e.length;a++){var s=e.start(a),u=e.end(a),c=i[a];c||(c=this.el_.appendChild(y()),i[a]=c),c.style.left=o(s,r),c.style.width=o(u-s,r)}for(var l=i.length;l>e.length;l--)this.el_.removeChild(i[l-1]);i.length=e.length},e}(cn);cn.registerComponent("LoadProgressBar",Ti);var wi=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},e.prototype.update=function(t,e,n){var r=A(this.el_),i=A(this.player_.el()),o=t.width*e;if(i&&r){var a=t.left-i.left+o,s=t.width-o+(i.right-t.right),u=r.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right="-"+u+"px",v(this.el_,n)}},e}(cn);cn.registerComponent("TimeTooltip",wi);var Si=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),i=oe(r,n.player_.duration()),o=n.getChild("timeTooltip");o&&o.update(t,e,i)})},e}(cn);Si.prototype.options_={children:[]},vn||gn||Si.prototype.options_.children.push("timeTooltip"),cn.registerComponent("PlayProgressBar",Si);var Oi=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.update=Ye(Xe(i,i.update),25),i}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=n.player_.duration(),i=oe(e*r,r);n.el_.style.left=t.width*e+"px",n.getChild("timeTooltip").update(t,e,i)})},e}(cn);Oi.prototype.options_={children:["timeTooltip"]},cn.registerComponent("MouseTimeDisplay",Oi);var ki=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.setEventHandlers_(),i}return Pe(e,t),e.prototype.setEventHandlers_=function(){var t=this;this.update=Ye(Xe(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.prototype.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[oe(t,n),oe(n,n)],"{1} of {2}")),this.bar.update(A(this.el_),e)},e.prototype.update=function(e){var n=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n},e.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},e.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return t>=1?1:t||0},e.prototype.handleMouseDown=function(e){U(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},e.prototype.handleMouseMove=function(t){if(U(t)){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)}},e.prototype.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},e.prototype.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&ct(this.player_.play())},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(_i);ki.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},vn||gn||ki.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ki.prototype.playerEvent="timeupdate",cn.registerComponent("SeekBar",ki);var Ci=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.handleMouseMove=Ye(Xe(i,i.handleMouseMove),25),i.throttledHandleMouseSeek=Ye(Xe(i,i.handleMouseSeek),25),i.enable(),i}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("mouseTimeDisplay"),r=e.el(),i=A(r),o=j(r,t).x;o>1?o=1:o<0&&(o=0),n&&n.update(i,o)}},e.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},e.prototype.enabled=function(){return this.enabled_},e.prototype.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},e.prototype.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(cn);Ci.prototype.options_={children:["seekBar"]},cn.registerComponent("ProgressControl",Ci);var Ei=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.on(n,"fullscreenchange",i.handleFullscreenChange),!1===be[xn.fullscreenEnabled]&&i.disable(),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(ui);Ei.prototype.controlText_="Fullscreen",cn.registerComponent("FullscreenToggle",Ei);var Pi=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Ai=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(cn);cn.registerComponent("VolumeLevel",Ai);var xi=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.on("slideractive",i.updateLastVolume_),i.on(n,"volumechange",i.updateARIAAttributes),n.ready(function(){return i.updateARIAAttributes()}),i}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.prototype.handleMouseDown=function(e){U(e)&&t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(t){U(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(_i);xi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},xi.prototype.playerEvent="volumechange",cn.registerComponent("VolumeBar",xi);var ji=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ee(this,e),r.vertical=r.vertical||!1,(void 0===r.volumeBar||a(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical);var i=Ae(this,t.call(this,n,r));return Pi(i,n),i.throttledHandleMouseMove=Ye(Xe(i,i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}return Pe(e,t),e.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(cn);ji.prototype.options_={children:["volumeBar"]},cn.registerComponent("VolumeControl",ji);var Li=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Ii=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return Li(i,n),i.on(n,["loadstart","volumechange"],i.update),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},e.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;vn&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)_(this.el_,"vjs-vol-"+n);b(this.el_,"vjs-vol-"+e)},e.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(ui);Ii.prototype.controlText_="Mute",cn.registerComponent("MuteToggle",Ii);var Mi=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ee(this,e),void 0!==r.inline?r.inline=r.inline:r.inline=!0,(void 0===r.volumeControl||a(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline);var i=Ae(this,t.call(this,n,r));return i.on(n,["loadstart"],i.volumePanelState_),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}return Pe(e,t),e.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},e.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(cn);Mi.prototype.options_={children:["muteToggle","volumeControl"]},cn.registerComponent("VolumePanel",Mi);var Di=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return r&&(i.menuButton_=r.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return Pe(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",Xe(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=y(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),z(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(cn);cn.registerComponent("Menu",Di);var Ri=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ee(this,e);var i=Ae(this,t.call(this,n,r));i.menuButton_=new ui(n,r),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var o=ui.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+o,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on("keydown",i.handleSubmenuKeyPress),i}return Pe(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new Di(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=y("li",{className:"vjs-menu-title",innerHTML:J(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),m(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+ui.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",Xe(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.focus=function(){this.menuButton_.focus()},e.prototype.blur=function(){this.menuButton_.blur()},e.prototype.handleFocus=function(){z(be,"keydown",Xe(this,this.handleKeyPress))},e.prototype.handleBlur=function(){W(be,"keydown",Xe(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},e.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),vn&&h())return;this.menu.focus()}},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(cn);cn.registerComponent("MenuButton",Ri);var Ui=function(t){function e(n,r){Ee(this,e);var i=r.tracks,o=Ae(this,t.call(this,n,r));if(o.items.length<=1&&o.hide(),!i)return Ae(o);var a=Xe(o,o.update);return i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),o.player_.on("ready",a),o.player_.on("dispose",function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a)}),o}return Pe(e,t),e}(Ri);cn.registerComponent("TrackButton",Ui);var Ni=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.selectable=r.selectable,i.isSelected_=r.selected||!1,i.multiSelectable=r.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}return Pe(e,t),e.prototype.createEl=function(e,n,r){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",i({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),r)},e.prototype.handleClick=function(t){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ri);cn.registerComponent("MenuItem",Ni);var Bi=function(t){function e(n,r){Ee(this,e);var i=r.track,o=n.textTracks();r.label=i.label||i.language||"Unknown",r.selected="showing"===i.mode;var a=Ae(this,t.call(this,n,r));a.track=i;var s=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];a.handleTracksChange.apply(a,e)},u=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];a.handleSelectedLanguageChange.apply(a,e)};if(n.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",u),a.on("dispose",function(){n.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",u)}),void 0===o.onchange){var c=void 0;a.on(["tap","click"],function(){if("object"!==Ce(fe.Event))try{c=new fe.Event("change")}catch(t){}c||(c=be.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return a.handleTracksChange(),a}return Pe(e,t),e.prototype.handleClick=function(e){var n=this.track.kind,r=this.track.kinds,i=this.player_.textTracks();if(r||(r=[n]),t.prototype.handleClick.call(this,e),i)for(var o=0;o<i.length;o++){var a=i[o];a===this.track&&r.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},e.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},e.prototype.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.prototype.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Ni);cn.registerComponent("TextTrackMenuItem",Bi);var $i=function(t){function e(n,r){return Ee(this,e),r.track={player:n,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,Ae(this,t.call(this,n,r))}return Pe(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,r=0,i=e.length;r<i;r++){var o=e[r];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},e.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,r=0,i=e.length;r<i;r++){var o=e[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Bi);cn.registerComponent("OffTextTrackMenuItem",$i);var Fi=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ee(this,e),r.tracks=n.textTracks(),Ae(this,t.call(this,n,r))}return Pe(e,t),e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bi,n=void 0;this.label_&&(n=this.label_+" off"),t.push(new $i(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new e(this.player_,{track:o,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),t.push(a)}}return t},e}(Ui);cn.registerComponent("TextTrackButton",Fi);var Vi=function(t){function e(n,r){Ee(this,e);var i=r.track,o=r.cue,a=n.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=o.text,r.selected=o.startTime<=a&&a<o.endTime;var s=Ae(this,t.call(this,n,r));return s.track=i,s.cue=o,i.addEventListener("cuechange",Xe(s,s.update)),s}return Pe(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Ni);cn.registerComponent("ChaptersTrackMenuItem",Vi);var Hi=function(t){function e(n,r,i){return Ee(this,e),Ae(this,t.call(this,n,r,i))}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},e.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},e.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},e.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(J(this.kind_))},e.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},e.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,r=e.length;n<r;n++){var i=e[n],o=new Vi(this.player_,{track:this.track_,cue:i});t.push(o)}return t},e}(Fi);Hi.prototype.kind_="chapters",Hi.prototype.controlText_="Chapters",cn.registerComponent("ChaptersButton",Hi);var qi=function(t){function e(n,r,i){Ee(this,e);var o=Ae(this,t.call(this,n,r,i)),a=n.textTracks(),s=Xe(o,o.handleTracksChange);return a.addEventListener("change",s),o.on("dispose",function(){a.removeEventListener("change",s)}),o}return Pe(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,r=0,i=e.length;r<i;r++){var o=e[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Fi);qi.prototype.kind_="descriptions",qi.prototype.controlText_="Descriptions",cn.registerComponent("DescriptionsButton",qi);var zi=function(t){function e(n,r,i){return Ee(this,e),Ae(this,t.call(this,n,r,i))}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Fi);zi.prototype.kind_="subtitles",zi.prototype.controlText_="Subtitles",cn.registerComponent("SubtitlesButton",zi);var Wi=function(t){function e(n,r){Ee(this,e),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem";var i=Ae(this,t.call(this,n,r));return i.addClass("vjs-texttrack-settings"),i.controlText(", opens "+r.kind+" settings dialog"),i}return Pe(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Bi);cn.registerComponent("CaptionSettingsMenuItem",Wi);var Gi=function(t){function e(n,r,i){return Ee(this,e),Ae(this,t.call(this,n,r,i))}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Wi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Fi);Gi.prototype.kind_="captions",Gi.prototype.controlText_="Captions",cn.registerComponent("CaptionsButton",Gi);var Xi=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.createEl=function(e,n,r){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),o+="</span>",t.prototype.createEl.call(this,e,i({innerHTML:o},n),r)},e}(Bi);cn.registerComponent("SubsCapsMenuItem",Xi);var Yi=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(J(i.label_)),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Wi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Xi)},e}(Fi);Yi.prototype.kinds_=["captions","subtitles"],Yi.prototype.controlText_="Subtitles",cn.registerComponent("SubsCapsButton",Yi);var Ki=function(t){function e(n,r){Ee(this,e);var i=r.track,o=n.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled;var a=Ae(this,t.call(this,n,r));a.track=i,a.addClass("vjs-"+i.kind+"-menu-item");var s=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];a.handleTracksChange.apply(a,e)};return o.addEventListener("change",s),a.on("dispose",function(){o.removeEventListener("change",s)}),a}return Pe(e,t),e.prototype.createEl=function(e,n,r){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),o+="</span>",t.prototype.createEl.call(this,e,i({innerHTML:o},n),r)},e.prototype.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},e.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Ni);cn.registerComponent("AudioTrackMenuItem",Ki);var Qi=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ee(this,e),r.tracks=n.audioTracks(),Ae(this,t.call(this,n,r))}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var r=e[n];t.push(new Ki(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return t},e}(Ui);Qi.prototype.controlText_="Audio Track",cn.registerComponent("AudioTrackButton",Qi);var Ji=function(t){function e(n,r){Ee(this,e);var i=r.rate,o=parseFloat(i,10);r.label=i,r.selected=1===o,r.selectable=!0,r.multiSelectable=!1;var a=Ae(this,t.call(this,n,r));return a.label=i,a.rate=o,a.on(n,"ratechange",a.update),a}return Pe(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Ni);Ji.prototype.contentElType="button",cn.registerComponent("PlaybackRateMenuItem",Ji);var Zi=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.updateVisibility(),i.updateLabel(),i.on(n,"loadstart",i.updateVisibility),i.on(n,"ratechange",i.updateLabel),i}return Pe(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=y("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},e.prototype.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createMenu=function(){var t=new Di(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new Ji(this.player(),{rate:e[n]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>e){r=n[i];break}this.player().playbackRate(r)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Ri);Zi.prototype.controlText_="Playback Rate",cn.registerComponent("PlaybackRateMenuButton",Zi);var to=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(cn);cn.registerComponent("Spacer",to);var eo=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(to);cn.registerComponent("CustomControlSpacer",eo);var no=function(t){function e(){return Ee(this,e),Ae(this,t.apply(this,arguments))}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(cn);no.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},cn.registerComponent("ControlBar",no);var ro=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r));return i.on(n,"error",i.open),i}return Pe(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Hn);ro.prototype.options_=tt(Hn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),cn.registerComponent("ErrorDisplay",ro);var io=["#000","Black"],oo=["#00F","Blue"],ao=["#0FF","Cyan"],so=["#0F0","Green"],uo=["#F0F","Magenta"],co=["#F00","Red"],lo=["#FFF","White"],po=["#FF0","Yellow"],ho=["1","Opaque"],fo=["0.5","Semi-Transparent"],yo=["0","Transparent"],vo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[io,lo,co,so,oo,po,uo,ao]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ho,fo,yo]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[lo,io,co,so,oo,po,uo,ao]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ho,fo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[yo,fo,ho]}};vo.windowColor.options=vo.backgroundColor.options;var mo=function(t){function e(r,i){Ee(this,e),i.temporary=!1;var o=Ae(this,t.call(this,r,i));return o.updateDisplay=Xe(o,o.updateDisplay),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=y("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),void 0===i.persistTextTrackSettings&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.close()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),n(vo,function(t){o.on(o.$(t.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}return Pe(e,t),e.prototype.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},e.prototype.createElSelect_=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",i=vo[t],o=i.id.replace("%s",this.id_),a=[n,o].join(" ").trim();return["<"+r+' id="'+o+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(i.label),"</"+r+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map(function(t){var n=o+"-"+t[1].replace(/\W+/g,"");return['<option id="'+n+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+n+'">',e.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},e.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElColors_=function(){return y("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.prototype.createElFont_=function(){return y("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return y("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.prototype.label=function(){return this.localize("Caption Settings Dialog")},e.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.prototype.getValues=function(){var t=this;return r(vo,function(e,n,r){var i=se(t.$(n.selector),n.parser);return void 0!==i&&(e[r]=i),e},{})},e.prototype.setValues=function(t){var e=this;n(vo,function(n,r){ue(e.$(n.selector),t[r],n.parser)})},e.prototype.setDefaults=function(){var t=this;n(vo,function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n})},e.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(fe.localStorage.getItem("vjs-text-track-settings"))}catch(t){Oe.warn(t)}t&&this.setValues(t)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?fe.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):fe.localStorage.removeItem("vjs-text-track-settings")}catch(t){Oe.warn(t)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(be,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},e}(Hn);cn.registerComponent("TextTrackSettings",mo);var go=function(t){function e(n,r){Ee(this,e);var i=r.ResizeObserver||fe.ResizeObserver;null===r.ResizeObserver&&(i=!1);var o=tt({createEl:!i,reportTouchActivity:!1},r),a=Ae(this,t.call(this,n,o));return a.ResizeObserver=r.ResizeObserver||fe.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=Ke(function(){a.resizeHandler()},100,!1,n),i?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(n.el())):(a.loadListener_=function(){a.el_.contentWindow&&z(a.el_.contentWindow,"resize",a.debouncedHandler_),a.off("load",a.loadListener_)},a.on("load",a.loadListener_)),a}return Pe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},e.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},e.prototype.dispose=function(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&W(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(cn);cn.registerComponent("ResizeManager",go);var bo=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),r=[],i="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===r.indexOf(a)&&r.push(a)}return!!r.length&&(1===r.length&&(i=r[0]),t.triggerSourceset(i),!0)},_o=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=be.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var n=be.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",fe.Element.prototype.appendChild.call(this,n),this.innerHTML}}),To=function(t,e){for(var n={},r=0;r<t.length&&!((n=Object.getOwnPropertyDescriptor(t[r],e))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},wo=function(t){return To([t.el(),fe.HTMLMediaElement.prototype,fe.Element.prototype,_o],"innerHTML")},So=function(t){var e=t.el();if(!e.resetSourceWatch_){var n={},r=wo(t),i=function(n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=n.apply(e,i);return bo(t),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(t){e[t]&&(n[t]=e[t],e[t]=i(n[t]))}),Object.defineProperty(e,"innerHTML",tt(r,{set:i(r.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(n).forEach(function(t){e[t]=n[t]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)}},Oo=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?or(fe.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return fe.Element.prototype.setAttribute.call(this,"src",t),t}}),ko=function(t){return To([t.el(),fe.HTMLMediaElement.prototype,Oo],"src")},Co=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var n=ko(t),r=e.setAttribute,i=e.load;Object.defineProperty(e,"src",tt(n,{set:function(r){var i=n.set.call(e,r);return t.triggerSourceset(e.src),i}})),e.setAttribute=function(n,i){var o=r.call(e,n,i);return/src/i.test(n)&&t.triggerSourceset(e.src),o},e.load=function(){var n=i.call(e);return bo(t)||(t.triggerSourceset(""),So(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):bo(t)||So(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=i,e.setAttribute=r,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},Eo=xe(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Po=function(t){function e(n,r){Ee(this,e);var i=Ae(this,t.call(this,n,r)),o=n.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||n.tag&&3===n.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),n.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,u=s.length,c=[];u--;){var l=s[u];"track"===l.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(l),i.remoteTextTracks().addTrack(l.track),i.textTracks().addTrack(l.track),a||i.el_.hasAttribute("crossorigin")||!sr(l.src)||(a=!0)):c.push(l))}for(var p=0;p<c.length;p++)i.el_.removeChild(c[p])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&Oe.warn(ke(Eo)),i.restoreMetadataTracksInIOSNativePlayer_(),(Pn||fn||_n)&&!0===n.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return Pe(e,t),e.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},e.prototype.setupSourcesetHandling_=function(){Co(this)},e.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),e=void 0,n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",function(){return t.removeEventListener("change",n)});var r=function n(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)})},e.prototype.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var r=t.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach(function(t){n.el()[r+"Tracks"].removeEventListener(t,n[r+"TracksListeners_"][t])}),this["featuresNative"+t+"Tracks"]=!e,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},e.prototype.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},e.prototype.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},e.prototype.proxyNativeTracksForType_=function(t){var e=this,n=Pr[t],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(t){i.addTrack(t.track)},removetrack:function(t){i.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<i.length;e++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[e]){n=!0;break}n||t.push(i[e])}for(;t.length;)i.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach(function(t){var n=o[t];r.addEventListener(t,n),e.on("dispose",function(e){return r.removeEventListener(t,n)})}),this.on("loadstart",a),this.on("dispose",function(t){return e.off("loadstart",a)})}},e.prototype.proxyNativeTracks_=function(){var t=this;Pr.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=be.createElement("video");var r=this.options_.tag&&S(this.options_.tag),o=tt({},r);Pn&&!0===this.options_.nativeControlsForTouch||delete o.controls,w(t,i(o,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&k(t,"preload",this.options_.preload);for(var a=["loop","muted","playsinline","autoplay"],s=0;s<a.length;s++){var u=a[s],c=this.options_[u];void 0!==c&&(c?k(t,u,u):C(t,u),t[u]=c)}return t},e.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var r=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),t.readyState>=2&&i.push("loadeddata"),t.readyState>=3&&i.push("canplay"),t.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(t){this.trigger(t)},this)})}},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){Oe(t,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){var t=this;if(this.el_.duration===1/0&&gn&&Sn&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},e.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=fe.navigator&&fe.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.addTextTrack=function(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):t.prototype.addTextTrack.call(this,e,n,r)},e.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=be.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},e.prototype.addRemoteTextTrack=function(e,n){var r=t.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},e.prototype.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)e!==n[r]&&e!==n[r].track||this.el().removeChild(n[r])},e.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),fe.performance&&"function"==typeof fe.performance.now?t.creationTime=fe.performance.now():fe.performance&&fe.performance.timing&&"number"==typeof fe.performance.timing.navigationStart&&(t.creationTime=fe.Date.now()-fe.performance.timing.navigationStart),t},e}(zr);if(p()){Po.TEST_VID=be.createElement("video");var Ao=be.createElement("track");Ao.kind="captions",Ao.srclang="en",Ao.label="English",Po.TEST_VID.appendChild(Ao)}Po.isSupported=function(){try{Po.TEST_VID.volume=.5}catch(t){return!1}return!(!Po.TEST_VID||!Po.TEST_VID.canPlayType)},Po.canPlayType=function(t){return Po.TEST_VID.canPlayType(t)},Po.canPlaySource=function(t,e){return Po.canPlayType(t.type)},Po.canControlVolume=function(){try{var t=Po.TEST_VID.volume;return Po.TEST_VID.volume=t/2+.1,t!==Po.TEST_VID.volume}catch(t){return!1}},Po.canMuteVolume=function(){try{var t=Po.TEST_VID.muted;return Po.TEST_VID.muted=!t,Po.TEST_VID.muted?k(Po.TEST_VID,"muted","muted"):C(Po.TEST_VID,"muted"),t!==Po.TEST_VID.muted}catch(t){return!1}},Po.canControlPlaybackRate=function(){if(gn&&Sn&&On<58)return!1;try{var t=Po.TEST_VID.playbackRate;return Po.TEST_VID.playbackRate=t/2+.1,t!==Po.TEST_VID.playbackRate}catch(t){return!1}},Po.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(be.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(be.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(be.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(be.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Po.supportsNativeTextTracks=function(){return En||vn&&Sn},Po.supportsNativeVideoTracks=function(){return!(!Po.TEST_VID||!Po.TEST_VID.videoTracks)},Po.supportsNativeAudioTracks=function(){return!(!Po.TEST_VID||!Po.TEST_VID.audioTracks)},Po.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Po.prototype.featuresVolumeControl=Po.canControlVolume(),Po.prototype.featuresMuteControl=Po.canMuteVolume(),Po.prototype.featuresPlaybackRate=Po.canControlPlaybackRate(),Po.prototype.featuresSourceset=Po.canOverrideAttributes(),Po.prototype.movingMediaElementInDOM=!vn,Po.prototype.featuresFullscreenResize=!0,Po.prototype.featuresProgressEvents=!0,Po.prototype.featuresTimeupdateEvents=!0,Po.prototype.featuresNativeTextTracks=Po.supportsNativeTextTracks(),Po.prototype.featuresNativeVideoTracks=Po.supportsNativeVideoTracks(),Po.prototype.featuresNativeAudioTracks=Po.supportsNativeAudioTracks();var xo=Po.TEST_VID&&Po.TEST_VID.constructor.prototype.canPlayType,jo=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;Po.patchCanPlayType=function(){bn>=4&&!Tn&&!Sn&&(Po.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&jo.test(t)?"maybe":xo.call(this,t)})},Po.unpatchCanPlayType=function(){var t=Po.TEST_VID.constructor.prototype.canPlayType;return Po.TEST_VID.constructor.prototype.canPlayType=xo,t},Po.patchCanPlayType(),Po.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Po.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Po.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Po.prototype["set"+J(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){Po.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Po.prototype["set"+J(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){Po.prototype[t]=function(){return this.el_[t]()}}),zr.withSourceHandlers(Po),Po.nativeSourceHandler={},Po.nativeSourceHandler.canPlayType=function(t){try{return Po.TEST_VID.canPlayType(t)}catch(t){return""}},Po.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Po.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=ar(t.src);return Po.nativeSourceHandler.canPlayType("video/"+n)}return""},Po.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Po.nativeSourceHandler.dispose=function(){},Po.registerSourceHandler(Po.nativeSourceHandler),zr.registerTech("Html5",Po);var Lo=xe(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Io=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Mo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Do=function(t){function e(n,r,o){if(Ee(this,e),n.id=n.id||r.id||"vjs_video_"+N(),r=i(e.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(r.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(S(s).hasOwnProperty("lang")){r.language=s.getAttribute("lang");break}s=s.parentNode}var u=Ae(this,t.call(this,null,r,o));if(u.isPosterFromTech_=!1,u.queuedCallbacks_=[],u.isReady_=!1,u.hasStarted_=!1,u.userActive_=!1,!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=n,u.tagAttributes=n&&S(n),u.language(u.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach(function(t){c[t.toLowerCase()]=r.languages[t]}),u.languages_=c}else u.languages_=e.prototype.options_.languages;u.cache_={},u.poster_=r.poster||"",u.controls_=!!r.controls,u.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),n.hasAttribute("autoplay")?u.options_.autoplay=!0:u.autoplay(u.options_.autoplay),u.scrubbing_=!1,u.el_=u.createEl(),u.cache_.lastPlaybackRate=u.defaultPlaybackRate(),K(u,{eventBusKey:"el_"});var l=tt(u.options_);if(r.plugins){var p=r.plugins;Object.keys(p).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](p[t])},u)}u.options_.playerOptions=l,u.middleware_=[],u.initChildren(),u.isAudio("audio"===n.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label",u.localize("Audio Player")):u.el_.setAttribute("aria-label",u.localize("Video Player")),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),vn||u.addClass("vjs-workinghover"),e.players[u.id_]=u;var d=pe.split(".")[0];return u.addClass("vjs-v"+d),u.userActive(!0),u.reportUserActivity(),u.one("play",u.listenForUserActivity_),u.on("fullscreenchange",u.handleFullscreenChange_),u.on("stageclick",u.handleStageClick_),u.changingSrc_=!1,u.playWaitingForReady_=!1,u.playOnLoadstart_=null,u}return Pe(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Qt(this),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.tag,n=void 0,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();r?n=this.el_=e.parentNode:i||(n=this.el_=t.prototype.createEl.call(this,"div"));var o=S(e);if(i){for(n=this.el_=e,e=this.tag=be.createElement("video");n.children.length;)e.appendChild(n.firstChild);g(n,"video-js")||b(n,"video-js"),n.appendChild(e),r=this.playerElIngest_=n,Object.keys(n).forEach(function(t){e[t]=n[t]})}if(e.setAttribute("tabindex","-1"),kn&&e.setAttribute("role","application"),e.removeAttribute("width"),e.removeAttribute("height"),Object.getOwnPropertyNames(o).forEach(function(t){i&&"class"===t||n.setAttribute(t,o[t]),i&&e.setAttribute(t,o[t])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused"),!0!==fe.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=We("vjs-styles-dimensions");var a=Me(".vjs-styles-defaults"),s=Me("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var u=e.getElementsByTagName("a"),c=0;c<u.length;c++){var l=u.item(c);b(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(n,e),m(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=n,n},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(e);if(isNaN(r))return void Oe.error('Improper value "'+e+'" supplied for for '+t);this[n]=r,this.updateStyleEl_()},e.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(!0===fe.VIDEOJS_NO_DYNAMIC_STYLE){var t="number"==typeof this.width_?this.width_:this.options_.width,e="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(t>=0&&(n.width=t),e>=0&&(n.height=e)))}var r=void 0,i=void 0,o=void 0,a=void 0;o=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=o.split(":"),u=s[1]/s[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/u:this.videoWidth()||300,i=void 0!==this.height_?this.height_:r*u,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),Ge(this.styleEl_,"\n      ."+a+" {\n        width: "+r+"px;\n        height: "+i+"px;\n      }\n\n      ."+a+".vjs-fluid {\n        padding-top: "+100*u+"%;\n      }\n    ")},e.prototype.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var r=J(t),o=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==r&&this.tag&&(zr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var a="string"!=typeof this.autoplay()&&this.autoplay(),s={source:e,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};xr.names.forEach(function(t){var e=xr[t];s[e.getterName]=n[e.privateName]}),i(s,this.options_[r]),i(s,this.options_[o]),i(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var u=zr.getTech(t);if(!u)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new u(s),this.tech_.ready(Xe(this,this.handleTechReady_),!0),Fn.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Io.forEach(function(t){n.on(n.tech_,t,n["handleTech"+J(t)+"_"])}),Object.keys(Mo).forEach(function(t){n.on(n.tech_,t,function(e){if(0===n.tech_.playbackRate()&&n.tech_.seeking())return void n.queuedCallbacks_.push({callback:n["handleTech"+Mo[t]+"_"].bind(n),event:e});n["handleTech"+Mo[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||m(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){var t=this;xr.names.forEach(function(e){var n=xr[e];t[n.privateName]=t[n.getterName]()}),this.textTracksJson_=Fn.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.prototype.tech=function(t){return void 0===t&&Oe.warn(ke(Lo)),this.tech_},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},e.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.prototype.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n=function(){var t=e.muted();e.muted(!0);var n=e.play();if(n&&n.then&&n.catch)return n.catch(function(n){e.muted(t)})},r=void 0;if("any"===t?(r=this.play())&&r.then&&r.catch&&r.catch(function(){return n()}):r="muted"===t?n():this.play(),r&&r.then&&r.catch)return r.then(function(){e.trigger({type:"autoplay-success",autoplay:t})}).catch(function(n){e.trigger({type:"autoplay-failure",autoplay:t})})}},e.prototype.updateSourceCaches_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t,n="";if("string"!=typeof e&&(e=t.src,n=t.type),!/^blob:/.test(e)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=ti(this,e)),this.cache_.source=tt({},t,{src:e,type:n});for(var r=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=S(o[s]);i.push(u),u.src&&u.src===e&&a.push(u.src)}a.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e}},e.prototype.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_&&(this.updateSourceCaches_(t.src),!t.src)){var n=function t(n){"sourceset"!==n.type&&e.updateSourceCaches_(e.techGet_("currentSrc")),e.tech_.off(["sourceset","loadstart"],t)};this.tech_.one(["sourceset","loadstart"],n)}this.trigger({src:t.src,type:"sourceset"})},e.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(Oe.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){U(t)&&this.controls_&&(this.paused()?ct(this.play()):this.pause())},e.prototype.handleTechDoubleClick_=function(t){if(this.controls_){Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){this.ready(function(){if(t in Kr)return Gt(this.middleware_,this.tech_,t,e);if(t in Qr)return Xt(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw Oe(t),t}},!0)},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Yr)return Wt(this.middleware_,this.tech_,t);if(t in Qr)return Xt(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw Oe("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw Oe("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw Oe(e),e}}},e.prototype.play=function(){var t=this,e=this.options_.Promise||fe.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},e.prototype.play_=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void e(this.techGet_("play"));this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){t.playWaitingForReady_=!1,e(t.play())})}},e.prototype.pause=function(){this.techCall_("pause")},e.prototype.paused=function(){return!1!==this.techGet_("paused")},e.prototype.played=function(){return this.techGet_("played")||it(0,0)},e.prototype.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.prototype.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=it(0,0)),t},e.prototype.bufferedPercent=function(){return ot(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){return void 0!==t?void this.techCall_("setMuted",t):this.techGet_("muted")||!1},e.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},e.prototype.lastVolume_=function(t){return void 0!==t&&0!==t?void(this.cache_.lastVolume=t):this.cache_.lastVolume},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){return void 0!==t?void(this.isFullscreen_=!!t):!!this.isFullscreen_},e.prototype.requestFullscreen=function(){var t=xn;this.isFullscreen(!0),t.requestFullscreen?(z(be,t.fullscreenchange,Xe(this,function e(n){this.isFullscreen(be[t.fullscreenElement]),!1===this.isFullscreen()&&W(be,t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},e.prototype.exitFullscreen=function(){var t=xn;this.isFullscreen(!1),t.requestFullscreen?be[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=be.documentElement.style.overflow,z(be,"keydown",Xe(this,this.fullWindowOnEscKey)),be.documentElement.style.overflow="hidden",b(be.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,W(be,"keydown",this.fullWindowOnEscKey),be.documentElement.style.overflow=this.docOrigOverflow,_(be.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=zr.getTech(i);if(o||(o=cn.getComponent(i)),o){if(o.isSupported()&&(e=o.canPlayType(t)))return e}else Oe.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e=this,n=this.options_.techOrder.map(function(t){return[t,zr.getTech(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(Oe.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(t,e,n){var r=void 0;return t.some(function(t){return e.some(function(e){if(r=n(t,e))return!0})}),r},i=function(t,n){var r=t[0];if(t[1].canPlaySource(n,e.options_[r.toLowerCase()]))return{source:n,tech:r}};return(this.options_.sourceOrder?r(t,n,function(t){return function(e,n){return t(n,e)}}(i)):r(n,t,i))||!1},e.prototype.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=ei(t);if(!n.length)return void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),qt(this,n[0],function(t,r){if(e.middleware_=r,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady());zt(r,e.tech_)})},e.prototype.src_=function(t){var e=this,n=this.selectSource([t]);return!n||(Z(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(function(){e.changingSrc_=!1}),!1))},e.prototype.load=function(){this.techCall_("load")},e.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},e.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},e.prototype.currentSource=function(){return this.cache_.source||{}},e.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},e.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},e.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},e.prototype.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.prototype.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new at(t),this.addClass("vjs-error"),Oe.error("(CODE:"+this.error_.code+" "+at.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},e.prototype.reportUserActivity=function(t){this.userActivity_=!0},e.prototype.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,n=void 0,r=Xe(this,this.reportUserActivity),i=function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,r())},o=function(){r(),this.clearInterval(t),t=this.setInterval(r,250)},a=function(e){r(),this.clearInterval(t)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var t=this.options_.inactivityTimeout;t<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},e.prototype.playbackRate=function(t){return void 0!==t?void this.techCall_("setPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},e.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.prototype.isAudio=function(t){return void 0!==t?void(this.isAudio_=!!t):!!this.isAudio_},e.prototype.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},e.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},e.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.track,n=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},e.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},e.prototype.languages=function(){return tt(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=tt(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var r=e[n];r=tt(r),r.player=void 0,t.tracks[n]=r}return t},e.prototype.createModal=function(t,e){var n=this;e=e||{},e.content=t||"";var r=new Hn(this,e);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open(),r},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=S(t),r=n["data-setup"];if(g(t,"vjs-fluid")&&(n.fluid=!0),null!==r){var o=Un(r||"{}"),a=o[0],s=o[1];a&&Oe.error(a),i(n,s)}if(i(e,n),t.hasChildNodes())for(var u=t.childNodes,c=0,l=u.length;c<l;c++){var p=u[c],d=p.nodeName.toLowerCase();"source"===d?e.sources.push(S(p)):"track"===d&&e.tracks.push(S(p))}return e},e.prototype.flexNotSupported_=function(){var t=be.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(cn);xr.names.forEach(function(t){var e=xr[t];Do.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Do.players={};var Ro=fe.navigator;Do.prototype.options_={techOrder:zr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ro&&(Ro.languages&&Ro.languages[0]||Ro.userLanguage||Ro.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Do.prototype[t]=function(){return this.techGet_(t)}}),Io.forEach(function(t){Do.prototype["handleTech"+J(t)+"_"]=function(){return this.trigger(t)}}),cn.registerComponent("Player",Do);var Uo={},No=function(t){return Uo.hasOwnProperty(t)},Bo=function(t){return No(t)?Uo[t]:void 0},$o=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},Fo=function(t,e,n){var r=(n?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},Vo=function(t,e){var n=function(){Fo(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return $o(this,t),Fo(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(t){n[t]=e[t]}),n},Ho=function(t,e){return e.prototype.name=t,function(){Fo(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=new(Function.prototype.bind.apply(e,[null].concat([this].concat(r))));return this[t]=function(){return o},Fo(this,o.getEventHash()),o}},qo=function(){function t(e){if(Ee(this,t),this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,K(this),delete this.trigger,Q(this,this.constructor.defaultState),$o(e,this.name),this.dispose=Xe(this,this.dispose),e.on("dispose",this.dispose)}return t.prototype.version=function(){return this.constructor.VERSION},t.prototype.getEventHash=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},t.prototype.trigger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return G(this.eventBusEl_,t,this.getEventHash(e))},t.prototype.handleStateChanged=function(t){},t.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=Ho(t,Uo[t])},t.isBasic=function(e){var n="string"==typeof e?Bo(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":Ce(e))+".");if(No(e))Oe.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Do.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===n?"undefined":Ce(n))+".");return Uo[e]=n,"plugin"!==e&&(t.isBasic(n)?Do.prototype[e]=Vo(e,n):Do.prototype[e]=Ho(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");No(t)&&(delete Uo[t],delete Do.prototype[t])},t.getPlugins=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(Uo),e=void 0;return t.forEach(function(t){var n=Bo(t);n&&(e=e||{},e[t]=n)}),e},t.getPluginVersion=function(t){var e=Bo(t);return e&&e.VERSION||""},t}();qo.getPlugin=Bo,qo.BASE_PLUGIN_NAME="plugin",qo.registerPlugin("plugin",qo),Do.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},Do.prototype.hasPlugin=function(t){return!!No(t)};var zo=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":Ce(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},Wo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){t.apply(this,arguments)},r={};"object"===(void 0===e?"undefined":Ce(e))?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),r=e):"function"==typeof e&&(n=e),zo(n,t);for(var i in r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},Go=function(t){return 0===t.indexOf("#")?t.slice(1):t};if(ce.hooks_={},ce.hooks=function(t,e){return ce.hooks_[t]=ce.hooks_[t]||[],e&&(ce.hooks_[t]=ce.hooks_[t].concat(e)),ce.hooks_[t]},ce.hook=function(t,e){ce.hooks(t,e)},ce.hookOnce=function(t,e){ce.hooks(t,[].concat(e).map(function(e){return function n(){return ce.removeHook(t,n),e.apply(void 0,arguments)}}))},ce.removeHook=function(t,e){var n=ce.hooks(t).indexOf(e);return!(n<=-1)&&(ce.hooks_[t]=ce.hooks_[t].slice(),ce.hooks_[t].splice(n,1),!0)},!0!==fe.VIDEOJS_NO_DYNAMIC_STYLE&&p()){var Xo=Me(".vjs-styles-defaults");if(!Xo){Xo=We("vjs-styles-defaults");var Yo=Me("head");Yo&&Yo.insertBefore(Xo,Yo.firstChild),Ge(Xo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return Y(1,ce),ce.VERSION=pe,ce.options=Do.prototype.options_,ce.getPlayers=function(){return Do.players},ce.getPlayer=function(t){var e=Do.players,n=void 0;if("string"==typeof t){var r=Go(t),i=e[r];if(i)return i;n=Me("#"+r)}else n=t;if(d(n)){var o=n,a=o.player,s=o.playerId;if(a||e[s])return a||e[s]}},ce.getAllPlayers=function(){return Object.keys(Do.players).map(function(t){return Do.players[t]}).filter(Boolean)},ce.players=Do.players,ce.getComponent=cn.getComponent,ce.registerComponent=function(t,e){zr.isTech(e)&&Oe.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),cn.registerComponent.call(cn,t,e)},ce.getTech=zr.getTech,ce.registerTech=zr.registerTech,ce.use=Ht,Object.defineProperty(ce,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(ce.middleware,"TERMINATOR",{value:Xr,writeable:!1,enumerable:!0}),ce.browser=An,ce.TOUCH_ENABLED=Pn,ce.extend=Wo,ce.mergeOptions=tt,ce.bind=Xe,ce.registerPlugin=qo.registerPlugin,ce.deregisterPlugin=qo.deregisterPlugin,ce.plugin=function(t,e){return Oe.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),qo.registerPlugin(t,e)},ce.getPlugins=qo.getPlugins,ce.getPlugin=qo.getPlugin,ce.getPluginVersion=qo.getPluginVersion,ce.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),ce.options.languages=tt(ce.options.languages,(n={},n[t]=e,n)),ce.options.languages[t]},ce.log=Oe,ce.createTimeRange=ce.createTimeRanges=it,ce.formatTime=oe,ce.setFormatTime=re,ce.resetFormatTime=ie,ce.parseUrl=ir,ce.isCrossOrigin=sr,ce.EventTarget=Qe,ce.on=z,ce.one=X,ce.off=W,ce.trigger=G,ce.xhr=br,ce.TextTrack=wr,ce.AudioTrack=Sr,ce.VideoTrack=Or,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){ce[t]=function(){return Oe.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Re[t].apply(null,arguments)}}),ce.computedStyle=s,ce.dom=Re,ce.url=ur,ce})},function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r={},i=function(t){return r=t||{}},o=function(e){return e in r?r[e]:(t("could not find localized message for key: "+e),"")}}).call(e,n(16).default)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(52),o=n(21),a=n(112),s=n(79),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!n){this.destination=a.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return r(e,t),e.prototype[s.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(o.Subscription);e.Subscriber=u;var c=function(t){function e(e,n,r,o){t.call(this),this._parentSubscriber=e;var s,u=this;i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parentSubscriber;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},function(t,e,n){var r=n(62)("wks"),i=n(39),o=n(9).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(4),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o},function(t,e,n){"use strict";function r(t,e,n,r){var d=new l.InnerSubscriber(t,n,r);if(d.closed)return null;if(e instanceof u.Observable)return e._isScalar?(d.next(e.value),d.complete(),null):e.subscribe(d);if(o.isArrayLike(e)){for(var h=0,f=e.length;h<f&&!d.closed;h++)d.next(e[h]);d.closed||d.complete()}else{if(a.isPromise(e))return e.then(function(t){d.closed||(d.next(t),d.complete())},function(t){return d.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),d;if(e&&"function"==typeof e[c.iterator])for(var y=e[c.iterator]();;){var v=y.next();if(v.done){d.complete();break}if(d.next(v.value),d.closed)break}else if(e&&"function"==typeof e[p.observable]){var m=e[p.observable]();if("function"==typeof m.subscribe)return m.subscribe(new l.InnerSubscriber(t,n,r));d.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g=s.isObject(e)?"an invalid object":"'"+e+"'",b="You provided "+g+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";d.error(new TypeError(b))}}return null}var i=n(14),o=n(115),a=n(116),s=n(111),u=n(1),c=n(55),l=n(202),p=n(80);e.subscribeToResult=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(9),i=n(10),o=n(25),a=n(24),s=n(27),u=function(t,e,n){var c,l,p,d,h=t&u.F,f=t&u.G,y=t&u.S,v=t&u.P,m=t&u.B,g=f?r:y?r[e]||(r[e]={}):(r[e]||{}).prototype,b=f?i:i[e]||(i[e]={}),_=b.prototype||(b.prototype={});f&&(n=e);for(c in n)l=!h&&g&&void 0!==g[c],p=(l?g:n)[c],d=m&&l?s(p,r):v&&"function"==typeof p?s(Function.call,p):p,g&&a(g,c,p,t&u.U),b[c]!=p&&o(b,c,d),v&&_[c]!=p&&(_[c]=p)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports=!n(26)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(11),i=n(10),o=n(26);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";(function(t){if(e.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||!1,!e.root)throw new Error("RxJS could not find any global context (window, self, global)")}).call(e,n(144))},function(t,e,n){var r=n(18),i=n(91),o=n(64),a=Object.defineProperty;e.f=n(12)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=Object(o.a)(t.location.href),n=e.searchParams.get("cneDebug");return a="true"===n||t._CNE_DEV_MODE_}function i(){var t;null===a&&r();for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];a&&(t=console).warn.apply(t,["cneLog: "].concat(n))}Object.defineProperty(e,"__esModule",{value:!0}),e.enableDebugMode=r,e.default=i;var o=n(110),a=null},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(81),a=n(44),s=n(33),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];s.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.ScalarObservable(t[0],r):new a.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;if(n>=r)return void i.complete();i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.Observable);e.ArrayObservable=u},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(69),i=n(48);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)},[])}var i=n(29),o=n(111),a=n(52),s=n(53),u=n(43),c=n(198),l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,l=n._parent,p=n._parents,d=n._unsubscribe,h=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,y=p?p.length:0;l;)l.remove(this),l=++f<y&&p[f]||null;if(a.isFunction(d)){var v=s.tryCatch(d).call(this);v===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof c.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(i.isArray(h))for(f=-1,y=h.length;++f<y;){var m=h[f];if(o.isObject(m)){var v=s.tryCatch(m.unsubscribe).call(m);if(v===u.errorObject){e=!0,t=t||[];var g=u.errorObject.e;g instanceof c.UnsubscriptionError?t=t.concat(r(g.errors)):t.push(g)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;n&&n!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=l},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.escape,r=void 0===n||n,i=e.removeNull,o=void 0===i||i,a=r?encodeURIComponent:function(t){return t};return Object.keys(t).map(function(e){return o&&null==t[e]?null:a(e)+"="+a(t[e])}).filter(Boolean).join("&")}e.a=r;!function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}}()},function(t,e,n){"use strict";function r(t){var e=t.environment;d.init(e)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t+": "+e;n=n.substring(0,350),d.track("error",n)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];d.track(t,e,n)}e.a=r,e.b=i,e.c=o;var a=n(22),s=n(89),u=n(135),c=n(34),l=n(136),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d={init:function(t){this.baseUrl=Object(s.a)(),this.ssl=t.ssl,this.location=Object(l.a)(),this.sessionId=Object(c.b)("sID",""),this.pageId=Object(c.b)("pID","")},track:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.a,i=p({_ts:(new Date).toISOString(),_c:e,_t:t,sID:this.sessionId,pID:this.pageId,pHr:this.location},n);r([this.baseUrl,Object(a.a)(i)].join("&"),this.ssl)}}},function(t,e,n){var r=n(9),i=n(25),o=n(19),a=n(39)("src"),s=Function.toString,u=(""+s).split("toString");n(10).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(15),i=n(47);t.exports=n(12)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(68);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(4),a=n(21),s=n(54),u=n(113),c=n(79),l=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var p=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[c.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(i.Observable);e.Subject=p;var d=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(p);e.AnonymousSubject=d},function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";function r(){return b.length>0?b:b=d}function i(){return m||h}function o(t){var e=/android[^\d]*(\d*)\.(\d*)\.?(\d*)?/i,n=e.exec(r());if(!n||!n[1])return!1;var i=p(t.split("."));return p(n.splice([1]))<i}function a(){var t=r();return/android/i.test(t)&&/aft[a-z]?\sbuild/i.test(t)}function s(){var t=r();return/safari\//i.test(t)&&!/chrom/i.test(t)}function u(){return!!_}function c(){return m}function l(){return m&&"9"===g}function p(t){var e=t.map(function(t){return t?parseInt(t):0});return 1e4*e[0]+100*e[1]+e[2]}e.f=i,e.b=o,e.a=a,e.g=s,e.c=u,e.d=c,e.e=l;var d=window.navigator&&window.navigator.userAgent||"",h=/Android/i.test(d),f=(/Edge/i.test(d),/iPad/i.test(d)),y=/iPhone/i.test(d)&&!f,v=/iPod/i.test(d),m=y||f||v,g=function(){var t=d.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),b="",_=function(){var t=0;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var n=navigator.userAgent,r=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=r.exec(n)&&(t=parseFloat(RegExp.$1))}return t}()},function(t,e,n){var r=n(93),i=n(72);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(39)("meta"),i=n(6),o=n(19),a=n(15).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(26)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},p=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},d=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},h=function(t){return c&&f.NEED&&u(t)&&!o(t,r)&&l(t),t},f=t.exports={KEY:r,NEED:!1,fastKey:p,getWeak:d,onFreeze:h}},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),r="; expires="+i.toGMTString()}document.cookie=encodeURIComponent(o+t)+"="+encodeURIComponent(e)+r+"; path=/"}function i(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=encodeURIComponent(e+t)+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(var a=r[i];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return decodeURIComponent(a.substring(n.length,a.length))}return null}e.a=r,e.b=i;var o="cneplayer"},function(t,e,n){"use strict";function r(t,e){return o.a.from(e).mergeMap(function(e){return o.a.fromEvent(t,e)}).share()}function i(t,e){var n=function(n){t.on(e,n)},r=function(n){t.off(e,n)};return o.a.fromEventPattern(n,r).share()}e.a=r,e.b=i;var o=n(0)},function(t,e,n){"use strict";function r(){if(void 0===o)try{o=!!window.top.location.href&&"function"==typeof window.top.addEventListener}catch(t){o=!1}return o}function i(){return r()?window.top:window}e.a=r,e.b=i;var o=void 0},function(t,e,n){"use strict";var r=n(61),i={};i[n(5)("toStringTag")]="z",i+""!="[object z]"&&n(24)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports={}},function(t,e,n){var r=n(15).f,i=n(19),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(48);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";e.errorObject={e:{}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(i.Observable);e.EmptyObservable=o},function(t,e,n){"use strict";var r=n(83),i=n(84);e.async=new i.AsyncScheduler(r.AsyncAction)},function(t,e,n){"use strict";var r=n(0),i=function(){var t=document.createElement("script");return t.async=!0,t.type="text/javascript",document.head.appendChild(t),t},o=function(t,e){t.onload=e},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return r.a.create(function(r){var i=e();n(i,function(t){r.next(t),r.complete()}),i.src=t})};e.a=a},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!1},function(t,e,n){var r=n(18),i=n(92),o=n(72),a=n(71)("IE_PROTO"),s=function(){},u=function(){var t,e=n(63)("iframe"),r=o.length;for(e.style.display="none",n(94).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},function(t,e,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(t){return a.errorObject.e=t,a.errorObject}}function i(t){return o=t,r}var o,a=n(43);e.tryCatch=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=i},function(t,e,n){"use strict";function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var i=n(14);e.symbolIteratorPonyfill=r,e.iterator=r(i.root),e.$$iterator=e.iterator},function(t,e,n){"use strict";function r(t,e){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new o(n,e));var r=Object.create(this,i.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var i=n(283);e.multicast=r;var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.MulticastOperator=o},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.responseType,r=void 0===n?null:n,a=e.timeout,s=void 0===a?0:a,u=e.withCredentials,c=void 0!==u&&u;return i.a.create(function(e){var n=new XMLHttpRequest;n.open("GET",t),n.withCredentials=c,n.responseType=r||"",n.timeout=s,n.onload=function(){this.status>=200&&this.status<300?(e.next({body:this.response,message:this.statusText,status:this.status,success:!0}),e.complete()):e.error(o(t,this.status,this.statusText))},n.onerror=function(){e.error(o(t))},n.ontimeout=function(){e.error(o(t))},n.send()})}e.a=r;var i=n(0),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{message:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ajax error")+". Trying to GET "+t+".",status:e,success:!1}}},function(t,e,n){"use strict";(function(t){function n(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;if(null!=o&&"function"==typeof o.mark)try{o.mark(r),o.measure(e,n,r)}catch(e){t(e)}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;null!=e&&"function"==typeof e.mark&&e.mark(t)}e.b=n,e.a=r;var i=function(){var t=void 0;try{t=window.top.performance}catch(e){t=window.performance}return t}()}).call(e,n(16).default)},function(t,e,n){"use strict";var r={js:{evaluatedJSMark:"js_evaluatedJS",startedJSExecutionMark:"js_player_js_start_execution",jsStartedInlineMeasure:"js_jsStarted_inline",jsStartedScriptMeasure:"js_jsStarted_script",evaluateMainJSMeasure:"js_timeToEvaluate_main",evaluateMobileJSMeasure:"js_timeToEvaluate_mobile"},ads:{requestAdsMark:"ads_dfp_plugin_requestAds",requestAdsMeasure:"ads_requestAds",requestAdsManagerMark:"ads_dfp_plugin_requestAdsManager",requestAdsManagerMeasure:"ads_requestAdsManager",requestAdsLoaderMark:"ads_dfp_plugin_requestAdsLoader",requestAdsLoaderMeasure:"ads_requestAdsLoader",vastAdFetchStartedMark:"ads_fetchVASTAd_started",vastAdFetchCompleteMark:"ads_fetchVASTAd_complete",vastAdFetchMeasure:"ads_vastAdDuration",adStartingMark:"ads_AD_IS_STARTING",adStartingMeasure:"ads_startedAd"},misc:{loadEmbedPiecesMark:"promise_resolution_loadEmbedPieces",buildEmbedPiecesMark:"promise_resolution_buildEmbedPieces",buildScriptPlayerStarted:"loaderjs_assets_loaded",embedPiecesMeasure:"buildEmbedPiecesToLoadEmbedPieces",scriptEmbedCompleteMark:"scriptEmbedPromises_complete",scriptEmbedStartedMark:"scriptEmbedPromises_started",scriptEmbedCompleteMeasure:"scriptEmbedPromises_complete",createPlayerStartedMark:"createPlayer_started",createPlayerStartedMeasure:"createPlayer_started",fetchConfigStartedMark:"fetchConfig_started",fetchConfigCompletedMark:"fetchConfig_complete",fetchConfigCompletedMeasure:"fetchConfig_complete",fetchPrebidStartedMark:"fetchPrebid_started",fetchPrebidCompletedMark:"fetchPrebid_complete"}};e.a=r},function(t,e,n){"use strict";var r=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var r;return!!t[e]&&(r=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(r,1),r>-1)},this.trigger=function(e){var n,r,i,o;if(n=t[e])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){t={}}}};r.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},r.prototype.push=function(t){this.trigger("data",t)},r.prototype.flush=function(t){this.trigger("done",t)},t.exports=r},function(t,e,n){var r=n(38),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(9),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(6),i=n(9).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";var r=n(146)(!0);n(67)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(49),i=n(11),o=n(24),a=n(25),s=n(19),u=n(40),c=n(147),l=n(41),p=n(95),d=n(5)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,y,v,m,g){c(n,e,y);var b,_,T,w=function(t){if(!h&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",O="values"==v,k=!1,C=t.prototype,E=C[d]||C["@@iterator"]||v&&C[v],P=E||w(v),A=v?O?w("entries"):P:void 0,x="Array"==e?C.entries||E:E;if(x&&(T=p(x.call(new t)))!==Object.prototype&&(l(T,S,!0),r||s(T,d)||a(T,d,f)),O&&E&&"values"!==E.name&&(k=!0,P=function(){return E.call(this)}),r&&!g||!h&&!k&&C[d]||a(C,d,P),u[e]=P,u[S]=f,v)if(b={values:O?P:w("values"),keys:m?P:w("keys"),entries:A},g)for(_ in b)_ in C||o(C,_,b[_]);else i(i.P+i.F*(h||k),e,b);return b}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(38);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(66),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(62)("keys"),i=n(39);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){for(var r=n(150),i=n(24),o=n(9),a=n(25),s=n(40),u=n(5),c=u("iterator"),l=u("toStringTag"),p=s.Array,d=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],h=0;h<5;h++){var f,y=d[h],v=o[y],m=v&&v.prototype;if(m){m[c]||a(m,c,p),m[l]||a(m,l,y),s[y]=p;for(f in r)m[f]||i(m,f,r[f],!0)}}},function(t,e,n){var r=n(24);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(27),i=n(152),o=n(153),a=n(18),s=n(70),u=n(154),c={},l={},e=t.exports=function(t,e,n,p,d){var h,f,y,v,m=d?function(){return t}:u(t),g=r(n,p,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(h=s(t.length);h>b;b++)if((v=e?g(a(f=t[b])[0],f[1]):g(t[b]))===c||v===l)return v}else for(y=m.call(t);!(f=y.next()).done;)if((v=i(y,g,f.value,e))===c||v===l)return v};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(51),i=n(47),o=n(20),a=n(64),s=n(19),u=n(91),c=Object.getOwnPropertyDescriptor;e.f=n(12)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(14),i=r.root.Symbol;e.rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var i=n(14);e.getSymbolObservable=r,e.observable=r(i.root),e.$$observable=e.observable},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;if(e)return void r.complete();r.next(n),r.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(i.Observable);e.ScalarObservable=o},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=t;return a.isScheduler(r[t.length-1])&&(n=r.pop()),null===n&&1===t.length&&t[0]instanceof o.Observable?t[0]:new s.ArrayObservable(t,n).lift(new u.MergeAllOperator(1))}var o=n(1),a=n(33),s=n(17),u=n(117);e.concat=r,e.concatStatic=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(14),o=n(223),a=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),i.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n?e:i.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(o.Action);e.AsyncAction=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(224),o=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(i.Scheduler);e.AsyncScheduler=o},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",function(){return d}),n.d(e,"c",function(){return h}),n.d(e,"a",function(){return f});var o=n(0),a=n(128),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(t){return t},c=function(t){var e="$"===t.slice(-1)?t.slice(0,-1):t;return function(t){return function(n){return s({},n,i({},e,t))}}},l=function(t,e){return t.distinctUntilChanged().map(c(e))},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=function(n){return e(t[n],n,t)};return Object.keys(t).map(n)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p(t,l);return o.a.merge.apply(o.a,r(n)).scan(function(t,e){return e(t)},e)},h=function(t){return function(e){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r.every(t)&&e.apply(void 0,r)}}},f=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var s=i;return function(n){var i=e.map(function(t){return n[t]});Object(a.a)(i,s)||(s=i,t.apply(void 0,r(i)))}}}},function(t,e,n){"use strict";function r(t){var e=t.targetDiv,n=t.width,r=o(n);e.setAttribute("data-size",r)}n.d(e,"a",function(){return i}),e.b=r;var i=491,o=function(t){switch(!0){case t<320:return"extra-small";case t>=320&&t<i:return"small";case t>=i&&t<800:return"medium";case t>=800&&t<1024:return"large";default:return"extra-large"}}},function(t,e,n){"use strict";function r(t){var e=(t.remoteTextTracks().tracks_||[]).find(function(t){return i(t)});e&&t.trigger("cne-texttrackadded",e),t.remoteTextTracks().on("addtrack",function(e){var n=e.track;i(n)&&t.trigger("cne-texttrackadded",n)}),t.textTracks().on("addtrack",function(e){var n=e.track;t.tech_.featuresNativeTextTracks&&i(n)&&(t.cneTextTrackDisplay.show(),t.tech_.emulateTextTracks(),t.trigger("cne-texttrackadded",n))})}n.d(e,"a",function(){return i}),e.b=r;var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return["subtitles","captions"].includes(t.kind)&&void 0===t.track}},function(t,e,n){"use strict";function r(t){var e=t.adsManager$,n=t.dfpAdEvent$,r=t.dfpEventTypes$,c=t.requestAds$,l=t.adRequestData$,y=t.timeoutAds$,v=t.map,m=void 0===v?d:v;return r.switchMap(function(t){return u.a.from(m).mergeMap(function(e){var r=p(e,2),i=r[0],o=r[1];return n.withType(t[i]).map(function(t){return{originalEvent:t,type:o}})}).merge(c.mapTo(h)).merge(y.mapTo(f)).withLatestFrom(l.pluck("adUnitPath").startWith(null),o).withLatestFrom(e.startWith(null),i).map(a).map(s)})}function i(t,e){return Object.assign(t,{adsManager:e})}function o(t,e){return Object.assign(t,{adUnitPath:e})}function a(t){if(!t.originalEvent||"function"!=typeof t.originalEvent.getAd)return t;var e=t.originalEvent.getAd();return e&&e.getAdId()?Object.assign(t,{ad:{adId:e.getAdId(),advertiser:e.getAdvertiserName(),apiFramework:e.getApiFramework(),contentType:e.getContentType(),creativeadId:e.getCreativeAdId(),creativeId:e.getCreativeId(),description:e.getDescription(),duration:e.getDuration(),isLinear:e.isLinear(),mediaUrl:e.getMediaUrl(),podInfo:e.getAdPodInfo(),wrapperAdIds:e.getWrapperAdIds(),wrapperAdSystems:e.getWrapperAdSystems()}}):t}function s(t){if(!t.originalEvent||"function"!=typeof t.originalEvent.getError)return t;var e=t.originalEvent.getError();return e?Object.assign(t,{adError:{type:e.getType(),code:l[e.getErrorCode()],message:e.getMessage(),innerError:e.getInnerError()}}):t}var u=n(0),c={100:"VAST_MALFORMED_RESPONSE",101:"VAST_SCHEMA_VALIDATION_ERROR",102:"VAST_UNSUPPORTED_VERSION",200:"VAST_TRAFFICKING_ERROR",201:"VAST_UNEXPECTED_LINEARITY",202:"VAST_UNEXPECTED_DURATION_ERROR",300:"VAST_WRAPPER_ERROR",301:"VAST_LOAD_TIMEOUT",302:"VAST_TOO_MANY_REDIRECTS",303:"VAST_NO_ADS_AFTER_WRAPPER",400:"VIDEO_PLAY_ERROR",402:"VAST_MEDIA_LOAD_TIMEOUT",403:"VAST_LINEAR_ASSET_MISMATCH",405:"VAST_PROBLEM_DISPLAYING_MEDIA_FILE",500:"OVERLAY_AD_PLAYING_FAILED",501:"NONLINEAR_DIMENSIONS_ERROR",502:"OVERLAY_AD_LOADING_FAILED",503:"VAST_NONLINEAR_ASSET_MISMATCH",602:"COMPANION_REQUIRED_ERROR",603:"COMPANION_AD_LOADING_FAILED",900:"UNKNOWN_ERROR",901:"VPAID_ERROR",1e3:"IMA_SDK_ERROR_CODE",1005:"FAILED_TO_REQUEST_ADS",1007:"VAST_ASSET_NOT_FOUND",1009:"VAST_EMPTY_RESPONSE",1010:"UNKNOWN_AD_RESPONSE",1011:"UNSUPPORTED_LOCALE",1012:"ADS_REQUEST_NETWORK_ERROR",1013:"INVALID_AD_TAG",1020:"STREAM_INITIALIZATION_FAILED",1021:"ASSET_FALLBACK_FAILED",1101:"INVALID_ARGUMENTS",1105:"INVALID_ADX_EXTENSION",120:"NATIVE_MESSAGE_ERROR"},l=c;n(35);n.d(e,"d",function(){return d}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),e.a=r;var p=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=new Map([["AD_BREAK_READY","dfp-ad-adbreakready"],["AD_CAN_PLAY","dfp-ad-canplay"],["AD_ERROR","dfp-ad-error"],["AD_METADATA","dfp-ad-metadata"],["ALL_ADS_COMPLETED","dfp-ad-alladscompleted"],["CLICK","dfp-ad-click"],["COMPLETE","dfp-ad-complete"],["CONTENT_PAUSE_REQUESTED","dfp-content-pause"],["CONTENT_RESUME_REQUESTED","dfp-content-resume"],["DURATION_CHANGE","dfp-ad-durationchange"],["FIRST_QUARTILE","dfp-ad-firstquartile"],["IMPRESSION","dfp-ad-impression"],["LOADED","dfp-ad-loaded"],["ADS_MANAGER_LOADED","dfp-ads-manager-loaded"],["MIDPOINT","dfp-ad-midpoint"],["PAUSED","dfp-ad-paused"],["RESUMED","dfp-ad-resume"],["SKIPPED","dfp-ad-skipped"],["SKIPPABLE_STATE_CHANGED","dfp-ad-skippablestatechanged"],["STARTED","dfp-ad-started"],["THIRD_QUARTILE","dfp-ad-thirdquartile"],["VOLUME_CHANGED","dfp-ad-volumechange"],["VOLUME_MUTED","dfp-ad-muted"]]),h={type:"dfp-ad-requested"},f={type:"dfp-ad-timeout"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"//capture.condenastdigital.com/track?_o=cne"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=n(3),i=function(){return{colors:{white:"#fff",black:"#fff"},fonts:{families:{ArialMT:"ArialMT",casual:'"Comic Sans MS", Impact, fantasy',default:"ArialMT",monospace:"monospace",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",sansSerif:"sans-serif",script:'"Monotype Corsiva", cursive',serif:"serif",smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif',SUFIText:"SFUIText, sans-serif"},sizes:{small:"16px",medium:"20px",large:"24px"},variants:{smallcaps:"small-caps"}},languages:{english:Object(r.a)("cne-caption-language-english")},textShadows:{dropshadow:"2px 2px 3px #222,\n      2px 2px 4px #222,\n      2px 2px 5px #222",raised:"1px 1px #222,\n      2px 2px #222,\n      3px 3px #222",depressed:"1px 1px #ccc,\n      0 1px #ccc,\n      -1px -1px #222,\n      0 -1px #222",uniform:"0 0 4px #222,\n      0 0 4px #222,\n      0 0 4px #222,\n      0 0 4px #222"},positions:{top:{top:"2px",bottom:"auto"},bottom:{top:"auto",bottom:"2px"},auto:null},defaultValues:{backgroundColor:"#000",backgroundOpacity:"0.5",color:"#fff",edgeStyle:"dropshadow",fontSize:"14px",fontFamily:"SUFIText",language:"English",position:"auto",videoQuality:"auto"}}},o={videoQuality:{auto:"auto",UHD4K:"4k",HD1080:"1080",HD720:"720",SD360:"360"},defaultValues:{videoQuality:"auto"}},a=function(){var t=Object(r.a)("cne-player-font-small"),e=Object(r.a)("cne-player-font-medium"),n=Object(r.a)("cne-player-font-large"),a=Object(r.a)("cne-player-position-auto"),s=Object(r.a)("cne-player-position-bottom"),u=Object(r.a)("cne-player-position-top"),c=Object(r.a)("cne-player-quality-auto");return{fontSize:[[t,i().fonts.sizes.small],[e,i().fonts.sizes.medium],[n,i().fonts.sizes.large]],language:[[Object(r.a)("cne-caption-language-english"),i().languages.english]],position:[[a,"auto"],[s,"bottom"],[u,"top"]],videoQuality:[[c,o.videoQuality.auto],['2160<span class="resolution">4k<span>',o.videoQuality.UHD4K],['1080<span class="resolution">HD<span>',o.videoQuality.HD1080],["720",o.videoQuality.HD720],["360",o.videoQuality.SD360]]}}},function(t,e,n){t.exports=!n(12)&&!n(26)(function(){return 7!=Object.defineProperty(n(63)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(15),i=n(18),o=n(31);t.exports=n(12)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(19),i=n(20),o=n(148)(!1),a=n(71)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){t.exports=n(9).document&&document.documentElement},function(t,e,n){var r=n(19),i=n(42),o=n(71)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(5)("unscopables"),i=Array.prototype;void 0==i[r]&&n(25)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(15).f,i=n(50),o=n(74),a=n(27),s=n(75),u=n(48),c=n(76),l=n(67),p=n(97),d=n(99),h=n(12),f=n(32).fastKey,y=h?"_s":"size",v=function(t,e){var n,r=f(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var p=t(function(t,r){s(t,p,e,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=r&&c(r,n,t[l],t)});return o(p.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var e=this,n=v(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[y]--}return!!n},forEach:function(t){s(this,p,"forEach");for(var e,n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),h&&r(p.prototype,"size",{get:function(){return u(this[y])}}),p},def:function(t,e,n){var r,i,o=v(t,e);return o?o.v=n:(t._l=o={i:i=f(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[y]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,n){l(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?p(0,n.k):"values"==e?p(0,n.v):p(0,[n.k,n.v]):(t._t=void 0,p(1))},n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){"use strict";var r=n(9),i=n(15),o=n(12),a=n(5)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(9),i=n(11),o=n(24),a=n(74),s=n(32),u=n(76),c=n(75),l=n(6),p=n(26),d=n(101),h=n(41),f=n(155);t.exports=function(t,e,n,y,v,m){var g=r[t],b=g,_=v?"set":"add",T=b&&b.prototype,w={},S=function(t){var e=T[t];o(T,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(m||T.forEach&&!p(function(){(new b).entries().next()}))){var O=new b,k=O[_](m?{}:-0,1)!=O,C=p(function(){O.has(1)}),E=d(function(t){new b(t)}),P=!m&&p(function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)});E||(b=e(function(e,n){c(e,b,t);var r=f(new g,e,b);return void 0!=n&&u(n,v,r[_],r),r}),b.prototype=T,T.constructor=b),(C||P)&&(S("delete"),S("has"),v&&S("get")),(P||k)&&S(_),m&&T.clear&&delete T.clear}else b=y.getConstructor(e,t,v,_),a(b.prototype,n),s.NEED=!0;return h(b,t),w[t]=b,i(i.G+i.W+i.F*(b!=g),w),m||y.setStrong(b,t,v),b}},function(t,e,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(6),i=n(18),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(27)(Function.call,n(77).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";var r=n(9),i=n(19),o=n(12),a=n(11),s=n(24),u=n(32).KEY,c=n(26),l=n(62),p=n(41),d=n(39),h=n(5),f=n(104),y=n(157),v=n(158),m=n(159),g=n(105),b=n(18),_=n(20),T=n(64),w=n(47),S=n(50),O=n(106),k=n(77),C=n(15),E=n(31),P=k.f,A=C.f,x=O.f,j=r.Symbol,L=r.JSON,I=L&&L.stringify,M=h("_hidden"),D=h("toPrimitive"),R={}.propertyIsEnumerable,U=l("symbol-registry"),N=l("symbols"),B=l("op-symbols"),$=Object.prototype,F="function"==typeof j,V=r.QObject,H=!V||!V.prototype||!V.prototype.findChild,q=o&&c(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=P($,e);r&&delete $[e],A(t,e,n),r&&t!==$&&A($,e,r)}:A,z=function(t){var e=N[t]=S(j.prototype);return e._k=t,e},W=F&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},G=function(t,e,n){return t===$&&G(B,e,n),b(t),e=T(e,!0),b(n),i(N,e)?(n.enumerable?(i(t,M)&&t[M][e]&&(t[M][e]=!1),n=S(n,{enumerable:w(0,!1)})):(i(t,M)||A(t,M,w(1,{})),t[M][e]=!0),q(t,e,n)):A(t,e,n)},X=function(t,e){b(t);for(var n,r=m(e=_(e)),i=0,o=r.length;o>i;)G(t,n=r[i++],e[n]);return t},Y=function(t,e){return void 0===e?S(t):X(S(t),e)},K=function(t){var e=R.call(this,t=T(t,!0));return!(this===$&&i(N,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(N,t)||i(this,M)&&this[M][t])||e)},Q=function(t,e){if(t=_(t),e=T(e,!0),t!==$||!i(N,e)||i(B,e)){var n=P(t,e);return!n||!i(N,e)||i(t,M)&&t[M][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=x(_(t)),r=[],o=0;n.length>o;)i(N,e=n[o++])||e==M||e==u||r.push(e);return r},Z=function(t){for(var e,n=t===$,r=x(n?B:_(t)),o=[],a=0;r.length>a;)!i(N,e=r[a++])||n&&!i($,e)||o.push(N[e]);return o};F||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===$&&e.call(B,n),i(this,M)&&i(this[M],t)&&(this[M][t]=!1),q(this,t,w(1,n))};return o&&H&&q($,t,{configurable:!0,set:e}),z(t)},s(j.prototype,"toString",function(){return this._k}),k.f=Q,C.f=G,n(107).f=O.f=J,n(51).f=K,n(78).f=Z,o&&!n(49)&&s($,"propertyIsEnumerable",K,!0),f.f=function(t){return z(h(t))}),a(a.G+a.W+a.F*!F,{Symbol:j});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)h(tt[et++]);for(var tt=E(h.store),et=0;tt.length>et;)y(tt[et++]);a(a.S+a.F*!F,"Symbol",{for:function(t){return i(U,t+="")?U[t]:U[t]=j(t)},keyFor:function(t){if(W(t))return v(U,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!F,"Object",{create:Y,defineProperty:G,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),L&&a(a.S+a.F*(!F||c(function(){var t=j();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&g(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,I.apply(L,r)}}}),j.prototype[D]||n(25)(j.prototype,D,j.prototype.valueOf),p(j,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(t,e,n){e.f=n(5)},function(t,e,n){var r=n(38);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(20),i=n(107).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(93),i=n(72).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r,i,o,a=n(27),s=n(181),u=n(94),c=n(63),l=n(9),p=l.process,d=l.setImmediate,h=l.clearImmediate,f=l.MessageChannel,y=0,v={},m=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},g=function(t){m.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++y]=function(){s("function"==typeof t?t:Function(t),e)},r(y),y},h=function(t){delete v[t]},"process"==n(38)(p)?r=function(t){p.nextTick(a(m,t,1))}:f?(i=new f,o=i.port2,i.port1.onmessage=g,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:d,clear:h}},function(t,e,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(t,e,n){"use strict";function r(t){try{return new URL(t)}catch(m){var e=document.createElement("a");e.href=t;var n=e.host,r=void 0===n?"":n,i=e.hostname,o=void 0===i?"":i,a=e.pathname,s=void 0===a?"":a,u=e.port,c=void 0===u?"":u,l=e.protocol,p=void 0===l?"":l,d=e.search,h=void 0===d?"":d,f={},y=0===e.search.indexOf("?")?e.search.substring(1):e.search,v=y.split("&");return v.forEach(function(t){var e=t.split("=");2===e.length&&(f[e[0]]=e[1])}),{host:r,hostname:o,pathname:s,port:c,protocol:p,search:h,searchParams:{get:function(t){return f[t]}}}}}e.a=r},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(21),o=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(i.Subscription);e.SubjectSubscription=o},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&a.isArray(t[0])&&(t=t[0].slice()),t.unshift(this),this.lift.call(new o.ArrayObservable(t),new l(n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(17),a=n(29),s=n(7),u=n(8),c={};e.combineLatest=r;var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.project))},t}();e.CombineLatestOperator=l;var p=function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}return i(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(u.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===c?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.OuterSubscriber);e.CombineLatestSubscriber=p},function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8);e.mergeAll=r;var s=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=s;var u=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(a.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=u},function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function i(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(14),s=n(1),u=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){a.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){a.root.setTimeout(function(){throw t})})},e}(s.Observable);e.PromiseObservable=u},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(120);e.observeOn=r;var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=s;var u=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(a.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(a.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=u;var c=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=c},function(t,e,n){"use strict";var r=n(1),i=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},function(t,e,n){"use strict";function r(t){return!i.isArray(t)&&t-parseFloat(t)+1>=0}var i=n(29);e.isNumeric=r},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return u.isScheduler(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof o.Observable?t[0]:new a.ArrayObservable(t,r).lift(new s.MergeAllOperator(n))}var o=n(1),a=n(17),s=n(117),u=n(33);e.merge=r,e.mergeStatic=i},function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),new a.ArrayObservable(t).lift(new d(n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(17),s=n(29),u=n(4),c=n(7),l=n(8),p=n(55);e.zipProto=r,e.zipStatic=i;var d=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}();e.ZipOperator=d;var h=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=r}return o(e,t),e.prototype._next=function(t){var e=this.iterators;s.isArray(t)?e.push(new y(t)):"function"==typeof t[p.iterator]?e.push(new f(t[p.iterator]())):e.push(new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0===e)return void this.destination.complete();this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}},e.prototype.notifyInactive=function(){0===--this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],r=0;r<e;r++){var i=t[r],s=i.next();if(i.hasCompleted()&&(o=!0),s.done)return void n.complete();a.push(s.value)}this.project?this._tryProject(a):n.next(a),o&&n.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.Subscriber);e.ZipSubscriber=h;var f=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),y=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[p.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,n,r){t.call(this,e),this.parent=n,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(e,t),e.prototype[p.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return l.subscribeToResult(this,this.observable,this,e)},e}(c.OuterSubscriber)},function(t,e,n){"use strict";function r(t,e){return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.filter=r;var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0,this.predicate=n}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,n){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.map=r;var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=a;var s=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(28),o=n(54),a=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=a},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r=function(t){return null!=t&&void 0!==t},i=function t(e,n){if(e instanceof Array&&n instanceof Array){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}return e===n}},function(t,e,n){"use strict";function r(t,e){var n=t.viewModel$,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.animationFrame,s=e.cneAnimatedClip,u=e.cneBigPlayTitle,c=e.cneVideoTitle,l=e.controlBar,p=e.cneOverlay,d=e.cne360Container,J=e.persistentMute,Z=e.persistentShare,tt=p.cneMessageOverlay,et=p.cneLiveOverlay,nt=p.shareOverlay,rt=nt.shareEmbed,it=nt.shareUrl,ot=l.progressControl.seekBar;return n.sampleTime(0,r).do(Object(o.a)("adDisplaying")(Object(o.c)(a.b)(z(e)))).do(Object(o.a)("adSkippable")(Object(o.c)(a.b)(W(e)))).do(Object(o.a)("animatedClipDisplaying")(Object(o.c)(a.b)(H(s)))).do(Object(o.a)("adUnit")(Object(o.c)(a.b)(L(rt)))).do(Object(o.a)("cne360AnimationInterval")(A(d))).do(Object(o.a)("cne360CanvasSource")(x(d))).do(Object(o.a)("cne360LatLong")(Object(o.c)(a.b)(j(e)))).do(Object(o.a)("cne360MouseActive")(Object(o.c)(a.b)(S(e)))).do(Object(o.a)("cne360ShowCompass")(Object(o.c)(a.b)(V(e)))).do(Object(o.a)("cneVideoTitle")(Object(o.c)(a.b)(q(u)))).do(Object(o.a)("cneVideoTitle")(Object(o.c)(a.b)(N(c)))).do(Object(o.a)("videoIfAdsNotDisabled")(Object(o.c)(a.b)($(ot)))).do(Object(o.a)("adFinished")(Object(o.c)(a.b)(F(ot)))).do(Object(o.a)("adBlockedUnique")(Object(o.c)(a.b)(B(ot)))).do(Object(o.a)("videoEndedOrSwitched")(Object(o.c)(a.b)(B(ot)))).do(Object(o.a)("contentShouldResumeInFullscreen")(Object(o.c)(a.b)(U(e)))).do(Object(o.a)("currentVideo","is360Supported")(Object(o.c)(a.b)(m(e)))).do(Object(o.a)("currentVideo")(Object(o.c)(a.b)(R(e)))).do(Object(o.a)("currentVideo")(Object(o.c)(a.b)(D(et)))).do(Object(o.a)("currentVideo")(Object(o.c)(a.b)(I(rt)))).do(Object(o.a)("currentVideo")(Object(o.c)(a.b)(M(it)))).do(Object(o.a)("currentVideo")(Object(o.c)(a.b)(E(Z)))).do(Object(o.a)("loading")(Object(o.c)(a.b)(T(e)))).do(Object(o.a)("isContinuousPlay")(P(e))).do(Object(o.a)("isFullscreen")(f(e),!1)).do(Object(o.a)("isInSyncWithLiveStream")(y(e))).do(Object(o.a)("seekLatestAfterPrerollForLive")(v(e))).do(Object(o.a)("isLiveVideo")(g(e))).do(Object(o.a)("isPlaying")(Object(o.c)(a.b)(b(e)))).do(Object(o.a)("isPersistent")(Object(o.c)(a.b)(_(e)))).do(Object(o.a)("messageOverlay")(Object(o.c)(a.b)(w(tt)))).do(Object(o.a)("currentVideo","playlist")(h(e))).do(Object(o.a)("showLiveEndCard")(k(e))).do(Object(o.a)("showPersistentMute")(G(J))).do(Object(o.a)("showShareDropdown")(C(e))).do(Object(o.a)("videoOrAdStart")(Object(o.c)(a.b)(X(e)))).do(Object(o.a)("userVolume")(Object(o.c)(a.b)(Y(e)))).do(Object(o.a)("widthHeight")(Object(o.c)(a.b)(O(e)))).do(Object(o.a)("contentResuming")(Object(o.c)(a.b)(Q(e)))).do(Object(o.a)("smallLayout")(Object(o.c)(a.b)(K(e))))}n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return p});var i=n(326),o=(n.n(i),n(85)),a=n(128),s=n(86),u=n(3),c="cne-loading",l="cne-scrubbed",p="cne-scrubbing",d=function(){return{message:Object(u.a)("cne-support-360-message"),buttonText:Object(u.a)("cne-support-360-button-text"),buttonIntent:"intent:show-360-message-overlay"}},h=function(t){var e=t.cnePlaylistContainer;return function(t,n){e&&e.update(t,n)}},f=function(t){return function(e){var n=t.el().parentNode;e?n.classList.add("cne-fullscreen"):n.classList.remove("cne-fullscreen")}},y=function(t){return function(e){return e?t.addClass("cne-insync-live"):t.removeClass("cne-insync-live")}},v=function(t){return function(){t.trigger("intent:seek-latest")}},m=function(t){return function(e,n){var r=t.cneMessage;e.projection_type_360&&!n?r.showMessage(d()):r.hideMessage()}},g=function(t){return function(e){t.el_&&(e?t.addClass("cne-is-live"):t.removeClass("cne-is-live"))}},b=function(t){return function(e){t.el_&&(e?(t.addClass("cne-playing"),t.removeClass("cne-paused")):(t.addClass("cne-paused"),t.removeClass("cne-playing")))}},_=function(t){return function(e){t.el_&&t.el_.parentNode.classList[e?"add":"remove"]("cne-persistent")}},T=function(t){return function(e){if(t.el_){[c,p,l].forEach(function(n){e.indexOf(n)>-1?t.addClass(n):t.removeClass(n)})}}},w=function(t){return function(e){t.update(e)}},S=function(t){return function(e){e?t.addClass("cne-360-dragging"):t.removeClass("cne-360-dragging")}},O=function(t){return function(e){Object(s.b)(e),t.cne360Container.updateSize(e)}},k=function(t){return function(e){Object(a.b)(e)&&(e?t.addClass("cne-live-ended"):t.removeClass("cne-live-ended"))}},C=function(t){return function(e){t.persistentShare.shareDropdown.update(e)}},E=function(t){return function(e){e.share_links?t.show():t.hide()}},P=function(t){return function(e){e||t.addClass("cne-non-continuous")}},A=function(t){return function(){return t.render()}},x=function(t){return function(e){t.updateSrc(e)}},j=function(t){var e=t.cne360Compass,n=t.cne360Container;return function(t){var r=t.long,i=t.phi,o=t.theta;Object(a.b)(e)&&Object(a.b)(n)&&(e.updateRotation(r),n.updatePhiTheta(i,o))}},L=function(t){return function(e){t.setAdUnit(e.adUnitPath)}},I=function(t){return function(e){e.share_links&&t.setVideo(e)}},M=function(t){return function(e){e.url&&t.setVideo(e)}},D=function(t){return function(e){var n=!!e.live_metadata;t&&n&&t.update(e)}},R=function(t){return function(e){var n=t.el()||{},r=n.parentNode;e.projection_type_360?r.classList.add("cne-360"):r.classList.remove("cne-360")}},U=function(t){return function(e){var n=t.controlBar.fullscreenToggle;e&&n.setFullscreen()}},N=function(t){return function(e){return t.update(e)}},B=function(t){return function(e){return!1!==e.adBlocked&&t.removeCueContainer()}},$=function(t){return function(e){return e.cue_points&&e.cue_points.length&&t.addCueIndicators(e)}},F=function(t){return function(e){return e&&t.updateCuePostMidroll(e)}},V=function(t){return function(e){return e?t.addClass("cne-360-has-dragged"):t.removeClass("cne-360-has-dragged")}},H=function(t){return function(e){return t.update(e)}},q=function(t){return function(e){return t.update(e)}},z=function(t){return function(e){var n=t.adContainer;t.controlBar.progressControl.seekBar.allowTabFocus(!e),n.updateFocusable(e)}},W=function(t){return function(e){return e?t.addClass("cne-skippable"):t.removeClass("cne-skippable")}},G=function(t){return function(e){return t.update(e)}},X=function(t){return function(){return t.addClass("cne-has-started")}},Y=function(t){return function(e){t.controlBar.cneVolumeAlert.update(e)}},K=function(t){return function(e){t.controlBar.updateTabOrder(e)}},Q=function(t){return function(e){if(e)return void t.addClass("cne-resuming");t.removeClass("cne-resuming")}};e.d=r},function(t,e,n){"use strict";var r=n(30),i=!Object(r.c)()&&!Object(r.b)("4.4.4")&&!Object(r.a)();e.a=i},function(t,e,n){"use strict";function r(t,e){t.remoteTextTracks()&&t.remoteTextTracks().tracks_.forEach(function(e){Object(o.a)(e)||t.removeRemoteTextTrack(e)});var n=t.remoteTextTracks().tracks_.length||!!t.textTracks().tracks_.find(function(t){return Object(o.a)(t)});if(e&&e.vtt){var r=t.addRemoteTextTrack({id:"player-captions",src:e.vtt.src,kind:"captions",srclang:"en",label:Object(i.a)("cne-player-caption-label"),default:!0},!1);t.trigger("cne-texttrackadded",r)}else n||t.trigger("cne-texttrackadded",null)}n.d(e,"a",function(){return a}),e.b=r;var i=n(3),o=n(87),a={disabled:"cne-captions-disabled",hidden:"cne-captions-off",showing:"cne-captions-on"}},function(t,e,n){"use strict";function r(){var t=Object(o.b)(a),e=parseInt(t)||0;return Object(o.a)(a,e+1)}function i(){var t=Object(o.b)(a);return parseInt(t)||1}e.b=r,e.a=i;var o=n(34),a="count"},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return i.a.fromEvent(t,"visibilitychange").share().map(function(){return t.hidden}).startWith(t.hidden)}e.a=r;var i=n(0)},function(t,e,n){"use strict";var r=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(t){if(!/\d+x\d+/i.test(t))return 16/9;var e=t.split(/x/i),n=r(e,2),i=n[0],o=n[1],a=parseInt(i)/parseInt(o);return a<3&&a>0?a:16/9};e.a=i},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t){if(!i(e))return t;if(c.test(t)){var n=t.match(c)[0],r=n.replace(u,"https");t=t.replace(n,r)}return t.replace(s,"https:")}}function i(t){return!!(t&&t.location&&t.location.protocol)&&!l.test(t.location.protocol)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof t)return e&&(t=r(t)),a(t)}function a(t){var e=document.createElement("img");return e.id="cne_"+Math.floor(1e4*Math.random()+1),e.src=t,e}var s=/http[s]?:/g,u=/http[s]?/,c=/&(?:redirect|cr)=http[s]?/,l=/http[^s]/;e.a=o},function(t,e,n){"use strict";function r(){return Object(i.a)()?window.top.location.href:document.referrer}e.a=r;var i=n(36)},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.type,n=t.category,r=t.message,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=p(i),a=s(o,2),u=a[0],c=a[1];return{_ts:(new Date).toISOString(),_c:n,_t:e,cId:u,dim1:l(c),dim3:r}}n.d(e,"a",function(){return h}),n.d(e,"b",function(){return f});var o=n(22),a=n(89),s=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.cookie).split(/;\s*/).reduce(function(t,e){var n=e.split("="),i=s(n,2),o=i[0],a=i[1];return Object.assign(t,r({},o,decodeURIComponent(a)))},{})},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u(),e=t.pID,n=void 0===e?"":e,r=t.sID,i=void 0===r?"":r,o=t.CN_sp,s=void 0===o?"":o,c=t.CN_xid,l=void 0===c?"":c,p={baseUrl:Object(a.a)(),params:{app:"playerservice",cCh:"videos/show",pHr:window.location.href,pID:n,sID:i,uId:s,xid:l}};return function(){return p}}(),l=function(t){var e=void 0;try{e=JSON.stringify(t)}catch(t){e=""}return e},p=function(t){var e=t.guid,n=t.canAutoplay,r=t.interludeFailure,i=t.pageTemplate,o=t.url,a=t.errorData,s=t.initialPlayerConfig||{};return[s.videoId,{canAutoplay:n,guid:e,iu:s.iu,playerType:s.playerType,interludeFailure:r,pageTemplate:i,url:o,errorData:a}]},d=function(t){return(new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Image)).src=t},h=function(t){var e=t.type,n=t.category,r=t.message,a=void 0===r?"":r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=c(),l=u.baseUrl,p=u.params;return d([l,Object(o.a)(p),Object(o.a)(i({type:e,category:n,message:a},s))].join("&"))},f=function(t){var e=t.message,n=t.data,r=void 0===n?{}:n,i=t.type,o=void 0===i?"GenericError":i,a=r.embedParams;return h({type:o,category:"error",message:e},a)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){if(!t.ok)throw new Error("API responsed with status code "+t.status);return t}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.timeout,r=e.onTimeout;return new Promise(function(e,i){var o=new XMLHttpRequest,a=function(){return i(new TypeError("Network request failed"))},u=function(){var t={status:o.status,statusText:o.statusText,url:o.responseURL},n="response"in o?o.response:o.responseText;e(new s(n,t))};o.timeout=n||0,o.onload=u,o.onerror=a,o.ontimeout=r?r(i):a,o.open("GET",t),o.send()})}e.b=i,e.a=o;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.status=void 0===n.status?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"OK",this.url=n.url||"",this._bodyText=e}return a(t,[{key:"text",value:function(){return Promise.resolve(this._bodyText)}},{key:"json",value:function(){return this.text().then(JSON.parse)}}]),t}()},function(t,e,n){"use strict";function r(t,e,n){var r=n.environment,i=n.playerConfig,o=r.canAutoplay===a.a.MUTED,s=i.autoplay&&o;return i.muted||"1"==t||"0"==e||s}function i(t){var e=t.config$,n=t.muteToggle$,r=t.volume$;return e.pluck("mutedConfig").concat(o.a.merge(n,r.filter(function(t){return"cookie"!==t.type}).map(function(t){return 0===t.level}))).distinctUntilChanged()}e.b=r,e.a=i;var o=n(0),a=n(140)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=(n(137),{ALWAYS:"ALWAYS",MUTED:"MUTED",NEVER:"NEVER"})},function(t,e,n){"use strict";function r(t,e,n){if(!e||0==e.length||!n||0==n.length||e.length!==n.length)return t;var r=e.indexOf("GDFP");return r>=0?n[r]:t}e.a=r},function(t,e,n){"use strict";function r(){return{cneSvgDefs:!0,mediaLoader:!0,cne360Container:!0,adClickMask:!0,adContainer:!0,posterImage:!0,cneAnimatedClip:!0,cneScrubPoster:!0,cneBigPlayTitle:!0,loadingSpinner:!0,cneTextTrackDisplay:!0,persistentShare:{children:{shareWidget:!0,shareDropdown:{children:[{name:"ShareDropdownItem",action:"facebook"},{name:"ShareDropdownItem",action:"twitter"},{name:"ShareDropdownItem",action:"email"},{name:"ShareDropdownItem",action:"more"}]}}},cneOverlay:{children:{shareOverlay:{children:{shareActions:{children:[{name:"ShareActionButton",action:"facebook",ariaLabel:Object(o.a)("cne-aria-share-facebook")},{name:"ShareActionButton",action:"twitter",ariaLabel:Object(o.a)("cne-aria-share-twitter")},{name:"ShareActionButton",action:"tumblr",ariaLabel:Object(o.a)("cne-aria-share-tumblr")},{name:"ShareActionButton",action:"googleplus",ariaLabel:Object(o.a)("cne-aria-share-googleplus")},{name:"ShareActionButton",action:"pinterest",ariaLabel:Object(o.a)("cne-aria-share-pinterest")},{name:"ShareActionButton",action:"embed",ariaLabel:Object(o.a)("cne-aria-share-embed")},{name:"ShareActionButton",action:"url",ariaLabel:Object(o.a)("cne-aria-share-url")},{name:"ShareActionButton",action:"email",ariaLabel:Object(o.a)("cne-aria-share-email")}]},shareEmbed:!0,shareUrl:!0}},cneMessageOverlay:!0,cneLiveOverlay:!0,cneClose:!0}},cneLiveIndicatorActive:!0,cneLiveIndicatorAd:!0,controlBar:{children:u()},cneMessage:!0,cne360Compass:!0,cneVideoTitle:!0,persistentMute:!0}}e.a=r,n.d(e,"b",function(){return a});var i=n(90),o=n(3),a=function(){return{children:{playlistHeader:!0,playlistBody:{children:[{name:"playlistArrow",direction:"left"},{name:"playlistItemsContainer",children:{playlistItems:!0}},{name:"playlistArrow",direction:"right"}]}}}},s=function(){return{children:{cnePlayerSettings:{title:Object(o.a)("cne-player-settings-title"),children:[{name:"cneOptionGroup",className:"cne-settings-option-group cne-video-quality",defaultValue:i.c.defaultValues.videoQuality,label:Object(o.a)("cne-player-video-quality"),listItems:Object(i.b)().videoQuality,settingKey:"videoQuality",title:"player settings"},{name:"cneButton",className:"cne-settings-button",text:Object(o.a)("cne-player-caption-options"),intents:[{type:"intent:show-settings-submenu",data:"CnePlayerSettings"}]}]},cneCaptionOptions:{title:Object(o.a)("cne-player-caption-title"),children:[{name:"cneDropdown",className:"cne-captions-language",defaultValue:Object(i.a)().defaultValues.language,label:Object(o.a)("cne-player-language"),listItems:Object(i.b)().language,settingKey:"language",title:"closed captions language"},{name:"cneDropdown",className:"cne-captions-font-size",defaultValue:Object(i.a)().defaultValues.fontSize,label:Object(o.a)("cne-player-font-size"),listItems:Object(i.b)().fontSize,settingKey:"fontSize",title:"closed captions font size"},{name:"cneOptionGroup",className:"cne-captions-position",defaultValue:Object(i.a)().defaultValues.position,label:Object(o.a)("cne-player-position"),listItems:Object(i.b)().position,settingKey:"position",title:"closed captions position"},{name:"cneButton",className:"cne-settings-button cne-style-options-button",text:Object(o.a)("cne-player-style-options"),intents:[{type:"intent:show-settings-submenu",data:"CneCaptionStyles"}]}]}}}},u=function(){var t={progressControl:{children:{seekBar:{children:{loadProgressBar:!0,playProgressBar:{timeTooltip:!0},cneScrubberThumb:!0}}}},cneFullscreenToggle:!0,playToggle:!0,cneLiveIndicator:!0,cneVolumeToggle:{children:{muteToggle:!0,volumeControl:{vertical:!0,children:{volumeBar:{children:{volumeLevel:!0}}}}}},cneVolumeAlert:!0,cneCaptionsButton:!0,cneSettings:{children:{cneSettingsToggle:!0,cneSettingsMenu:{children:{settingsHeader:!0,settingsBody:s(),settingsFooter:!0}}}},currentTimeDisplay:!0,durationDisplay:!0,remainingTimeDisplay:!0};return t.fullscreenToggle=!0,t}},function(t,e,n){"use strict";var r,i,o,a,s,u=n(361).toUnsigned;r=function(t,e){var n,o,a,s,c,l=[];if(!e.length)return null;for(n=0;n<t.byteLength;)o=u(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),a=i(t.subarray(n+4,n+8)),s=o>1?n+o:t.byteLength,a===e[0]&&(1===e.length?l.push(t.subarray(n+8,s)):(c=r(t.subarray(n+8,s),e.slice(1)),c.length&&(l=l.concat(c)))),n=s;return l},i=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},o=function(t){var e={};return r(t,["moov","trak"]).reduce(function(t,e){var n,i,o,a,s;return(n=r(e,["tkhd"])[0])?(i=n[0],o=0===i?12:20,a=u(n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3]),(s=r(e,["mdia","mdhd"])[0])?(i=s[0],o=0===i?12:20,t[a]=u(s[o]<<24|s[o+1]<<16|s[o+2]<<8|s[o+3]),t):null):null},e)},a=function(t,e){var n,i,o;return n=r(e,["moof","traf"]),i=[].concat.apply([],n.map(function(e){return r(e,["tfhd"]).map(function(n){var i,o,a;return i=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),o=t[i]||9e4,a=r(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=u(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=u(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0],(a=a||1/0)/o})})),o=Math.min.apply(null,i),isFinite(o)?o:0},s=function(t){var e=r(t,["moov","trak"]),n=[];return e.forEach(function(t){var e=r(t,["mdia","hdlr"]),o=r(t,["tkhd"]);e.forEach(function(t,e){var r,a,s,u=i(t.subarray(8,12)),c=o[e];"vide"===u&&(r=new DataView(c.buffer,c.byteOffset,c.byteLength),a=r.getUint8(0),s=0===a?r.getUint32(12):r.getUint32(20),n.push(s))})}),n},t.exports={findBox:r,parseType:i,timescale:o,startTime:a,videoTrackIds:s}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){n(37),n(65),n(73),n(151),t.exports=n(10).Map},function(t,e,n){var r=n(66),i=n(48);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(50),i=n(47),o=n(41),a={};n(25)(a,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(20),i=n(70),o=n(149);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(66),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){"use strict";var r=n(96),i=n(97),o=n(40),a=n(20);t.exports=n(67)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(98);t.exports=n(100)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(this,t);return e&&e.v},set:function(t,e){return r.def(this,0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(18);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(40),i=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(61),i=n(5)("iterator"),o=n(40);t.exports=n(10).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(6),i=n(102).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){n(103),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(175),n(177),n(37),t.exports=n(10).Object},function(t,e,n){var r=n(9),i=n(10),o=n(49),a=n(104),s=n(15).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(31),i=n(20);t.exports=function(t,e){for(var n,o=i(t),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===e)return n}},function(t,e,n){var r=n(31),i=n(78),o=n(51);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(11);r(r.S,"Object",{create:n(50)})},function(t,e,n){var r=n(11);r(r.S+r.F*!n(12),"Object",{defineProperty:n(15).f})},function(t,e,n){var r=n(11);r(r.S+r.F*!n(12),"Object",{defineProperties:n(92)})},function(t,e,n){var r=n(20),i=n(77).f;n(13)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(42),i=n(95);n(13)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(42),i=n(31);n(13)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(13)("getOwnPropertyNames",function(){return n(106).f})},function(t,e,n){var r=n(6),i=n(32).onFreeze;n(13)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(6),i=n(32).onFreeze;n(13)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(6),i=n(32).onFreeze;n(13)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(6);n(13)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(6);n(13)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(6);n(13)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(11);r(r.S+r.F,"Object",{assign:n(174)})},function(t,e,n){"use strict";var r=n(31),i=n(78),o=n(51),a=n(42),s=n(69),u=Object.assign;t.exports=!u||n(26)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,p=o.f;u>c;)for(var d,h=s(arguments[c++]),f=l?r(h).concat(l(h)):r(h),y=f.length,v=0;y>v;)p.call(h,d=f[v++])&&(n[d]=h[d]);return n}:u},function(t,e,n){var r=n(11);r(r.S,"Object",{is:n(176)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(11);r(r.S,"Object",{setPrototypeOf:n(102).set})},function(t,e,n){n(37),n(65),n(73),n(179),t.exports=n(10).Promise},function(t,e,n){"use strict";var r,i,o,a=n(49),s=n(9),u=n(27),c=n(61),l=n(11),p=n(6),d=n(68),h=n(75),f=n(76),y=n(180),v=n(108).set,m=n(182)(),g=s.TypeError,b=s.process,_=s.Promise,b=s.process,T="process"==c(b),w=function(){},S=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(w,w)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(w)instanceof e}catch(t){}}(),O=function(t,e){return t===e||t===_&&e===o},k=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},C=function(t){return O(_,t)?new E(t):new i(t)},E=i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw g("Bad Promise constructor");e=t,n=r}),this.resolve=d(e),this.reject=d(n)},P=function(t){try{t()}catch(t){return{error:t}}},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{a?(i||(2==t._h&&L(t),t._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===e.promise?u(g("Promise-chain cycle")):(o=k(n))?o.call(n,s,u):s(n)):u(r)}catch(t){u(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&x(t)})}},x=function(t){v.call(s,function(){var e,n,r,i=t._v;if(j(t)&&(e=P(function(){T?b.emit("unhandledRejection",i,t):(n=s.onunhandledrejection)?n({promise:t,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=T||j(t)?2:1),t._a=void 0,e)throw e.error})},j=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!j(e.promise))return!1;return!0},L=function(t){v.call(s,function(){var e;T?b.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},M=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw g("Promise can't be resolved itself");(e=k(t))?m(function(){var r={_w:n,_d:!1};try{e.call(t,u(M,r,1),u(I,r,1))}catch(t){I.call(r,t)}}):(n._v=t,n._s=1,A(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}};S||(_=function(t){h(this,_,"Promise","_h"),d(t),r.call(this);try{t(u(M,this,1),u(I,this,1))}catch(t){I.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(74)(_.prototype,{then:function(t,e){var n=C(y(this,_));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),E=function(){var t=new r;this.promise=t,this.resolve=u(M,t,1),this.reject=u(I,t,1)}),l(l.G+l.W+l.F*!S,{Promise:_}),n(41)(_,"Promise"),n(99)("Promise"),o=n(10).Promise,l(l.S+l.F*!S,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(a||!S),"Promise",{resolve:function(t){if(t instanceof _&&O(t.constructor,this))return t;var e=C(this);return(0,e.resolve)(t),e.promise}}),l(l.S+l.F*!(S&&n(101)(function(t){_.all(t).catch(w)})),"Promise",{all:function(t){var e=this,n=C(e),r=n.resolve,i=n.reject,o=P(function(){var n=[],o=0,a=1;f(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=C(e),r=n.reject,i=P(function(){f(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(t,e,n){var r=n(18),i=n(68),o=n(5)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(9),i=n(108).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(38)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,p=document.createTextNode("");new o(c).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){n(37),n(65),n(73),n(184),t.exports=n(10).Set},function(t,e,n){"use strict";var r=n(98);t.exports=n(100)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){n(103),n(37),t.exports=n(10).Symbol},function(t,e,n){n(187),t.exports=n(10).Array.find},function(t,e,n){"use strict";var r=n(11),i=n(188)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(96)("find")},function(t,e,n){var r=n(27),i=n(69),o=n(42),a=n(70),s=n(189);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,p=6==t,d=5==t||p,h=e||s;return function(e,s,f){for(var y,v,m=o(e),g=i(m),b=r(s,f,3),_=a(g.length),T=0,w=n?h(e,_):u?h(e,0):void 0;_>T;T++)if((d||T in g)&&(y=g[T],v=b(y,T,m),t))if(n)w[T]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return T;case 2:w.push(y)}else if(l)return!1;return p?-1:c||l?l:w}}},function(t,e,n){var r=n(190);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(6),i=n(105),o=n(5)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";function r(t){return{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,adType:null,VERSION:b,reset:function(){t.ads.disableNextSnapshotRestore=!1,t.ads._contentEnding=!1,t.ads._contentHasEnded=!1,t.ads.snapshot=null,t.ads.adType=null,t.ads._hasThereBeenALoadedData=!1,t.ads._hasThereBeenALoadedMetaData=!1,t.ads._cancelledPlay=!1,t.ads._shouldBlockPlay=!1,t.ads._playBlocked=!1,t.ads.nopreroll_=!1,t.ads.nopostroll_=!1,t.ads._playRequested=!1},startLinearAdMode:function(){t.ads._state.startLinearAdMode()},endLinearAdMode:function(){t.ads._state.endLinearAdMode()},skipLinearAdMode:function(){t.ads._state.skipLinearAdMode()},stitchedAds:function(t){return void 0!==t&&(f.a.log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."),this.settings.stitchedAds=!!t),this.settings.stitchedAds},videoElementRecycled:function(){if(t.ads.shouldPlayContentBehindAd(t))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var e=t.tech_.src()!==this.snapshot.src,n=t.currentSrc()!==this.snapshot.currentSrc;return e||n},isLive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return"boolean"==typeof e.ads.settings.contentIsLive?e.ads.settings.contentIsLive:e.duration()===1/0||"8"===f.a.browser.IOS_VERSION&&0===e.duration()},shouldPlayContentBehindAd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;if(e)return!!e.ads.settings.liveCuePoints&&(!f.a.browser.IS_IOS&&!f.a.browser.IS_ANDROID&&e.duration()===1/0);throw new Error("shouldPlayContentBehindAd requires a player as a param")},shouldTakeSnapshots:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return!this.shouldPlayContentBehindAd(e)&&!this.stitchedAds()},isInAdMode:function(){return this._state.isAdState()},isWaitingForAdBreak:function(){return this._state.isWaitingForAdBreak()},isContentResuming:function(){return this._state.isContentResuming()},isAdPlaying:function(){return this._state.inAdBreak()},inAdBreak:function(){return this._state.inAdBreak()},removeNativePoster:function(){var e=t.$(".vjs-tech");e&&e.removeAttribute("poster")},debug:function(){if(this.settings.debug){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];1===e.length&&"string"==typeof e[0]?f.a.log("ADS: "+e[0]):f.a.log.apply(f.a,["ADS:"].concat(e))}}}}function i(t){"playing"===t.type?w(this,t):"ended"===t.type?S(this,t):"loadstart"===t.type||"loadeddata"===t.type||"loadedmetadata"===t.type?O(this,t):"play"===t.type?k(this,t):this.ads.isInAdMode()&&(this.ads.isContentResuming()?T(this,"content",t):T(this,"ad",t))}function o(t){t.ads.contentSrc=t.currentSrc(),t.ads._seenInitialLoadstart=!1;var e=function(){if(!t.ads.inAdBreak()){var e=t.currentSrc();e!==t.ads.contentSrc&&(t.ads._seenInitialLoadstart&&t.trigger({type:"contentchanged"}),t.trigger({type:"contentupdate",oldValue:t.ads.contentSrc,newValue:e}),t.ads.contentSrc=e),t.ads._seenInitialLoadstart=!0}};t.on("loadstart",e)}function a(t,e,n){var r=this,i={};t=t.replace(/{([^}=]+)=([^}]+)}/g,function(t,e,n){return i["{"+e+"}"]=n,"{"+e+"}"}),void 0===e&&(e=!1);var o={};void 0!==n&&(o=n),o["{player.id}"]=this.options_["data-player"],o["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",o["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",o["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",o["{player.duration}"]=this.duration(),o["{timestamp}"]=(new Date).getTime(),o["{document.referrer}"]=g.a.referrer,o["{window.location.href}"]=v.a.location.href,o["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach(function(t){r.mediainfo&&r.mediainfo[t]?o["{mediainfo."+t+"}"]=r.mediainfo[t]:i["{mediainfo."+t+"}"]?o["{mediainfo."+t+"}"]=i["{mediainfo."+t+"}"]:o["{mediainfo."+t+"}"]=""}),j(this.mediainfo,o,"custom_fields"),j(this.mediainfo,o,"customFields");for(var a in o)t=t.split(a).join(x(o[a],e));t=t.replace(/{pageVariable\.([^}]+)}/g,function(t,n){for(var r=void 0,o=v.a,a=n.split("."),s=0;s<a.length;s++)s===a.length-1?r=o[a[s]]:o=o[a[s]];var u=void 0===r?"undefined":C(r);return null===r?"null":void 0===r?i["{pageVariable."+n+"}"]?i["{pageVariable."+n+"}"]:(f.a.log.warn('Page variable "'+n+'" not found'),""):"string"!==u&&"number"!==u&&"boolean"!==u?(f.a.log.warn('Page variable "'+n+'" is not a supported type'),""):x(String(r),e)});for(var s in i)t=t.replace(s,i[s]);return t}function s(t,e){e&&f.a.log("ADS:","Using cancelContentPlay to block content playback"),t.on("play",u)}function u(){var t=this;!1!==t.ads._shouldBlockPlay&&(t.paused()||(t.ads.debug("Playback was canceled by cancelContentPlay"),t.pause()),t.ads._cancelledPlay=!0)}function c(t){var e=void 0;e=f.a.browser.IS_IOS&&t.ads.isLive(t)&&t.seekable().length>0?t.currentTime()-t.seekable().end(0):t.currentTime();var n=t.$(".vjs-tech"),r=t.textTracks?t.textTracks():[],i=[],o={ended:t.ended(),currentSrc:t.currentSrc(),sources:t.currentSources(),src:t.tech_.src(),currentTime:e,type:t.currentType()};n&&(o.style=n.getAttribute("style"));for(var a=0;a<r.length;a++){var s=r[a];i.push({track:s,mode:s.mode}),s.mode="disabled"}return o.suppressedTracks=i,o}function l(t,e){var n=t.ads.snapshot;if(void 0===e&&(e=function(){}),!0===t.ads.disableNextSnapshotRestore)return t.ads.disableNextSnapshotRestore=!1,delete t.ads.snapshot,void e();var r=t.$(".vjs-tech"),i=20,o=n.suppressedTracks,a=void 0,s=function(){for(var t=0;t<o.length;t++)a=o[t],a.track.mode=a.mode},u=function(){var e=void 0;if(f.a.browser.IS_IOS&&t.ads.isLive(t)){if(n.currentTime<0&&(e=t.seekable().length>0?t.seekable().end(0)+n.currentTime:t.currentTime(),t.currentTime(e)),t.paused()){var r=t.play();r&&r.catch&&r.catch(function(t){f.a.log.warn("Play promise rejected in IOS snapshot resume",t)})}}else if(n.ended)t.currentTime(t.duration());else{t.currentTime(n.currentTime);var i=t.play();i&&i.catch&&i.catch(function(t){f.a.log.warn("Play promise rejected in snapshot resume",t)})}t.ads.shouldRemoveAutoplay_&&(t.autoplay(!1),t.ads.shouldRemoveAutoplay_=!1)},c=function e(){if(t.off("contentcanplay",e),H&&t.clearTimeout(H),r=t.el().querySelector(".vjs-tech"),r.readyState>1)return u();if(void 0===r.seekable)return u();if(r.seekable.length>0)return u();if(i--)t.setTimeout(e,50);else try{u()}catch(t){f.a.log.warn("Failed to resume the content after an advertisement",t)}};if("style"in n&&r.setAttribute("style",n.style||""),t.ads.videoElementRecycled())t.one("resumeended",function(){delete t.ads.snapshot,e()}),t.one("contentloadedmetadata",s),f.a.browser.IS_IOS&&!t.autoplay()&&(t.autoplay(!0),t.ads.shouldRemoveAutoplay_=!0),t.src(n.sources),t.one("contentcanplay",c),H=t.setTimeout(c,2e3);else{if(s(),!t.ended()){var l=t.play();l&&l.catch&&l.catch(function(t){f.a.log.warn("Play promise rejected in snapshot restore",t)})}delete t.ads.snapshot,e()}}function p(t){t.ads.debug("Starting ad break"),t.ads._inLinearAdMode=!0,t.trigger("adstart"),t.ads.shouldTakeSnapshots()&&(t.ads.snapshot=c(t)),t.ads.shouldPlayContentBehindAd(t)&&(t.ads.preAdVolume_=t.volume(),t.volume(0)),t.addClass("vjs-ad-playing"),t.hasClass("vjs-live")&&t.removeClass("vjs-live"),t.ads.removeNativePoster()}function d(t,e){t.ads.debug("Ending ad break"),void 0===e&&(e=function(){}),t.ads.adType=null,t.ads._inLinearAdMode=!1,t.trigger("adend"),t.removeClass("vjs-ad-playing"),t.ads.isLive(t)&&t.addClass("vjs-live"),t.ads.shouldTakeSnapshots()?l(t,e):(t.volume(t.ads.preAdVolume_),e())}var h=n(2),f=n.n(h),y=n(192),v=n.n(y),m=n(193),g=n.n(m),b="6.6.0",_=function(t,e){e.isImmediatePropagationStopped=function(){return!0},e.cancelBubble=!0,e.isPropagationStopped=function(){return!0}},T=function(t,e,n){_(0,n),t.trigger({type:e+n.type,originalEvent:n})},w=function(t,e){t.ads.isInAdMode()&&(t.ads.isContentResuming()?t.ads._contentEnding&&T(t,"content",e):T(t,"ad",e))},S=function(t,e){t.ads.isInAdMode()?t.ads.isContentResuming()?(_(0,e),t.trigger("resumeended")):T(t,"ad",e):t.ads._contentHasEnded||t.ads.stitchedAds()||(T(t,"content",e),t.trigger("readyforpostroll"))},O=function(t,e){if(!("loadstart"===e.type&&!t.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===e.type&&!t.ads._hasThereBeenALoadedData||"loadedmetadata"===e.type&&!t.ads._hasThereBeenALoadedMetaData))if(t.ads.inAdBreak())T(t,"ad",e);else{if(t.currentSrc()!==t.ads.contentSrc)return;T(t,"content",e)}},k=function(t,e){t.ads.inAdBreak()?T(t,"ad",e):t.ads.isContentResuming()&&T(t,"content",e)},C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,i){var s={key:t,arg:e,resolve:n,reject:i,next:null};a?a=a.next=s:(o=a=s,r(t,e))})}function r(n,o){try{var a=e[n](o),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){r("next",t)},function(t){r("throw",t)}):i(a.done?"return":"normal",a.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}o=o.next,o?r(o.key,o.arg):a=null}var o,a;this._invoke=n,"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),P=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},A=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},x=function(t,e){return e?encodeURIComponent(t):t},j=function(t,e,n){if(t&&t[n])for(var r=t[n],i=Object.keys(r),o=0;o<i.length;o++){var a="{mediainfo."+n+"."+i[o]+"}";e[a]=r[i[o]]}},L={};L.processMetadataTracks=function(t,e){for(var n=t.textTracks(),r=function(n){"metadata"===n.kind&&(t.ads.cueTextTracks.setMetadataTrackMode(n),e(t,n))},i=0;i<n.length;i++)r(n[i]);n.addEventListener("addtrack",function(t){r(t.track)})},L.setMetadataTrackMode=function(t){},L.getSupportedAdCue=function(t,e){return e},L.isSupportedAdCue=function(t,e){return!0},L.getCueId=function(t,e){return e.id};var I=function(t,e){return void 0!==e&&t.ads.includedCues[e]},M=function(t,e){void 0!==e&&""!==e&&(t.ads.includedCues[e]=!0)};L.processAdTrack=function(t,e,n,r){t.ads.includedCues={};for(var i=0;i<e.length;i++){var o=e[i],a=this.getSupportedAdCue(t,o);if(!this.isSupportedAdCue(t,o))return void f.a.log.warn("Skipping as this is not a supported ad cue.",o);var s=this.getCueId(t,o),u=o.startTime;if(I(t,s))return void f.a.log("Skipping ad already seen with ID "+s);r&&r(t,a,s,u),n(t,a,s,u),M(t,s)}};var D={},R=f.a;D.isMiddlewareMediatorSupported=function(){return!R.browser.IS_IOS&&!R.browser.IS_ANDROID&&!!(R.use&&R.middleware&&R.middleware.TERMINATOR)},D.playMiddleware=function(t){return{setSource:function(t,e){e(null,t)},callPlay:function(){if(t.ads&&!0===t.ads._shouldBlockPlay)return t.ads.debug("Using playMiddleware to block content playback"),t.ads._playBlocked=!0,R.middleware.TERMINATOR},play:function(e,n){t.ads&&t.ads._playBlocked&&e?(t.ads.debug("Play call to Tech was terminated."),t.trigger("play"),t.addClass("vjs-has-started"),t.ads._playBlocked=!1):n&&n.catch&&n.catch(function(e){"play() failed because the user didn't interact with the document first. https://goo.gl/xX8pDD"===e.message&&t.trigger("pause")})}}},D.testHook=function(t){R=t};var U=D.playMiddleware,N=D.isMiddlewareMediatorSupported,B=function(){if(f.a.getPlugin)return Boolean(f.a.getPlugin("ads"));var t=f.a.getComponent("Player");return Boolean(t&&t.prototype.ads)},$=function(){function t(e){E(this,t),this.player=e}return t._getName=function(){return"Anonymous State"},t.prototype.transitionTo=function(t){var e=this.player,n=this;n.cleanup(e);var r=new t(e);e.ads._state=r,e.ads.debug(n.constructor._getName()+" -> "+r.constructor._getName());for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];r.init.apply(r,[e].concat(o))},t.prototype.init=function(){},t.prototype.cleanup=function(){},t.prototype.onPlay=function(){},t.prototype.onPlaying=function(){},t.prototype.onEnded=function(){},t.prototype.onAdEnded=function(){},t.prototype.onAdsReady=function(){f.a.log.warn("Unexpected adsready event")},t.prototype.onAdsError=function(){},t.prototype.onAdsCanceled=function(){},t.prototype.onAdTimeout=function(){},t.prototype.onAdStarted=function(){},t.prototype.onContentChanged=function(){},t.prototype.onDispose=function(){},t.prototype.onContentResumed=function(){},t.prototype.onReadyForPostroll=function(){f.a.log.warn("Unexpected readyforpostroll event")},t.prototype.onNoPreroll=function(){},t.prototype.onNoPostroll=function(){},t.prototype.startLinearAdMode=function(){f.a.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.prototype.endLinearAdMode=function(){f.a.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.prototype.skipLinearAdMode=function(){f.a.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.prototype.isAdState=function(){throw new Error("isAdState unimplemented for "+this.constructor._getName())},t.prototype.isWaitingForAdBreak=function(){return!1},t.prototype.isContentResuming=function(){return!1},t.prototype.inAdBreak=function(){return!1},t.prototype.handleEvent=function(t){var e=this.player;"play"===t?this.onPlay(e):"adsready"===t?this.onAdsReady(e):"adserror"===t?this.onAdsError(e):"adscanceled"===t?this.onAdsCanceled(e):"adtimeout"===t?this.onAdTimeout(e):"ads-ad-started"===t?this.onAdStarted(e):"contentchanged"===t?this.onContentChanged(e):"dispose"===t?this.onDispose(e):"contentresumed"===t?this.onContentResumed(e):"readyforpostroll"===t?this.onReadyForPostroll(e):"playing"===t?this.onPlaying(e):"ended"===t?this.onEnded(e):"nopreroll"===t?this.onNoPreroll(e):"nopostroll"===t?this.onNoPostroll(e):"adended"===t&&this.onAdEnded(e)},t}(),F=function(t){function e(n){E(this,e);var r=A(this,t.call(this,n));return r.contentResuming=!1,r.waitingForAdBreak=!1,r}return P(e,t),e.prototype.isAdState=function(){return!0},e.prototype.onPlaying=function(){this.contentResuming&&this.transitionTo(Y)},e.prototype.onContentResumed=function(){this.contentResuming&&this.transitionTo(Y)},e.prototype.isWaitingForAdBreak=function(){return this.waitingForAdBreak},e.prototype.isContentResuming=function(){return this.contentResuming},e.prototype.inAdBreak=function(){return!0===this.player.ads._inLinearAdMode},e}($),V=function(t){function e(){return E(this,e),A(this,t.apply(this,arguments))}return P(e,t),e.prototype.isAdState=function(){return!1},e.prototype.onContentChanged=function(t){t.ads.debug("Received contentchanged event (ContentState)"),t.paused()?this.transitionTo(X):(this.transitionTo(z,!1),t.pause(),t.ads._pausedOnContentupdate=!0)},e}($),H=void 0,q={start:p,end:d},z=function(t){function e(){return E(this,e),A(this,t.apply(this,arguments))}return P(e,t),e._getName=function(){return"Preroll"},e.prototype.init=function(t,e,n){if(this.waitingForAdBreak=!0,t.addClass("vjs-ad-loading"),n||t.ads.nopreroll_)return this.resumeAfterNoPreroll(t);var r=t.ads.settings.timeout;"number"==typeof t.ads.settings.prerollTimeout&&(r=t.ads.settings.prerollTimeout),this._timeout=t.setTimeout(function(){t.trigger("adtimeout")},r),e?this.handleAdsReady():this.adsReady=!1},e.prototype.onAdsReady=function(t){t.ads.inAdBreak()?f.a.log.warn("Unexpected adsready event (Preroll)"):(t.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},e.prototype.handleAdsReady=function(){this.adsReady=!0,this.readyForPreroll()},e.prototype.afterLoadStart=function(t){var e=this.player;e.ads._hasThereBeenALoadStartDuringPlayerLife?t():(e.ads.debug("Waiting for loadstart..."),e.one("loadstart",function(){e.ads.debug("Received loadstart event"),t()}))},e.prototype.noPreroll=function(){var t=this;this.afterLoadStart(function(){t.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),t.resumeAfterNoPreroll(t.player)})},e.prototype.readyForPreroll=function(){var t=this.player;this.afterLoadStart(function(){t.ads.debug("Triggered readyforpreroll event (Preroll)"),t.trigger("readyforpreroll")})},e.prototype.onAdsCanceled=function(t){var e=this;t.ads.debug("adscanceled (Preroll)"),this.afterLoadStart(function(){e.resumeAfterNoPreroll(t)})},e.prototype.onAdsError=function(t){var e=this;f.a.log("adserror (Preroll)"),this.inAdBreak()?t.ads.endLinearAdMode():this.afterLoadStart(function(){e.resumeAfterNoPreroll(t)})},e.prototype.startLinearAdMode=function(){var t=this.player;!this.adsReady||t.ads.inAdBreak()||this.isContentResuming()?f.a.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(t.clearTimeout(this._timeout),t.ads.adType="preroll",this.waitingForAdBreak=!1,q.start(t),t.ads._shouldBlockPlay=!1)},e.prototype.onAdStarted=function(t){t.removeClass("vjs-ad-loading")},e.prototype.endLinearAdMode=function(){var t=this.player;this.inAdBreak()&&(t.removeClass("vjs-ad-loading"),t.addClass("vjs-ad-content-resuming"),q.end(t),this.contentResuming=!0)},e.prototype.skipLinearAdMode=function(){var t=this,e=this.player;e.ads.inAdBreak()||this.isContentResuming()?f.a.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){e.trigger("adskip"),e.ads.debug("skipLinearAdMode (Preroll)"),t.resumeAfterNoPreroll(e)})},e.prototype.onAdTimeout=function(t){var e=this;this.afterLoadStart(function(){t.ads.debug("adtimeout (Preroll)"),e.resumeAfterNoPreroll(t)})},e.prototype.onNoPreroll=function(t){t.ads.inAdBreak()||this.isContentResuming()?f.a.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},e.prototype.resumeAfterNoPreroll=function(t){this.contentResuming=!0,t.ads._shouldBlockPlay=!1,t.paused()&&(t.ads._playRequested||t.ads._pausedOnContentupdate)&&t.play()},e.prototype.cleanup=function(t){t.ads._hasThereBeenALoadStartDuringPlayerLife||f.a.log.warn("Leaving Preroll state before loadstart event can cause issues."),t.removeClass("vjs-ad-loading"),t.removeClass("vjs-ad-content-resuming"),t.clearTimeout(this._timeout)},e}(F),W=function(t){function e(){return E(this,e),A(this,t.apply(this,arguments))}return P(e,t),e._getName=function(){return"Midroll"},e.prototype.init=function(t){t.ads.adType="midroll",q.start(t),t.addClass("vjs-ad-loading")},e.prototype.onAdStarted=function(t){t.removeClass("vjs-ad-loading")},e.prototype.endLinearAdMode=function(){var t=this.player;this.inAdBreak()&&(this.contentResuming=!0,t.addClass("vjs-ad-content-resuming"),t.removeClass("vjs-ad-loading"),q.end(t))},e.prototype.onAdsError=function(t){this.inAdBreak()&&t.ads.endLinearAdMode()},e.prototype.cleanup=function(t){t.removeClass("vjs-ad-loading"),t.removeClass("vjs-ad-content-resuming")},e}(F),G=function(t){function e(){return E(this,e),A(this,t.apply(this,arguments))}return P(e,t),e._getName=function(){return"Postroll"},e.prototype.init=function(t){if(this.waitingForAdBreak=!0,t.ads._contentEnding=!0,t.ads.nopostroll_)this.resumeContent(t),this.transitionTo(K);else{t.addClass("vjs-ad-loading");var e=t.ads.settings.timeout;"number"==typeof t.ads.settings.postrollTimeout&&(e=t.ads.settings.postrollTimeout),this._postrollTimeout=t.setTimeout(function(){t.trigger("adtimeout")},e)}},e.prototype.startLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?f.a.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(t.ads.adType="postroll",t.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,q.start(t))},e.prototype.onAdStarted=function(t){t.removeClass("vjs-ad-loading")},e.prototype.endLinearAdMode=function(){var t=this,e=this.player;this.inAdBreak()&&(e.removeClass("vjs-ad-loading"),this.resumeContent(e),q.end(e,function(){t.transitionTo(K)}))},e.prototype.skipLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?f.a.log.warn("Unexpected skipLinearAdMode invocation"):(t.ads.debug("Postroll abort (skipLinearAdMode)"),t.trigger("adskip"),this.abort(t))},e.prototype.onAdTimeout=function(t){t.ads.debug("Postroll abort (adtimeout)"),this.abort(t)},e.prototype.onAdsError=function(t){t.ads.debug("Postroll abort (adserror)"),t.ads.inAdBreak()?t.ads.endLinearAdMode():this.abort(t)},e.prototype.onContentChanged=function(t){this.isContentResuming()?this.transitionTo(X):this.inAdBreak()||this.transitionTo(z)},e.prototype.onNoPostroll=function(t){this.isContentResuming()||this.inAdBreak()?f.a.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(t)},e.prototype.resumeContent=function(t){this.contentResuming=!0,t.addClass("vjs-ad-content-resuming")},e.prototype.abort=function(t){this.resumeContent(t),t.removeClass("vjs-ad-loading"),this.transitionTo(K)},e.prototype.cleanup=function(t){t.removeClass("vjs-ad-content-resuming"),t.clearTimeout(this._postrollTimeout),t.ads._contentEnding=!1},e}(F),X=function(t){function e(){return E(this,e),A(this,t.apply(this,arguments))}return P(e,t),e._getName=function(){return"BeforePreroll"},e.prototype.init=function(t){this.adsReady=!1,this.shouldResumeToContent=!1,t.ads._shouldBlockPlay=!0},e.prototype.onAdsReady=function(t){t.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},e.prototype.onPlay=function(t){t.ads.debug("Received play event (BeforePreroll)"),this.transitionTo(z,this.adsReady,this.shouldResumeToContent)},e.prototype.onAdsCanceled=function(t){t.ads.debug("adscanceled (BeforePreroll)"),this.shouldResumeToContent=!0},e.prototype.onAdsError=function(){this.player.ads.debug("adserror (BeforePreroll)"),this.shouldResumeToContent=!0},e.prototype.onNoPreroll=function(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.shouldResumeToContent=!0},e.prototype.skipLinearAdMode=function(){var t=this.player;t.trigger("adskip"),t.ads.debug("skipLinearAdMode (BeforePreroll)"),this.shouldResumeToContent=!0},e.prototype.onContentChanged=function(){this.init(this.player),this.onPlay(this.player)},e.prototype.onDispose=function(){this.init(this.player)},e}(V),Y=function(t){function e(){return E(this,e),A(this,t.apply(this,arguments))}return P(e,t),e._getName=function(){return"ContentPlayback"},e.prototype.init=function(t){t.ads._shouldBlockPlay=!1},e.prototype.onAdsReady=function(t){t.ads.debug("Received adsready event (ContentPlayback)"),t.ads.nopreroll_||(t.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),t.trigger("readyforpreroll"))},e.prototype.onReadyForPostroll=function(t){t.ads.debug("Received readyforpostroll event"),this.transitionTo(G)},e.prototype.startLinearAdMode=function(){this.transitionTo(W)},e}(V),K=function(t){function e(){return E(this,e),A(this,t.apply(this,arguments))}return P(e,t),e._getName=function(){return"AdsDone"},e.prototype.init=function(t){t.ads._contentHasEnded=!0,t.trigger("ended")},e.prototype.startLinearAdMode=function(){f.a.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},e}(V),Q=function(t){function e(){return E(this,e),A(this,t.apply(this,arguments))}return P(e,t),e._getName=function(){return"StitchedAdRoll"},e.prototype.init=function(){this.waitingForAdBreak=!1,this.contentResuming=!1,this.player.ads.adType="stitched",q.start(this.player)},e.prototype.onPlaying=function(){},e.prototype.onContentResumed=function(){},e.prototype.onAdEnded=function(){this.endLinearAdMode(),this.player.trigger("ended")},e.prototype.endLinearAdMode=function(){q.end(this.player),this.transitionTo(J)},e}(F),J=function(t){function e(){return E(this,e),A(this,t.apply(this,arguments))}return P(e,t),e._getName=function(){return"StitchedContentPlayback"},e.prototype.init=function(){this.player.ads._shouldBlockPlay=!1},e.prototype.onContentChanged=function(){this.player.ads.debug("Received contentchanged event ("+this._getName()+")")},e.prototype.startLinearAdMode=function(){this.transitionTo(Q)},e}(V),Z=D.isMiddlewareMediatorSupported,tt=f.a.getTech("Html5").Events,et={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0},nt=function(t){var e=this,n=f.a.mergeOptions(et,t),u=tt.concat(["firstplay","loadedalldata","playing"]);e.on(u,i),Z()&&n.debug?f.a.log("ADS:","Play middleware has been registered with videojs"):s(e,n.debug),e.setTimeout(function(){e.ads._hasThereBeenALoadStartDuringPlayerLife||""===e.src()||f.a.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")},5e3),e.on("ended",function(){e.hasClass("vjs-has-started")||e.addClass("vjs-has-started")}),e.on("contenttimeupdate",function(){e.removeClass("vjs-waiting")}),e.on(["addurationchange","adcanplay"],function(){if((!e.ads.snapshot||e.currentSrc()!==e.ads.snapshot.currentSrc)&&e.ads.inAdBreak()){var t=e.play();t&&t.catch&&t.catch(function(t){f.a.log.warn("Play promise rejected when playing ad",t)})}}),e.on("nopreroll",function(){e.ads.debug("Received nopreroll event"),e.ads.nopreroll_=!0}),e.on("nopostroll",function(){e.ads.debug("Received nopostroll event"),e.ads.nopostroll_=!0}),e.on("playing",function(){e.ads._cancelledPlay=!1,e.ads._pausedOnContentupdate=!1}),e.on("play",function(){e.ads._playRequested=!0}),e.one("loadstart",function(){e.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),e.on("loadeddata",function(){e.ads._hasThereBeenALoadedData=!0}),e.on("loadedmetadata",function(){e.ads._hasThereBeenALoadedMetaData=!0}),e.ads=r(e),e.ads.settings=n,n.stitchedAds=!!n.stitchedAds,n.stitchedAds?e.ads._state=new J(e):e.ads._state=new X(e),e.ads._state.init(e),e.ads.cueTextTracks=L,e.ads.adMacroReplacement=a.bind(e),o(e),e.on("contentchanged",e.ads.reset);var c=function(){return!e.ads.shouldPlayContentBehindAd(e)&&e.ads.inAdBreak()&&e.tech_.featuresNativeTextTracks&&f.a.browser.IS_IOS&&!Array.isArray(e.textTracks())},l=function(){var t=e.textTracks();if(c())for(var n=0;n<t.length;n++){var r=t[n];"showing"===r.mode&&(r.mode="disabled")}};e.ready(function(){e.textTracks().addEventListener("change",l)}),e.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],function(t){e.ads._state.handleEvent(t.type)}),e.on("dispose",function(){e.ads.reset(),e.textTracks().removeEventListener("change",l)})};nt.VERSION=b,function(t){!B(f.a)&&((f.a.registerPlugin||f.a.plugin)("ads",t),N()&&!f.a.usingContribAdsMiddleware_&&(f.a.use("*",U),f.a.usingContribAdsMiddleware_=!0))}(nt)},function(t,e,n){var r;r="undefined"!=typeof window?window:"undefined"!=typeof self?self:{},t.exports=r},function(t,e,n){var r,i="undefined"!=typeof window?window:{},o=n(194);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=r},function(t,e){},function(t,e,n){"use strict";var r,i,o,a,s,u,c,l=n(60),p=n(352),d=n(363),h=n(364),f=n(365),y=n(367),v=n(368).H264Stream,m=n(370),g=n(371),b=n(372),_=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],T=["width","height","profileIdc","levelIdc","profileCompatibility"];s=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},u=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},c=function(t){var e,n,r=0;for(e=0;e<t.length;e++)n=t[e],r+=n.data.byteLength;return r},i=function(t,e){var n=[],r=0,o=0,a=0,s=1/0;e=e||{},i.prototype.init.call(this),this.push=function(e){h.collectDtsInfo(t,e),t&&_.forEach(function(n){t[n]=e[n]}),n.push(e)},this.setEarliestDts=function(e){o=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){a=t},this.flush=function(){var i,o,a,s;if(0===n.length)return void this.trigger("done","AudioSegmentStream");i=this.trimAdtsFramesByEarliestDts_(n),t.baseMediaDecodeTime=h.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.prefixWithSilence_(t,i),t.samples=this.generateSampleTable_(i),a=p.mdat(this.concatenateFrameData_(i)),n=[],o=p.moof(r,[t]),s=new Uint8Array(o.byteLength+a.byteLength),r++,s.set(o),s.set(a,o.byteLength),h.clearDtsInfo(t),this.trigger("data",{track:t,boxes:s}),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var n,r,i,o=0,u=0,c=0,l=0;if(e.length&&(n=b.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),o=Math.ceil(9e4/(t.samplerate/1024)),a&&s&&(u=n-Math.max(a,s),c=Math.floor(u/o),l=c*o),!(c<1||l>45e3))){for(r=g[t.samplerate],r||(r=e[0].data),i=0;i<c;i++)e.splice(i,0,{data:r});t.baseMediaDecodeTime-=Math.floor(b.videoTsToAudioTs(l,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return t.minSegmentDts>=o?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=o&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,r=[];for(e=0;e<t.length;e++)n=t[e],r.push({size:n.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(t){var e,n,r=0,i=new Uint8Array(c(t));for(e=0;e<t.length;e++)n=t[e],i.set(n.data,r),r+=n.data.byteLength;return i}},i.prototype=new l,r=function(t,e){var n,i,o=0,a=[],s=[];e=e||{},r.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){h.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],T.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),a.push(e)},this.flush=function(){for(var n,r,i,u,c,l;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=d.groupNalsIntoFrames(a),i=d.groupFramesIntoGops(n),i[0][0].keyFrame||(r=this.getGopForFusion_(a[0],t),r?(i.unshift(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.pts=r.pts,i.dts=r.dts,i.duration+=r.duration):i=d.extendFirstKeyFrame(i)),s.length){var f;if(!(f=e.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");h.clearDtsInfo(t),i=f}h.collectDtsInfo(t,i),t.samples=d.generateSampleTable(i),c=p.mdat(d.concatenateNalData(i)),t.baseMediaDecodeTime=h.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=p.moof(o,[t]),l=new Uint8Array(u.byteLength+c.byteLength),o++,l.set(u),l.set(c,u.byteLength),this.trigger("data",{track:t,boxes:l}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){h.clearDtsInfo(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,r,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)o=this.gopCache_[a],i=o.gop,t.pps&&u(t.pps[0],o.pps[0])&&t.sps&&u(t.sps[0],o.sps[0])&&(i.dts<t.timelineStartInfo.dts||(n=e.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=o,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(t){var e,n,r,i,o,a,u,c;for(o=t.byteLength,a=t.nalCount,u=t.duration,e=n=0;e<s.length&&n<t.length&&(r=s[e],i=t[n],r.pts!==i.pts);)i.pts>r.pts?e++:(n++,o-=i.byteLength,a-=i.nalCount,u-=i.duration);return 0===n?t:n===t.length?null:(c=t.slice(n),c.byteLength=o,c.duration=u,c.nalCount=a,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(t){var e,n,r,i,o,a;for(e=s.length-1,n=t.length-1,o=null,a=!1;e>=0&&n>=0;){if(r=s[e],i=t[n],r.pts===i.pts){a=!0;break}r.pts>i.pts?e--:(e===s.length-1&&(o=n),n--)}if(!a&&null===o)return null;var u;if(0===(u=a?n:o))return t;var c=t.slice(u),l=c.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return c.byteLength=l.byteLength,c.duration=l.duration,c.nalCount=l.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(t){s=t}},r.prototype=new l,a=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}},a.prototype=new l,a.prototype.flush=function(t){var e,n,r,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,T.forEach(function(t){a.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,_.forEach(function(t){a.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=p.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)e=this.pendingCaptions[i],e.startTime=e.startPts-s,e.startTime/=9e4,e.endTime=e.endPts-s,e.endTime/=9e4,a.captionStreams[e.stream]=!0,a.captions.push(e);for(i=0;i<this.pendingMetadata.length;i++)n=this.pendingMetadata[i],n.cueTime=n.pts-s,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},o=function(t){var e,n,u=this,c=!0;o.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new f.MetadataStream,e.aacStream=new m,e.audioTimestampRolloverStream=new f.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new f.TimestampRolloverStream("timed-metadata"),e.adtsStream=new y,e.coalesceStream=new a(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(r){"timed-metadata"!==r.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:u.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new i(n,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var o={};this.transmuxPipeline_=o,o.type="ts",o.metadataStream=new f.MetadataStream,o.packetStream=new f.TransportPacketStream,o.parseStream=new f.TransportParseStream,o.elementaryStream=new f.ElementaryStream,o.videoTimestampRolloverStream=new f.TimestampRolloverStream("video"),o.audioTimestampRolloverStream=new f.TimestampRolloverStream("audio"),o.timedMetadataTimestampRolloverStream=new f.TimestampRolloverStream("timed-metadata"),o.adtsStream=new y,o.h264Stream=new v,o.captionStream=new f.CaptionStream,o.coalesceStream=new a(t,o.metadataStream),o.headOfPipeline=o.packetStream,o.packetStream.pipe(o.parseStream).pipe(o.elementaryStream),o.elementaryStream.pipe(o.videoTimestampRolloverStream).pipe(o.h264Stream),o.elementaryStream.pipe(o.audioTimestampRolloverStream).pipe(o.adtsStream),o.elementaryStream.pipe(o.timedMetadataTimestampRolloverStream).pipe(o.metadataStream).pipe(o.coalesceStream),o.h264Stream.pipe(o.captionStream).pipe(o.coalesceStream),o.elementaryStream.on("data",function(a){var s;if("metadata"===a.type){for(s=a.tracks.length;s--;)e||"video"!==a.tracks[s].type?n||"audio"!==a.tracks[s].type||(n=a.tracks[s],n.timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime):(e=a.tracks[s],e.timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime);e&&!o.videoSegmentStream&&(o.coalesceStream.numberOfTracks++,o.videoSegmentStream=new r(e,t),o.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,o.audioSegmentStream.setEarliestDts(t.dts))}),o.videoSegmentStream.on("processedGopsInfo",u.trigger.bind(u,"gopInfo")),o.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&o.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),o.h264Stream.pipe(o.videoSegmentStream).pipe(o.coalesceStream)),n&&!o.audioSegmentStream&&(o.coalesceStream.numberOfTracks++,o.audioSegmentStream=new i(n,t),o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream))}}),o.coalesceStream.on("data",this.trigger.bind(this,"data")),o.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=t,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,h.clearDtsInfo(n),n.timelineStartInfo.baseMediaDecodeTime=t,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,h.clearDtsInfo(e),r.captionStream.reset(),e.timelineStartInfo.baseMediaDecodeTime=t),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(c){var e=s(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),c=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){c=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},o.prototype=new l,t.exports={Transmuxer:o,VideoSegmentStream:r,AudioSegmentStream:i,AUDIO_PROPERTIES:_,VIDEO_PROPERTIES:T}},function(t,e,n){"use strict";(function(t){function r(t,e){var n=t.el().parentNode;n&&n.classList.remove("player-container");var r=t.cnePlaylistContainer;r&&r.dispose(),e.complete(),t.dfp.dispose(t.ads),setTimeout(function(){t.dispose()})}var i=n(28),o=(n.n(i),n(199)),a=n(0),s=n(324),u=n(325),c=n(330),l=n(331),p=n(332),d=n(333),h=n(334),f=n(337),y=n(338),v=n(339),m=n(340),g=n(341),b=(n(342),n(85)),_=n(23),T=(n(344),n(348)),w=n(58),S=n(59),O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k=S.a.misc,C=k.loadEmbedPiecesMark,E=k.createPlayerStartedMark,P=k.createPlayerStartedMeasure,A=function(t,e,n){var r=t.autoplayEnabled,i=t.urlVars,o=t.playerConfig,a=t.publicaEnabled,s=t.video,u=t.videoEl;n.addLanguage(e.language,e.videos_js_language_data);var c=n(u,e);return c.addClass("video-js"),c.dfp(O({},o,{autoplay:r,adsDisabled:o.adsDisabled,adUnitPath:o.iu,brand:s.brand,companionSize:Object(T.a)(o.companionSize),disableOutOfViewportAds:o.doova,urlVars:i,publicaEnabled:a,prebidData:s.prebidData})),o.has_playlist&&0!=o.showPlaylistBar&&Object(v.a)(c,t),c},x=function(e,n){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(_.a)(n),Object(_.c)("Player Requested");var T=Object(y.a)(n),S=T.playerContainer;S.classList.add("player-container");var k=n.playerConfig.play_btn_styles;k&&Object(m.a)(k,S);var x=n.playerConfig.aspectRatio;"16x9"!==x&&Object(g.a)(x,S);var j=A(T,v,e),L=Object(l.a)(j),I=a.a.of(O({},T,{videoEl:j.$("video.vjs-tech")})),M=Object(c.a)(I),D=new i.Subject,R=Object(d.a)(D,j),U=Object(f.a)(j)(Object(h.a)(L,M,I,R)),N=Object(s.a)(U,j),B=Object(b.b)(Object(u.a)(N,j)),$=new o.a(D,B,{}),F=D.withType("dispose");return Object(w.b)(P,C,E),$.takeUntil(F).subscribe(function(){},function(e){return t(e)},function(){return r(j,D)}),{facade:Object(p.a)($,n.environment.secret),player:j}};e.a=x}).call(e,n(16).default)},function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof i.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||n?new i.Subscriber(t,e,n):new i.Subscriber(a.empty)}var i=n(4),o=n(79),a=n(112);e.toSubscriber=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(28),s=(n.n(a),n(54)),u=(n.n(s),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),c=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=function(t){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;r(this,e);var a=n.do(function(t){s._value=t}),s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a));return s._value=o,s}return o(e,t),u(e,[{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.ObjectUnsubscribedError;return this._value}},{key:"unsubscribe",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unsubscribe",this).call(this),this._value=void 0}}]),e}(a.AnonymousSubject);e.a=l},function(t,e,n){"use strict";var r=n(1),i=n(201);r.Observable.combineLatest=i.combineLatest},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=null;return i.isScheduler(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0]),new a.ArrayObservable(t,r).lift(new s.CombineLatestOperator(n))}var i=n(33),o=n(29),a=n(17),s=n(114);e.combineLatest=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(4),o=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o},function(t,e,n){"use strict";var r=n(1),i=n(204);r.Observable.concat=i.concat},function(t,e,n){"use strict";var r=n(82);e.concat=r.concatStatic},function(t,e,n){"use strict";var r=n(1),i=n(206);r.Observable.empty=i.empty},function(t,e,n){"use strict";var r=n(44);e.empty=r.EmptyObservable.create},function(t,e,n){"use strict";var r=n(1),i=n(208);r.Observable.from=i.from},function(t,e,n){"use strict";var r=n(209);e.from=r.FromObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(29),o=n(115),a=n(116),s=n(118),u=n(210),c=n(17),l=n(211),p=n(55),d=n(1),h=n(119),f=n(80),y=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[f.observable])return t instanceof d.Observable&&!n?t:new e(t,n);if(i.isArray(t))return new c.ArrayObservable(t,n);if(a.isPromise(t))return new s.PromiseObservable(t,n);if("function"==typeof t[p.iterator]||"string"==typeof t)return new u.IteratorObservable(t,n);if(o.isArrayLike(t))return new l.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[f.observable]().subscribe(t):e[f.observable]().subscribe(new h.ObserveOnSubscriber(t,n,0))},e}(d.Observable);e.FromObservable=y},function(t,e,n){"use strict";function r(t){var e=t[l.iterator];if(!e&&"string"==typeof t)return new d(t);if(!e&&void 0!==t.length)return new h(t);if(!e)throw new TypeError("object is not iterable");return t[l.iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=a(e)*Math.floor(Math.abs(e)),e<=0?0:e>f?f:e):e}function o(t){return"number"==typeof t&&u.root.isFinite(t)}function a(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n(14),c=n(1),l=n(55),p=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=r(e)}return s(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,i=t.subscriber;if(n)return void i.error(t.error);var o=r.next();return o.done?void i.complete():(i.next(o.value),t.index=e+1,i.closed?void("function"==typeof r.return&&r.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=this,r=n.iterator,i=n.scheduler;if(i)return i.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var o=r.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(c.Observable);e.IteratorObservable=p;var d=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),h=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=i(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),f=Math.pow(2,53)-1},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(81),a=n(44),s=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){var r=t.length;return 0===r?new a.EmptyObservable:1===r?new o.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,i=t.subscriber;if(!i.closed){if(n>=r)return void i.complete();i.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=this,r=n.arrayLike,i=n.scheduler,o=r.length;if(i)return i.schedule(e.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:t});for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=s},function(t,e,n){"use strict";var r=n(1),i=n(213);r.Observable.fromEvent=i.fromEvent},function(t,e,n){"use strict";var r=n(214);e.fromEvent=r.FromEventObservable.create},function(t,e,n){"use strict";function r(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===f.call(t)}function a(t){return!!t&&"[object HTMLCollection]"===f.call(t)}function s(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=n(1),l=n(53),p=n(52),d=n(43),h=n(21),f=Object.prototype.toString,y=function(t){function e(e,n,r,i){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=i}return u(e,t),e.create=function(t,n,r,i){return p.isFunction(r)&&(i=r,r=void 0),new e(t,n,i,r)},e.setupSubscription=function(t,n,u,c,l){var p;if(o(t)||a(t))for(var d=0,f=t.length;d<f;d++)e.setupSubscription(t[d],n,u,c,l);else if(s(t)){var y=t;t.addEventListener(n,u,l),p=function(){return y.removeEventListener(n,u)}}else if(i(t)){var v=t;t.on(n,u),p=function(){return v.off(n,u)}}else{if(!r(t))throw new TypeError("Invalid event target");var m=t;t.addListener(n,u),p=function(){return m.removeListener(n,u)}}c.add(new h.Subscription(p))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,i=this.options,o=this.selector,a=o?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=l.tryCatch(o).apply(void 0,e);r===d.errorObject?t.error(d.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,a,t,i)},e}(c.Observable);e.FromEventObservable=y},function(t,e,n){"use strict";var r=n(1),i=n(216);r.Observable.fromEventPattern=i.fromEventPattern},function(t,e,n){"use strict";var r=n(217);e.fromEventPattern=r.FromEventPatternObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(52),o=n(1),a=n(21),s=function(t){function e(e,n,r){t.call(this),this.addHandler=e,this.removeHandler=n,this.selector=r}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this,n=this.removeHandler,r=this.selector?function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];e._callSelector(t,n)}:function(e){t.next(e)},o=this._callAddHandler(r,t);i.isFunction(n)&&t.add(new a.Subscription(function(){n(r,o)}))},e.prototype._callSelector=function(t,e){try{var n=this.selector.apply(this,e);t.next(n)}catch(e){t.error(e)}},e.prototype._callAddHandler=function(t,e){try{return this.addHandler(t)||null}catch(t){e.error(t)}},e}(o.Observable);e.FromEventPatternObservable=s},function(t,e,n){"use strict";var r=n(1),i=n(219);r.Observable.fromPromise=i.fromPromise},function(t,e,n){"use strict";var r=n(118);e.fromPromise=r.PromiseObservable.create},function(t,e,n){"use strict";var r=n(1),i=n(221);r.Observable.interval=i.interval},function(t,e,n){"use strict";var r=n(222);e.interval=r.IntervalObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(121),o=n(1),a=n(45),s=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=a.async),t.call(this),this.period=e,this.scheduler=n,(!i.isNumeric(e)||e<0)&&(this.period=0),n&&"function"==typeof n.schedule||(this.scheduler=a.async)}return r(e,t),e.create=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=a.async),new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.subscriber,r=t.period;n.next(e),n.closed||(t.index+=1,this.schedule(t,r))},e.prototype._subscribe=function(t){var n=this.period,r=this.scheduler;t.add(r.schedule(e.dispatch,n,{index:0,subscriber:t,period:n}))},e}(o.Observable);e.IntervalObservable=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(21),o=function(t){function e(e,n){t.call(this)}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(i.Subscription);e.Action=o},function(t,e,n){"use strict";var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},function(t,e,n){"use strict";var r=n(1),i=n(226);r.Observable.merge=i.merge},function(t,e,n){"use strict";var r=n(122);e.merge=r.mergeStatic},function(t,e,n){"use strict";var r=n(1),i=n(228);r.Observable.never=i.never},function(t,e,n){"use strict";var r=n(229);e.never=r.NeverObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=n(230),a=function(t){function e(){t.call(this)}return r(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(i.Observable);e.NeverObservable=a},function(t,e,n){"use strict";function r(){}e.noop=r},function(t,e,n){"use strict";var r=n(1),i=n(232);r.Observable.of=i.of},function(t,e,n){"use strict";var r=n(17);e.of=r.ArrayObservable.of},function(t,e,n){"use strict";var r=n(1),i=n(234);r.Observable.race=i.raceStatic},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&a.isArray(t[0])&&(t=t[0]),this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!a.isArray(t[0]))return t[0];t=t[0]}return new s.ArrayObservable(t).lift(new l)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(29),s=n(17),u=n(7),c=n(8);e.race=r,e.raceStatic=i;var l=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new p(t))},t}();e.RaceOperator=l;var p=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=c.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(e)},e}(u.OuterSubscriber);e.RaceSubscriber=p},function(t,e,n){"use strict";var r=n(1),i=n(236);r.Observable.throw=i._throw},function(t,e,n){"use strict";var r=n(237);e._throw=r.ErrorObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1),o=function(t){function e(e,n){t.call(this),this.error=e,this.scheduler=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.error;t.subscriber.error(e)},e.prototype._subscribe=function(t){var n=this.error,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{error:n,subscriber:t});t.error(n)},e}(i.Observable);e.ErrorObservable=o},function(t,e,n){"use strict";var r=n(1),i=n(239);r.Observable.timer=i.timer},function(t,e,n){"use strict";var r=n(240);e.timer=r.TimerObservable.create},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(121),o=n(1),a=n(45),s=n(33),u=n(123),c=function(t){function e(e,n,r){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(n)?this.period=Number(n)<1&&1||Number(n):s.isScheduler(n)&&(r=n),s.isScheduler(r)||(r=a.async),this.scheduler=r,this.dueTime=u.isDate(e)?+e-this.scheduler.now():e}return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),new e(t,n,r)},e.dispatch=function(t){var e=t.index,n=t.period,r=t.subscriber,i=this;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,i.schedule(t,n)}},e.prototype._subscribe=function(t){var n=this,r=n.period,i=n.dueTime;return n.scheduler.schedule(e.dispatch,i,{index:0,period:r,subscriber:t})},e}(o.Observable);e.TimerObservable=c},function(t,e,n){"use strict";var r=n(1),i=n(242);r.Observable.zip=i.zip},function(t,e,n){"use strict";var r=n(124);e.zip=r.zipStatic},function(t,e,n){"use strict";var r=n(1),i=n(244);r.Observable.prototype.buffer=i.buffer},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8);e.buffer=r;var s=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.closingNotifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.buffer=[],this.add(a.subscribeToResult(this,n))}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";var r=n(1),i=n(246);r.Observable.prototype.catch=i._catch,r.Observable.prototype._catch=i._catch},function(t,e,n){"use strict";function r(t){var e=new s(t),n=this.lift(e);return e.caught=n}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8);e._catch=r;var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(a.subscribeToResult(this,n))}},e}(o.OuterSubscriber)},function(t,e,n){"use strict";var r=n(1),i=n(114);r.Observable.prototype.combineLatest=i.combineLatest},function(t,e,n){"use strict";var r=n(1),i=n(82);r.Observable.prototype.concat=i.concat},function(t,e,n){"use strict";var r=n(1),i=n(250);r.Observable.prototype.delay=i.delay},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=o.async);var n=a.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(45),a=n(123),s=n(4),u=n(120);e.delay=r;var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return i(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new p(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},e}(s.Subscriber),p=function(){function t(t,e){this.time=t,this.notification=e}return t}()},function(t,e,n){"use strict";var r=n(1),i=n(252);r.Observable.prototype.distinct=i.distinct},function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8),s=n(253);e.distinct=r;var u=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.keySelector,this.flushes))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=n,this.values=new s.Set,r&&this.add(a.subscribeToResult(this,r))}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(o.OuterSubscriber);e.DistinctSubscriber=c},function(t,e,n){"use strict";function r(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}var i=n(14);e.minimalSetImpl=r,e.Set=i.root.Set||r()},function(t,e,n){"use strict";var r=n(1),i=n(255);r.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},function(t,e,n){"use strict";function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(53),s=n(43);e.distinctUntilChanged=r;var u=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,n=t;if(e&&(n=a.tryCatch(this.keySelector)(t))===s.errorObject)return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if((r=a.tryCatch(this.compare)(this.key,n))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=n,this.destination.next(t))},e}(o.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(257);r.Observable.prototype.do=i._do,r.Observable.prototype._do=i._do},function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e._do=r;var a=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e);var a=new o.Subscriber(n,r,i);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return i(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(125);r.Observable.prototype.filter=i.filter},function(t,e,n){"use strict";var r=n(1),i=n(260);r.Observable.prototype.first=i.first},function(t,e,n){"use strict";function r(t,e,n){return this.lift(new s(t,e,n,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(261);e.first=r;var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return i(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new a.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=i},function(t,e,n){"use strict";var r=n(1),i=n(263);r.Observable.prototype.let=i.letProto,r.Observable.prototype.letBind=i.letProto},function(t,e,n){"use strict";function r(t){return t(this)}e.letProto=r},function(t,e,n){"use strict";var r=n(1),i=n(126);r.Observable.prototype.map=i.map},function(t,e,n){"use strict";var r=n(1),i=n(266);r.Observable.prototype.mapTo=i.mapTo},function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.mapTo=r;var a=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.value))},t}(),s=function(t){function e(e,n){t.call(this,e),this.value=n}return i(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(122);r.Observable.prototype.merge=i.merge},function(t,e,n){"use strict";var r=n(1),i=n(269);r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new s(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(8),a=n(7);e.mergeMap=r;var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=s;var u=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(a.OuterSubscriber);e.MergeMapSubscriber=u},function(t,e,n){"use strict";var r=n(1),i=n(271);r.Observable.prototype.flatMapTo=i.mergeMapTo,r.Observable.prototype.mergeMapTo=i.mergeMapTo},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new s(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8);e.mergeMapTo=r;var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=s;var u=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,n=this.index++,r=this.ish,i=this.destination;this.active++,this._innerSub(r,i,e,t,n)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n,r,i){this.add(a.subscribeToResult(this,t,r,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,a=o.resultSelector,s=o.destination;a?this.trySelectResult(t,e,n,r):s.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var i,o=this,a=o.resultSelector,s=o.destination;try{i=a(t,e,n,r)}catch(t){return void s.error(t)}s.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapToSubscriber=u},function(t,e,n){"use strict";var r=n(1),i=n(273);r.Observable.prototype.mergeScan=i.mergeScan},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),this.lift(new c(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(53),a=n(43),s=n(8),u=n(7);e.mergeScan=r;var c=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.accumulator,this.seed,this.concurrent))},t}();e.MergeScanOperator=c;var l=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this.acc=r,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=o.tryCatch(this.accumulator)(this.acc,t),r=this.destination;n===a.errorObject?r.error(a.errorObject.e):(this.active++,this._innerSub(n,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){this.add(s.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(u.OuterSubscriber);e.MergeScanSubscriber=l},function(t,e,n){"use strict";var r=n(1),i=n(275);r.Observable.prototype.pairwise=i.pairwise},function(t,e,n){"use strict";function r(){return this.lift(new a)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.pairwise=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return i(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(o.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(277);r.Observable.prototype.partition=i.partition},function(t,e,n){"use strict";function r(t,e){return[o.filter.call(this,t,e),o.filter.call(this,i.not(t,e))]}var i=n(278),o=n(125);e.partition=r},function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}e.not=r},function(t,e,n){"use strict";var r=n(1),i=n(280);r.Observable.prototype.pluck=i.pluck},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return o.map.call(this,i(t,n))}function i(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if(void 0===o)return;r=o}return r}}var o=n(126);e.pluck=r},function(t,e,n){"use strict";var r=n(1),i=n(282);r.Observable.prototype.publish=i.publish},function(t,e,n){"use strict";function r(t){return t?o.multicast.call(this,function(){return new i.Subject},t):o.multicast.call(this,new i.Subject)}var i=n(28),o=n(56);e.publish=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(28),o=n(1),a=n(4),s=n(21),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new s.Subscription,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed?(this._connection=null,t=s.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new l(this))},e}(o.Observable);e.ConnectableObservable=u,e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:u.prototype._subscribe},getSubject:{value:u.prototype.getSubject},connect:{value:u.prototype.connect},refCount:{value:u.prototype.refCount}};var c=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new p(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),p=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},e}(a.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(285);r.Observable.prototype.publishBehavior=i.publishBehavior},function(t,e,n){"use strict";function r(t){return o.multicast.call(this,new i.BehaviorSubject(t))}var i=n(127),o=n(56);e.publishBehavior=r},function(t,e,n){"use strict";var r=n(1),i=n(287);r.Observable.prototype.publishReplay=i.publishReplay},function(t,e,n){"use strict";function r(t,e,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(t,e,n))}var i=n(288),o=n(56);e.publishReplay=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(28),o=n(289),a=n(21),s=n(119),u=n(54),c=n(113),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=r,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n}return r(e,t),e.prototype.next=function(e){var n=this._getNow();this._events.push(new p(n,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?e=a.Subscription.EMPTY:this.isStopped?e=a.Subscription.EMPTY:(this.observers.push(t),e=new c.SubjectSubscription(this,t)),r&&t.add(t=new s.ObserveOnSubscriber(t,r));for(var i=n.length,o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.Subject);e.ReplaySubject=l;var p=function(){function t(t,e){this.time=t,this.value=e}return t}()},function(t,e,n){"use strict";var r=n(290),i=n(291);e.queue=new i.QueueScheduler(r.QueueAction)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(83),o=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(i.AsyncAction);e.QueueAction=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(84),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(i.AsyncScheduler);e.QueueScheduler=o},function(t,e,n){"use strict";var r=n(1),i=n(293);r.Observable.prototype.reduce=i.reduce},function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.reduce=r;var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=a;var s=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this.hasSeed=i,this.index=0,this.hasValue=!1,this.acc=r,this.hasSeed||this.index++}return i(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t,this.index++)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);e.ReduceSubscriber=s},function(t,e,n){"use strict";var r=n(1),i=n(295);r.Observable.prototype.sampleTime=i.sampleTime},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=s.async),this.lift(new u(t,e))}function i(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(4),s=n(45);e.sampleTime=r;var u=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.period,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.period=n,this.scheduler=r,this.hasValue=!1,this.add(r.schedule(i,n,{subscriber:this,period:n}))}return o(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(a.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(297);r.Observable.prototype.scan=i.scan},function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.scan=r;var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(299);r.Observable.prototype.share=i.share},function(t,e,n){"use strict";function r(){return new a.Subject}function i(){return o.multicast.call(this,r).refCount()}var o=n(56),a=n(28);e.share=i},function(t,e,n){"use strict";var r=n(1),i=n(301);r.Observable.prototype.skip=i.skip},function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.skip=r;var a=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.total))},t}(),s=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return i(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(o.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(303);r.Observable.prototype.skipUntil=i.skipUntil},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8);e.skipUntil=r;var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(a.subscribeToResult(this,n))}return i(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";var r=n(1),i=n(305);r.Observable.prototype.skipWhile=i.skipWhile},function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.skipWhile=r;var a=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(o.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(307);r.Observable.prototype.startWith=i.startWith},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];u.isScheduler(n)?t.pop():n=null;var r=t.length;return 1===r?s.concatStatic(new o.ScalarObservable(t[0],n),this):r>1?s.concatStatic(new i.ArrayObservable(t,n),this):s.concatStatic(new a.EmptyObservable(n),this)}var i=n(17),o=n(81),a=n(44),s=n(82),u=n(33);e.startWith=r},function(t,e,n){"use strict";var r=n(1),i=n(309);r.Observable.prototype.switchMap=i.switchMap},function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8);e.switchMap=r;var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return i(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";var r=n(1),i=n(311);r.Observable.prototype.switchMapTo=i.switchMapTo},function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8);e.switchMapTo=r;var s=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observable,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.inner=n,this.resultSelector=r,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=a.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,a=o.resultSelector,s=o.destination;a?this.tryResultSelector(t,e,n,r):s.next(e)},e.prototype.tryResultSelector=function(t,e,n,r){var i,o=this,a=o.resultSelector,s=o.destination;try{i=a(t,e,n,r)}catch(t){return void s.error(t)}s.next(i)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";var r=n(1),i=n(313);r.Observable.prototype.take=i.take},function(t,e,n){"use strict";function r(t){return 0===t?new s.EmptyObservable:this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),a=n(314),s=n(44);e.take=r;var u=function(){function t(t){if(this.total=t,this.total<0)throw new a.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ArgumentOutOfRangeError=i},function(t,e,n){"use strict";var r=n(1),i=n(316);r.Observable.prototype.takeUntil=i.takeUntil},function(t,e,n){"use strict";function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8);e.takeUntil=r;var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(a.subscribeToResult(this,n))}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(o.OuterSubscriber)},function(t,e,n){"use strict";var r=n(1),i=n(318);r.Observable.prototype.takeWhile=i.takeWhile},function(t,e,n){"use strict";function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.takeWhile=r;var a=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(o.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(320);r.Observable.prototype.throttleTime=i.throttleTime},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=s.async),this.lift(new u(t,e))}function i(t){t.subscriber.clearThrottle()}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(4),s=n(45);e.throttleTime=r;var u=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.duration=n,this.scheduler=r}return o(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(i,this.duration,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(a.Subscriber)},function(t,e,n){"use strict";var r=n(1),i=n(322);r.Observable.prototype.withLatestFrom=i.withLatestFrom},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return this.lift(new s(r,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),a=n(8);e.withLatestFrom=r;var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observables,this.project))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.observables=n,this.project=r,this.toRespond=[];var i=n.length;this.values=new Array(i);for(var o=0;o<i;o++)this.toRespond.push(o);for(var o=0;o<i;o++){var s=n[o];this.add(a.subscribeToResult(this,s,s,o))}}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.OuterSubscriber)},function(t,e,n){"use strict";var r=n(1),i=n(124);r.Observable.prototype.zip=i.zipProto},function(t,e,n){"use strict";function r(t){var e=["http://blinkinglights.cnevids.com/livestream"];return{library$:t.cneBeaconLibrary$,events$:t.cneError$.filter(function(t){return!!t.video.live_metadata}).throttleTime(1e3).map(function(t){var n=t.video,r=t.error;return{endpoints:e,video:n,error:r}})}}function i(t){var e=t.analyticsMute$,n=t.cneEventLibrary$,r=t.currentVideo$,i=t.isPlaying$,o=t.loadVideoId$,a=t.playerEvent$,s=t.quartile$,u=t.videoStart$,c=t.viewportStatus$,l=e.distinctUntilChanged().map(function(t){return{eventName:t?"Mute Video":"Unmute Video"}}),p=a.withType("dfp-ad-error").map(function(t){var e=t.adError;return P.get(e&&e.code)}).filter(Boolean),d=C(r,a),h=C(r,a,1),f=a.map(function(t){var e=t.type;return E.get(e)}).filter(Boolean),y=k.a.merge(c.map(x("cne:viewport")),c.skip(1).map(function(t){switch(t){case"FULLY_IN_VIEWPORT":return"viewport-enter";case"OUT_OF_VIEWPORT":return"viewport-exit"}return null}).filter(Boolean).map(A));return{library$:n,events$:k.a.merge(y,i.map(x("cne:is-playing")),f.map(A),p.map(A),l.map(x("cne:mute-change")),h.map(x("cne:video:change")),d.map(x("cne:video:current")),s.map(function(t){return A("cne:quartile-"+t)}),u.mapTo(A("cne:video:start")),o.mapTo(A("cne:load-video-id")))}}function o(t){var e=t.comscoreLibrary$,n=t.currentVideo$,r=t.isPlaying$,i=t.isSeeking$,o=t.loadVideoId$,a=t.playerEvent$,s=t.replay$,u=function(t){return t.filterByLatestFrom(i,function(t,e){return!e})},c=a.withType("dfp-ad-started").map(function(t){var e=t.ad?t.ad.duration:0;return M(e)}),l=a.withType("dfp-content-resume").map(function(){return I}),p=o.filterByLatestFrom(r,function(t,e){return!0===e}).mapTo(L),d=u(a.withType("play")).mapTo(I),h=u(a.withType("pause")).mapTo(L),f=s.mapTo(I);return{library$:e,events$:k.a.merge(p,d,f,h,c,l).withLatestFrom(n,function(t,e){var n=e.comscore_config;return j({},t,{config:n})})}}function a(t){var e=t.config$,n=t.currentVideo$,r=t.facebookLibrary$,i=t.playerEvent$,o=t.quartile$,a=t.videoStart$,s=a.mapTo("Start"),u=o.map(function(t){return 25*t+"% Quartile"}),c=i.withType("ended").mapTo("Ended");return{library$:r,events$:s.merge(u,c).map(function(t){return{type:t,custom:!0}}).withLatestFrom(n,e,function(t,e,n){var r=t.type,i=t.custom;return{type:r,params:{brand:e.brand,url:n.location,category:"Video View"},custom:i}})}}function s(t){var e=t.brand,n=t.partner,r=t.embedLocation,i=t.playerType,o=t.playlistId,a=t.isRightRail,s=t.iu,u=(o?"_playlist":"")+("interlude"===i?"_interlude":"")+(a?"_rightRail":""),c=e+"_"+s;return""+(r||n||c)+u}function u(t){switch(t){case-1:return"postroll";case 0:return"preroll";case void 0:return"undefined";default:return"midroll"}}function c(t){var e=t.brand,n=t.cne_produced,r=t.duration,i=t.id,o=t.location,a=t.partner,u=t.playerConfig,c=t.series_title,l=t.season_title,p=t.title,d=t.videoView,h=u.analyticsUrl,f=u.playlist,y=u.embedLocation,v=u.playerType,m=u.playlistId,g=u.iu,b=u.isRightRail,_=(c||"null")+"_"+(l||"null"),T=s({brand:e,partner:a,embedLocation:y,playerType:v,playlistId:m,isRightRail:b,iu:g});return{pageLocation:h||o,videoBrand:e,videoId:i,videoLength:r,videoOandOFlag:!!y,videoPlayerName:T,videoPlaylist:f&&f.title||void 0,videoProducer:n,videoSeason:_,videoTitle:p,videoViewsInVisit:d}}function l(t){var e=t.config$,n=t.currentVideo$,r=t.seekEnd$,i=t.googleAnalyticsLibrary$,o=t.playerEvent$,a=t.quartile$,s=t.shareIntent$,l=t.videoStart$,p=t.videoStartType$,d=t.videoView$,h=a.startWith(0),f=o.withType("dfp-ad-requested").mapTo({event:"video-ad-call"}),y=o.withType("dfp-ad-started").map(function(t){return{event:"video-ad-view",videoAdLength:t&&t.ad?t.ad.duration:void 0,videoAdPosition:u(t&&t.ad&&t.ad.podInfo?t.ad.podInfo.getPodIndex():void 0)}}),v=l.withLatestFrom(p,function(t,e){return e}).map(function(t){return{event:"video-start",videoPlayMethod:t}}),m=o.withType("ended").withLatestFrom(n,function(t,e){return{event:"video-complete",videoSecondsWatched:e.duration}}),g=o.withType("fullscreenchange").mapTo({event:"video-full-screen"}),b=a.withLatestFrom(n,function(t,e){var n=e.duration;return{event:"video-progress",videoPercent:25*t,videoSecondsWatched:Math.floor(n/4*t)}}),_=n.mapTo({event:"video-loaded"}),T=r.withLatestFrom(h,function(t,e){return{event:"video-scrub",videoPercent:25*e}}),w=s.withLatestFrom(h,function(t,e){return{event:"video-share",videoPercent:25*e,videoShareType:t}}),S=k.a.merge(e,n,d.map(function(t){return{videoView:t}})).scan(function(t,e){return D({},t,e)}).map(c);return{library$:i,events$:k.a.merge(f,y,v,m,g,_,b,w,T).withLatestFrom(S,function(t,e){return D({},t,e)})}}function p(t){return{library$:t.moatLibrary$,events$:k.a.never()}}function d(t){var e=t.analyticsVolume$,n=t.moatContentLibrary$,r=t.playerEvent$,i=t.quartile$,o=t.videoStart$,a=t.volume$;return{library$:n,events$:k.a.merge(r.withType("ended").mapTo("AdVideoComplete"),r.withType("pause").mapTo("AdVideoPaused"),r.withType("play").mapTo("AdVideoPlaying"),i.map(function(t){return R[t]}),o.mapTo("AdVideoStart"),a.mapTo("AdVideoVolumeChange")).withLatestFrom(e,function(t,e){return{type:t,adVolume:e}})}}function h(t){var e=t.sources&&t.sources.filter(function(t){return"video/mp4"===t.type})[0],n=e?e.src:"";return{adLoadType:"2",airdate:t.premiere_date,assetid:t.id,isfullepisode:"y",length:t.duration,mediaUrl:n,program:t.series_title||t.title,title:t.title,type:"content"}}function f(t){if(t)return{assetId:t.adId,type:"preroll"}}function y(t){var e=t.ad$,n=t.analyticsPause$,r=t.currentVideo$,i=t.loadVideoId$,o=t.nielsenLibrary$,a=t.playerEvent$,s=r.map(h),u=e.map(f),c=a.withType("currentTime").map(function(t){var e=t.value;return Math.floor(e)}).distinctUntilChanged().filter(function(t){return t>0}).share(),l=n.merge(a.withType("dfp-ad-paused"),i).withLatestFrom(c,function(t,e){return{type:"stop",data:e}}),p=a.withType("ended").withLatestFrom(c,function(t,e){return{type:"end",data:e}}),d=c.map(function(t){return{type:"setPlayheadPosition",data:t}}),y=r.switchMapTo(a.withType("playing").take(1)).withLatestFrom(s,function(t,e){return{type:"loadMetadata",data:e}}),v=a.withType("dfp-ad-loaded").withLatestFrom(u,function(t,e){return{type:"loadMetadata",data:e}});return{library$:o,events$:k.a.merge(p,v,y,d,l)}}function v(t){var e=t.currentVideo$,n=t.documentHidden$,r=t.videoStart$,i=t.viewportPercentage$,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.a.timer(2e3);return e.switchMap(function(t){var e=t.id;return r.mapTo(e)}).switchMap(function(t){return i.filter(function(t){return t>.5}).startWith(!0).mergeMapTo(o).mapTo(t)}).filterByLatestFrom(i,n,function(t,e,n){return!n&&e>.5}).distinctUntilChanged().mapTo({type:"2 Sec In-View Moat"})}function m(t){var e=t.currentVideo$,n=t.videoStart$,r=t.playerEvent$,i=r.withType("dfp-ad-started");return e.switchMapTo(k.a.merge(n,i).take(1)).mapTo({type:"Any Start"})}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.heartbeatTimeIntervalOverride,r=t.ad$,i=t.adBlocked$,o=t.adUnitPath$,a=t.config$,s=t.currentVideo$,u=t.documentHidden$,c=t.infinityId$,l=t.isPersistent$,p=t.playsOnPage$,d=t.prerollPlayed$,h=t.sparrowLibrary$,f=t.trackSparrowIntent$,y=t.videoStartType$,v=t.viewportStatus$,m=t.videoView$,g=t.widthHeight$;return{library$:h,events$:k.a.merge($(t),F(t),f,V(t),B(t),H(t,{heartbeatTimeIntervalOverride:n})).withLatestFrom(r,i,o,a,s,u,c.startWith(null),l,p,d,y,m,v.startWith(null),g,function(t,e,n,r,i,o,a,s,u,c,l,p,d,h,f){var y=t.category,v=t.event;return{ad:e,adBlocked:n,adUnitPath:r,category:y,config:i,dimensions:f,documentHidden:a,infinityId:s,isPersistent:u,meta:t.meta,playsOnPage:c,prerollPlayed:l,type:v.type,video:o,videoStartType:p,videoView:d,viewportStatus:h}})}}function b(t,e){return t.withLatestFrom(e,function(t,e){var n=t.share_links,r=t.title,i=t.branded,o=t.branded_caption,a=e.playerConfig;return{hideHoverTitle:a.hideHoverTitle,hidePosterTitle:a.hidePosterTitle,title:r,url:n?n.url:null,branded:i,branded_caption:o}})}function _(t,e){var n=t.adDisplaying$,r=t.adFinished$,i=t.adBlocked$,o=t.adBlockedUnique$,a=t.adSkippable$,s=t.videoIfAdsNotDisabled$,u=t.analyticsVolume$,c=t.animatedClipDisplaying$,l=t.captionsDisplayMode$,p=t.config$,d=t.contentResuming$,h=t.contentShouldResumeInFullscreen$,f=t.cne360AnimationInterval$,y=t.cne360CanvasSource$,v=t.cne360LatLong$,m=t.cne360MouseActive$,g=t.cne360MouseDrag$,_=t.currentTimeInMs$,T=t.currentVideo$,w=t.inSyncWithLiveStream$,S=t.seekLatestAfterPrerollForLive$,O=t.isLiveVideo$,k=t.isPlaying$,C=t.isPersistent$,E=t.loading$,P=t.mute$,A=t.playerEvent$,x=t.playlist$,j=t.showLiveEndCard$,L=t.showShareDropdown$,I=t.showPersistentMute$,M=t.smallLayout$,D=t.updateMessageOverlay$,R=t.videoView$,U=t.videoOrAdStart$,N=t.videoEndedOrSwitched$,B=t.widthHeight$;return{viewModel$:Object(q.b)({adDisplaying$:n,adFinished$:r,adBlocked$:i,adBlockedUnique$:o,videoIfAdsNotDisabled$:s,adSkippable$:a,adUnit$:X(A),animatedClipDisplaying$:c,captionsDisplayMode$:l,cne360AnimationInterval$:f,cne360CanvasSource$:y,cne360LatLong$:v,cne360MouseActive$:m,cne360ShowCompass$:G(T,g),cneVideoTitle$:b(T,p),contentResuming$:d,currentTime$:_,currentVideo$:T,isContinuousPlay$:W(p),isFullscreen$:A.withType("fullscreen").pluck("value"),contentShouldResumeInFullscreen$:h,isInSyncWithLiveStream$:w,seekLatestAfterPrerollForLive$:S,isLiveVideo$:O,isPlaying$:k,isPersistent$:C,loading$:E,messageOverlay$:D,mute$:P,playerType$:p.pluck("playerConfig","playerType"),playlist$:x,showLiveEndCard$:j,showPersistentMute$:I,showShareDropdown$:L,smallLayout$:M,userVolume$:u,videoOrAdStart$:U,videoEndedOrSwitched$:N,viewCount$:R,volume$:z(e)(A),widthHeight$:B}).publishBehavior({}).refCount()}}function T(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function w(t){var e=t.config$,n=t.facadeReady$,r=t.ready$,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,o=e.map(function(t){var e=t.canAccessParent;return[t.playerConfig.onReady,e]}).filter(function(t){return"string"==typeof Y(t,1)[0]}).switchMap(function(t){return k.a.from(Q.apply(void 0,[i].concat(T(t))))}).distinct().filter(function(t){return"function"==typeof t});return r.withLatestFrom(n).switchMap(function(t){var e=Y(t,2),n=e[1];return o.map(function(t){return{callback:t,facade:n}})})}function S(t){var e=t.toggleUserActive$,n=t.adRestart$,r=t.captionsDisplayMode$,i=t.captionsUpdateTextTrackDisplay$,o=t.closeMessage$,a=t.cneOverlay$,s=t.config$,u=t.currentVideo$,c=t.enterFullScreen$,l=t.exitFullScreen$,p=t.facadeReady$,d=t.focusChanged$,h=t.initializeInBandCaptions$,f=t.infinityId$,y=t.isLiveVideo$,v=t.liveLoadingState$,m=t.loadVideoId$,g=t.loadCaptions$,b=t.mouseLeavePlayer$,_=t.mute$,T=t.playerEvent$,S=t.saveSettings$,O=t.scrub$,k=t.seekLatest$,C=t.posterFrame$,E=t.setTime$,P=t.settingsMenu$,A=t.reportUserActivity$,x=t.settingsSubMenu$,j=t.shouldPause$,L=t.mergedPlay$,I=t.shouldShareVideo$,M=t.volume$,D=t.widthHeight$,R=w({config$:s,facadeReady$:p,ready$:T.withType("ready")});return{adRestart$:n,autoplay$:J(m,T,s.pluck("isContinuousPlay")),captionsDisplayMode$:r,captionsUpdateTextTrackDisplay$:i,closeMessage$:o,cneOverlay$:a,currentVideo$:u,enterFullScreen$:c,exitFullScreen$:l,focusChanged$:d,initializeInBandCaptions$:h,infinityId$:f,isLiveVideo$:y,liveLoadingState$:v,loadCaptions$:g,mouseLeavePlayer$:b,mute$:_,onReadyCallback$:R,saveSettings$:S,scrub$:O,seekLatest$:k,posterFrame$:C,setTime$:E,settingsMenu$:P,reportUserActivity$:A,settingsSubMenu$:x,shouldPause$:j,mergedPlay$:L,shouldShareVideo$:I,toggleUserActive$:e,updateScrubVideo$:Z(u,s.pluck("isMobile")),volume$:M,widthHeight$:D}}function O(t,e){var n={cneBeacon:r(t),cneEvents:i(t),cookies:t,comscore:o(t),facebook:a(t),googleAnalytics:l(t),moat:p(t),moatContent:d(t),nielsen:y(t),sparrow:g(t),view:_(t,e),vjs:S(t,e)};return n}var k=n(0),C=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.withType("loadedmetadata","dfp-ads-manager-loaded");return t.distinctUntilChanged().skip(n).switchMap(function(t){return r.take(1).mapTo(t)})},E=new Map([["dfp-ad-complete","cne:videoad:end"],["dfp-ad-firstquartile","cne:ad:quartile-1"],["dfp-ad-metadata","cne:videoad:fetchsuccess"],["dfp-ad-midpoint","cne:ad:quartile-2"],["dfp-ad-requested","cne:videoad:fetch"],["dfp-ad-started","cne:ad:start"],["dfp-ad-thirdquartile","cne:ad:quartile-3"],["ended","cne:video:end"],["pause","cne:pause"],["play","cne:play"]]),P=new Map([["ADS_REQUEST_NETWORK_ERROR","cne:videoad:fetchexited"],["UNKNOWN_AD_RESPONSE","cne:videoad:emptyresponse"]]),A=function(t){return{eventString:t}},x=function(t){return function(e){return{data:e,eventString:t}}},j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L={type:"stop"},I={type:"playContent"},M=function(t){return{type:"playAd",adDuration:t}},D=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R={1:"AdVideoFirstQuartile",2:"AdVideoMidpoint",3:"AdVideoThirdQuartile"},U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.a.of({});return function(n){return n.withLatestFrom(e,function(e,n){return{event:e,category:t,meta:U({},n,e.meta||{})}})}},B=function(t){var e=t.cneError$,n=t.currentVideo$,r=t.playerEvent$,i=t.quartile$,o=t.videoView$,a=t.videoStart$,s=r.withType("ended").mapTo({type:"Content End"}),u=i.map(function(t){return{type:25*t+"% Quartile"}}),c=a.mapTo({type:"Content Start"}),l=m({currentVideo$:n,playerEvent$:r,videoStart$:a}),p=e.mapTo({type:"Video Error"}),d=o.map(function(t){return{videoViews:t}}),h=N("Video View",d);return k.a.merge(c,s,p,u,l).let(h)},$=function(t){var e=t.cneOverlay$,n=t.playerEvent$,r=n.withType("fullscreenchange").mapTo({type:"Full Screen"}),i=e.filter(function(t){return"share"===t.type}).mapTo({type:"Share Panel"}),o=N("Player Chrome Event");return k.a.merge(r,i).let(o)},F=function(t){var e=t.analyticsPause$,n=t.analyticsResume$,r=t.adDisplaying$,i=t.currentVideo$,o=t.documentHidden$,a=t.mute$,s=t.muteToggle$,u=t.playerEvent$,c=t.seekEnd$,l=t.videoStart$,p=t.viewportPercentage$,d=t.viewportStatus$,h=s.withLatestFrom(a,r,function(t,e,n){return{type:(e?"Mute ":"Unmute ")+(n?"Ad":"Video")}}),f=u.withType("ready").take(1).mapTo({type:"Player Loaded"}),y=d.filter(function(t){return"FULLY_IN_VIEWPORT"===t}).mapTo({type:"Player In Viewport"}),m=v({currentVideo$:i,documentHidden$:o,videoStart$:l,viewportPercentage$:p}),g=N("Player Event");return k.a.merge(e.mapTo({type:"Pause Video"}),n.mapTo({type:"Resume Video"}),y,h,f,c.mapTo({type:"Scrub"}),m).let(g)},V=function(t){var e=t.playerEvent$,n=t.videoView$,r=e.withType("dfp-ad-requested").mapTo({type:"Ad Call Made"}),i=e.withType("dfp-ad-complete").mapTo({type:"Ad Complete"}),o=e.withType("dfp-ad-started").mapTo({type:"Ad Start"}),a=e.withType("dfp-ad-metadata").mapTo({type:"Ad Metadata"}),s=e.withType("dfp-ad-loaded").mapTo({type:"Ad Loaded"}),u=e.withType("dfp-ad-error").filter(function(t){return t.adError}).map(function(t){return{type:"DFP Ad Error "+t.adError.type+", "+t.adError.code+", "+t.adError.message+", "+t.adError.innerError}}),c=k.a.merge(e.withType("dfp-ad-firstquartile").mapTo({type:"Ad 1st Quartile"}),e.withType("dfp-ad-midpoint").mapTo({type:"Ad 2nd Quartile"}),e.withType("dfp-ad-thirdquartile").mapTo({type:"Ad 3rd Quartile"})),l=k.a.merge(e.withType("dfp-ad-paused").mapTo({type:"Ad Paused"}),e.withType("dfp-ad-resume").mapTo({type:"Ad Resumed"})),p=e.withType("dfp-ad-skipped").mapTo({type:"Ad Skipped"}),d=n.map(function(t){return{videoViews:t}}),h=N("Video Ad",d);return k.a.merge(r,i,u,s,a,l,c,p,o).let(h)},H=function(t,e){var n=t.playerEvent$,r=t.isLiveVideo$,i=t.isPlaying$,o=t.timer$,a=void 0===o?k.a.timer(0,1e3):o,s=e.heartbeatTimeIntervalOverride,u=r.switchMap(function(t){var e=s||(t?1e4:3e4);return a.takeUntil(n.withType("ended")).filterByLatestFrom(i,function(t,e){return e}).scan(function(t){return t+1},-1).filter(function(t){return t%(e/1e3)==0}).map(function(t){return{type:t}})}),c=N("Video Heartbeat");return k.a.merge(u).let(c)},q=n(85),z=function(t){return function(e){return e.withType("volumechange").map(function(){return t.volume()}).startWith(t.volume())}},W=function(t){return t.pluck("isContinuousPlay")},G=function(t,e){return k.a.merge(e.mapTo(!0),t.mapTo(!1))},X=function(t){return k.a.merge(t.withType("dfp-ad-loaded").map(function(t){return{ad:t.ad,adUnitPath:t.adUnitPath}}),t.withType("dfp-ad-complete").mapTo(void 0))},Y=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),K=function(t,e){return[t._cne&&t._cne[e],t[e]]},Q=function t(e,n,r){var i=K(e,n);return r?e===e.top?i:[].concat(T(i),T(t(e.parent,n,r))):i},J=function(t,e,n){return t.mapTo(!0).merge(e.withType("ended").withLatestFrom(n,function(t,e){return e})).distinctUntilChanged().publishReplay(1).refCount()},Z=function(t,e){return t.filterByLatestFrom(e,function(t,e){return!e})};e.a=O},function(t,e,n){"use strict";function r(t){var e=t.library$;return t.events$.bufferedWith(e,function(t,e){return{event:t,library:e}}).do(function(t){var e=t.event;return(0,t.library)(e)})}function i(t){if(!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.a))return t.filter(function(t){var e=t.type;return!m.has(e)});return t}function o(t){return function(e){var n=Object(g.a)({videoIndex:t,requester:"oo"});return t++,e.map(function(t){return b({},t,{src:t.src.concat("?",n)})})}}function a(t){for(var e=void 0,n=0;n<t.length;n++)if(s(t[n].el().id)){e=t[n].name();break}return e}function s(t){for(var e=document.activeElement;t&&e&&"BODY"!==e.tagName;){if(e.id===t)return!0;e=e.parentNode}return!1}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n._openLink,i=void 0===r?c:r,o=n._openEmail,a=void 0===o?l:o,s=t.share_links,u=s[e];if("email"===e)a(u);else{i(u,"share",_[e]||T)}}function c(t,e,n){window.open(t,e,n)}function l(t){window.open(t)}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=t.adRestart$,a=t.autoplay$,s=t.captionsDisplayMode$,c=t.captionsUpdateTextTrackDisplay$,l=t.closeMessage$,p=t.cneOverlay$,d=t.currentVideo$,h=t.enterFullScreen$,f=t.exitFullScreen$,v=t.focusChanged$,m=t.initializeInBandCaptions$,g=t.infinityId$,b=t.liveLoadingState$,_=t.loadCaptions$,T=t.mouseLeavePlayer$,et=t.mute$,nt=t.onReadyCallback$,rt=t.saveSettings$,it=t.scrub$,ot=t.seekLatest$,at=t.posterFrame$,st=t.setTime$,ut=t.settingsMenu$,ct=t.reportUserActivity$,lt=t.settingsSubMenu$,pt=t.shouldPause$,dt=t.mergedPlay$,ht=t.shouldShareVideo$,ft=t.toggleUserActive$,yt=t.updateScrubVideo$,vt=t.volume$,mt=t.widthHeight$,gt=e.cneOverlay,bt=e.cneMessage,_t=e.controlBar,Tt=_t.cneSettings,wt=_t.progressControl.seekBar.cneScrubberThumb,St=e.cneTextTrackDisplay,Ot=e.cneScrubPoster;return y.a.merge(r.do(C(e)),ht.do(k(n)),T.do(J(e)),et.do(j(e)),vt.do(L(e)),a.do(E(e)),c.do(z(St)),d.do(P(e)).map(function(t){return t.sources}).map(function(t){return i(t)}).map(o(0)).do(x(e)).withLatestFrom(et,function(t,e){return e}).do(j(e)),h.do(R(e)),f.do(U(e)),g.do(W(e)),nt.do(O),dt.do(N(e)),pt.do(B(e)),it.do(V(wt,Ot)),ot.do(D(e)),st.do(I(e)),at.do(M(e)),ft.do(Q(e)),p.do(H(gt)),l.do(q(bt)),mt.do(A(e)),b.do(tt(e)),_.do(function(t){return Object(w.b)(e,t)}),m.do(function(){return Object(S.b)(e)}),s.do($(e)),rt.do(G(Tt)),ut.do(X(Tt)),lt.do(Y(Tt)),ct.do(K(e)),yt.do(F(wt,Ot)),v.do(Z(e))).mapTo(e).distinctUntilChanged()}function d(t){var e=t.mute$,n=t.volume$,r=t.videoView$,i=t.captionsDisplayMode$,o=t.playerEvent$,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et.a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nt.b,u=o.withType("playing").take(1);return y.a.merge(e.skipUntil(u).do(it(a)),n.skipUntil(u).do(rt(a)),r.do(s),i.skipUntil(u).do(ot(a)))}function h(t,e){var n=t.cneBeacon,i=t.cneEvents,o=t.cookies,a=t.comscore,s=t.facebook,u=t.googleAnalytics,c=t.moat,l=t.moatContent,d=t.sparrow,h=t.view,y=t.vjs,v={cneBeacon$:r(n),cneEventDriver$:r(i),comscore$:r(a),cookies$:at(o),facebookPixel$:r(s),gooleAnalytics$:r(u),moat$:r(c),moatContent$:r(l),sparrow$:r(d),videojs$:p(y,e),view$:Object(f.d)(h,e)};return v}var f=n(129),y=n(0),v=n(130),m=new Set(["application/x-mpegURL","application/vnd.apple.mpegURL","audio/x-mpegURL"]),g=n(22),b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_={facebook:"height=400,width=640,scrollbars=no",twitter:"height=450,width=550"},T="height=400,width=600",w=n(131),S=n(87),O=function(t){return(0,t.callback)(t.facade)},k=function(t){return function(e){var n=e.action,r=e.video;return t(r,n)}},C=function(t){return function(){return t.dfp.restartAd()}},E=function(t){return function(e){return t.autoplay(e)}},P=function(t){return function(e){return t.dfp.video(e)}},A=function(t){return function(e){var n=e.width,r=e.height,i=e.fullscreen,o=i?"fullscreen":"normal";t.dfp.resize(n,r,o)}},x=function(t){return function(e){t.trigger("player-set-src"),t.src(e)}},j=function(t){return function(e){t.muted(e),t.dfp.mutedConfig(e)}},L=function(t){return function(e){var n=e.level;return t.volume(n)}},I=function(t){return function(e){return t.currentTime(e)}},M=function(t){return function(e){return!!t.el_&&t.poster(e)}},D=function(t){return function(e){var n=t.seekable();n.length&&(t.currentTime()<n.end(0)&&t.currentTime(n.end(0)),e||t.play())}},R=function(t){return function(){return t.requestFullscreen()}},U=function(t){return function(){return t.exitFullscreen()}},N=function(t){return function(){t.paused()&&(t.play(),t.trigger("_coordinator:play"))}},B=function(t){return function(){t.paused()||(t.pause(),t.trigger("_coordinator:pause"))}},$=function(t){return function(e){var n=e.captions,r=e.displayMode;n&&(n.mode=r),t.controlBar.cneCaptionsButton.update(r)}},F=function(t,e){return function(n){t.updateVideo(n),e.updateVideo(n)}},V=function(t,e){return function(n){t.updatePosition(n),e.updatePosition(n)}},H=function(t){return function(e){return t.update(e)}},q=function(t){return function(){return t.hideMessage()}},z=function(t){return function(){return t.updateDisplay()}},W=function(t){return function(e){return t.dfp.infinityId(e)}},G=function(t){return function(e){return t.saveSettings(e)}},X=function(t){return function(e){t.toggleMenu(e)}},Y=function(t){return function(e){var n=e.menu,r=e.display;t.cneSettingsMenu.toggleSubMenu(n,r)}},K=function(t){return function(e){e&&t.reportUserActivity()}},Q=function(t){return function(){return t.userActive(!t.userActive())}},J=function(t){return function(){return t.userActive(!1)}},Z=function(t){return function(){var e=t.controlBar.cneSettings,n=a([e]);t.trigger("focusedComponent",n)}},tt=function(t){return function(e){var n=e.loading,r=e.video;n?t.trigger("intent:show-live-waiting-message-overlay",{image:r.brand_image}):t.trigger("intent:close-overlay")}},et=n(34),nt=n(132),rt=function(t){return function(e){var n=e.level;t("volume",n)}},it=function(t){return function(e){t("muted",e?1:0)}},ot=function(t){return function(e){"disabled"!==e.displayMode&&t("captions",e.displayMode||"hidden")}},at=d;e.a=h},function(t,e,n){"use strict";var r=n(327),i=n(329);e.animationFrame=new i.AnimationFrameScheduler(r.AnimationFrameAction)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(83),o=n(328),a=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=o.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(o.AnimationFrame.cancelAnimationFrame(n),e.scheduled=void 0)},e}(i.AsyncAction);e.AnimationFrameAction=a},function(t,e,n){"use strict";var r=n(14),i=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}();e.RequestAnimationFrameDefinition=i,e.AnimationFrame=new i(r.root)},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(84),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(i.AsyncScheduler);e.AnimationFrameScheduler=o},function(t,e,n){"use strict";function r(t){return{documentHidden$:Object(o.a)(),windowEvent$:i.a.merge(function(e){return t.switchMap(function(t){return t.canAccessParent?e:i.a.never()})}(Object(a.a)(window.top,["scroll","resize"])),Object(a.a)(window,["error","mousemove","mouseup"])).share()}}e.a=r;var i=n(0),o=n(133),a=n(35)},function(t,e,n){"use strict";function r(t,e){return t.map(function(t){var n=e.duration();return{type:"percentComplete",value:n?t/n:0}}).startWith({type:"percentComplete",value:0})}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,i=Object(c.b)(t,e),l=Object(c.b)(t,n);t.on("contentcanplay",function(){t.currentTime(t.ads.snapshot.currentTime)});var p=a(t,i),f=s(t,i.withType("ready")),y=i.withType("error").map(function(){var e=t.error();return{type:"errorCode",value:e?e.code:0}}),v=r(p.pluck("value"),t),m=i.withType("fullscreenchange").map(function(){return{type:"fullscreen",value:t.isFullscreen()}}).startWith({type:"fullscreen",value:!1}),g=u.a.fromEvent(t,"cne-texttrackadded",function(t,e){return{type:"cne-texttrackadded",value:e}});return i.merge(l,p,y,m,v,f,g).map(o(t)).distinctUntilChanged(function(t,e){return t.type===e.type&&"ended"===e.type})}function o(t){return function(e){if(e.state)return e;var n=t.ads||{};return p({},e,{state:n.state})}}function a(t,e){return e.withType("timeupdate","adtimeupdate").map(function(){return{type:"currentTime",value:t.currentTime()}}).share()}function s(t,e){return e.map(function(){return t.tech?{type:"tech",value:t.tech({IWillNotUseThisInPlugins:!0})}:""})}var u=n(0),c=n(35),l=n(88);e.a=i;var p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=["dispose","ended","error","keyup","fullscreenchange","loadeddata","loadedmetadata","pause","play","playing","useractive","userinactive","emptied","ended","ready","seeked","seeking","timeupdate","volumechange","click","drag","stalled","resize","player-set-src","hls-request-manifest","hls-request-playlist","hls-request-segment-1","adtimeupdate"],h=function(t){var e=[];if(!t.next)return e;for(var n=t.next();!1===n.done;n=t.next())e.push(n.value);return e}(l.d.values()).concat(l.b.type).concat(l.c.type)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){function n(t){return(r.view||{})[t]}var r=new h(t),i={currentTime:function(e){if(void 0===e)return n("currentTime")||s;t.next({type:"setTime",time:e})},currentVideo:function(){return n("currentVideo")||u},dispose:function(e){e&&r.player.off(),t.next({type:"dispose"})},duration:function(){return r.player.duration()},getCuePoints:function(){return[]},getPlayCount:function(){return Object(o.a)()},isInterlude:function(){return"interlude"===n("playerType")},isLoading:function(){return n("loading")||c},isPlaying:function(){return n("isPlaying")||l},isPlaylist:function(){return"playlist"===n("playerType")},isMuted:function(){return n("mute")},load:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return r.player.trigger("intent:load-video",{video:{id:e}});t.next({type:"load",videoId:e})},off:function(t,e){var n=r.player;n.el_&&n.off(t,e)},on:function(t,e){r.player.on(t,function(t,n){e(n,t)})},pause:function(){t.next({type:"pause"})},play:function(){t.next({type:"play"})},setAdKeyValues:function(){},setNextVideo:function(e){var n="string"==typeof e?{id:e}:e;t.next({type:"nextVideo",video:n})},volume:function(e){if(void 0===e){var r=n("volume");return parseFloat(r)?r:p}t.next({type:"volume",level:e})},_overrideAutoplay:function(n,r){d(e,r,"_overrideAutoplay"),t.next({type:"autoplayOverride",data:n})},_markPersistent:function(e){t.next({type:"persistent",persistent:e})},_requestCancelPersist:function(){r.player.trigger("_coordinator:cancel-persistent")},_trackPlayOnPage:function(){t.next({type:"play-on-page"})},_trackCNESparrow:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.next({type:"track",data:{category:n,event:{type:e},meta:r}})}};return t.next({type:"ready",facade:i}),i}e.a=i;var o=n(132),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=0,u=null,c=!1,l=!1,p=1,d=function(t,e,n){if(!e||e!==t)throw new Error("CNE Player: "+n+" is a private method")},h=function(){function t(e){r(this,t),this.getValue=function(){return e.getValue()}}return a(t,[{key:"view",get:function(){return(this.getValue()||{}).view}},{key:"player",get:function(){return(this.getValue()||{}).videojs}}]),t}()},function(t,e,n){"use strict";function r(t,e,n){var r=a.a.fromEvent(t,"intent:show-share").map(function(){return{action:"show",type:"share",source:"click"}}),i=a.a.fromEvent(t,"intent:show-share-keyboard").map(function(){return{action:"show",type:"share",source:"keyboard"}}),o=a.a.fromEvent(t,"intent:show-share-embed").map(function(){return{action:"show",type:"embed"}}),s=a.a.fromEvent(t,"intent:show-share-url").map(function(){return{action:"show",type:"url"}}),u=a.a.fromEvent(t,"intent:show-message-overlay").merge(e,n).map(function(){return{action:"show",type:"message"}}),c=[],l=r.merge(i,o,s,u).do(function(t){return c.push(t)});return a.a.fromEvent(t,"intent:close-overlay").map(function(){var t=c.pop();if(t)return{action:"hide",type:t.type}}).filter(function(t){return!!t}).merge(l).share()}function i(t){return a.a.fromEvent(t,"intent:share",function(t,e){return e.action})}function o(t,e){var n=t.withType("dispose"),o=t.withType("ready").pluck("facade"),u=a.a.fromEvent(e,"intent:enter-fullscreen"),c=a.a.fromEvent(e,"intent:exit-fullscreen"),l=a.a.fromEvent(e,"intent:progress-mouse",function(t,e){return e}),p=a.a.fromEvent(e,"intent:seek-latest"),d=a.a.fromEvent(e,"intent:seek-start"),h=a.a.fromEvent(e,"intent:seek-end"),f=t.withType("nextVideo").pluck("video").startWith(!1),y=a.a.fromEvent(e,"intent:load-video",function(t,e){return e}).map(function(t){return t.video.id}),v=t.withType("load").pluck("videoId").merge(y),m=function(t){var e=t.target&&t.target.classList;return e&&(e.contains("vjs-tech")||e.contains("click-mask"))},g=a.a.fromEvent(e.el_,"touchend").filter(function(t){return m(t)&&"touchend"===t.type}).share(),b=a.a.fromEvent(e.el_,"mousedown").filter(function(t){var e=1===t.which||t.buttons&&t.buttons<2;return m(t)&&e}).share(),_=b.filter(function(t){return t.currentTarget.classList.contains("cne-playing")}),T=b.filter(function(t){return t.currentTarget.classList.contains("cne-paused")}),w=a.a.fromEvent(e.el_,"mouseleave"),S=e.$(".persistent-share"),O=a.a.fromEvent(S,"mouseenter"),k=a.a.fromEvent(S,"mouseleave"),C=t.withType("volume"),E=a.a.fromEvent(e,"intent:volume-change",function(t,e){return e}),P=C.merge(E).map(function(t){var e=t.level;return{type:"intent",level:void 0===e?null:e}}).filter(function(t){return null!==t}),A=a.a.fromEvent(e,"intent:mute-toggle",function(t,e){return e}),x=t.withType("setTime").pluck("time"),j=a.a.fromEvent(e,"keydown").filter(function(t){return 32===t.keyCode&&t.preventDefault()}),L=a.a.fromEvent(e,"keyup").filter(function(t){return 32===t.keyCode}).map(function(){return e.paused()?"play":"pause"}).merge(j).share(),I=a.a.fromEvent(e,"keyup").filter(function(t){return 27===t.keyCode}).share(),M=t.withType("play").merge(Object(s.b)(e,"intent:play")).merge(T).merge(L.filter(function(t){return"play"===t})),D=t.withType("pause").merge(Object(s.b)(e,["dfp-ad-click","dfp-ad-paused","intent:pause","intent:show-message-overlay"])).merge(_).merge(L.filter(function(t){return"pause"===t})),R=a.a.fromEvent(e,"intent:close-message"),U=a.a.fromEvent(e,"intent:show-360-message-overlay"),N=a.a.fromEvent(e,"intent:show-live-waiting-message-overlay",function(t,e){return e}).publishReplay(1).refCount(),B=a.a.fromEvent(e,"intent:toggle-captions"),$=t.withType("autoplayOverride").pluck("data").startWith({override:!1}),F=t.withType("persistent").pluck("persistent").startWith(!1),V=a.a.fromEvent(e,"intent:save-settings",function(t,e){return e}),H=a.a.fromEvent(e,"intent:close-settings").mapTo(!1).merge(a.a.fromEvent(e,"intent:show-settings").mapTo(!0)).merge(I.mapTo(!1)),q=a.a.fromEvent(e,"intent:hide-settings-submenu",function(t,e){return{menu:e,display:"hide"}}).merge(a.a.fromEvent(e,"intent:show-settings-submenu",function(t,e){return{menu:e,display:"show"}})),z=a.a.fromEvent(e,"click").merge(a.a.fromEvent(e,"keyup").filter(function(t){return"Tab"===t.key}),a.a.fromEvent(e,"intent:mute-toggle"),d),W=t.withType("track").map(function(t){return t.data}),G=t.withType("play-on-page");return{autoplayOverride$:$,closeMessage$:R,cneOverlayIntent$:r(e,U,N),dispose$:n,enterFullScreen$:u,exitFullScreen$:c,facadeReady$:o,focusChanged$:z,focusedComponent$:a.a.fromEvent(e,"focusedComponent",function(t,e){return e}),intentSubject:t,isPersistent$:F,keepPlaying$:a.a.fromEvent(e,"intent:keep-playing"),loadVideoId$:v,mouseLeavePlayer$:w,muteToggle$:A,nextVideo$:f,persistentShareEnter$:O,persistentShareLeave$:k,playOnPage$:G,progressMouse$:l,saveSettings$:V,seekStart$:d,seekEnd$:h,seekLatestIntent$:p,setTimeIntent$:x,settingsSubMenuIntent$:q,shareIntent$:i(e),shouldPause$:D,shouldPlay$:M,show360MessageOverlayIntent$:U,showLiveWaitingOverlayIntent$:N,toggleCaptionsIntent$:B,touchVideo$:g,toggleSettings$:H,trackSparrowIntent$:W,volumeIntent$:P}}var a=n(0),s=n(35);e.a=o},function(t,e,n){"use strict";function r(t){var e=t.playerEvent$,n=t.analyticsAdBlocked$;return e.withType("dfp-ad-error").filter(function(t){return t.adError&&"ADS_REQUEST_NETWORK_ERROR"===t.adError.code}).merge(n).mapTo(!0).startWith(!1)}function i(t,e){return t.withLatestFrom(e,function(t,e){return{videoId:e.id,adBlocked:t}})}function o(t){var e=t.adDisplaying$,n=t.playerEvent$,r=n.withType("dfp-ad-skippablestatechanged").map(Ft);return e.switchMap(function(t){return t?r:$t.a.of(t)}).startWith(!1).distinctUntilChanged()}function a(t){return t.withType("dfp-ad-started","dfp-content-pause").mapTo(!0).merge(t.withType("dfp-ad-timeout","dfp-content-resume").mapTo(!1)).startWith(!1).distinctUntilChanged()}function s(t,e){return t.withType("dfp-ad-complete").withLatestFrom(e,function(t,e){var n=e.id;return{finishedAdIndex:t.ad.podInfo.getPodIndex(),videoId:n}})}function u(t,e){return t.withLatestFrom(e,function(t,e){return e.playerConfig.adsDisabled?null:t})}function c(t){var e=t.currentVideo$,n=t.config$,r=t.windowGoogle,i=void 0===r?window.google:r,o=n.pluck("playerConfig","adsDisabled");return e.filterByLatestFrom(o,function(t,e){return!(e||i&&i.ima)}).mapTo(!0)}function l(t){return t.distinctUntilChanged(function(t,e){return 0!==t&&0!==e}).map(function(t){return 0===t})}function p(t){var e=t.buffer,n=void 0===e?Vt:e,r=t.playerEvent$,i=t.scheduler,o=r.withType("pause","ended","seeked","play");return o.throttleTime(n,i).switchMap(function(t){return $t.a.race($t.a.timer(n,null,i).map(function(){return t}),o.mapTo(!1))}).filter(Boolean).filter(function(t){var e=t.state,n=t.type;return("content-playback"===e||!e)&&"pause"===n}).mapTo(!0)}function d(t){var e=t.analyticsPause$,n=t.playerEvent$;return e.switchMapTo(n.withType("play").take(1))}function h(t,e,n){var r=t.map(function(t){var e=t.volumeCookie;return zt(e)?e:1}).takeUntil(n).merge(n.pluck("level")).distinctUntilChanged();return e.withLatestFrom(r,function(t,e){return t?0:t||e?e:1})}function f(t){var e=t.config$,n=t.currentVideo$,r=t.loading$,i=t.widthHeight$,o={action:"hide"};return $t.a.of(o).concat(n.take(1).filterByLatestFrom(e,v).withLatestFrom(i,y)).merge(r.mapTo(o))}function y(t,e){var n=t.animated_clip_url_mp4,r=t.animated_clip_url_webm,i=t.animated_clip_url_high_mp4,o=t.animated_clip_url_high_webm,a=t.animated_clip_still,s=e.width;return Wt({action:"show",animated_clip_still:a},s>Gt?{animated_clip_url_mp4:i,animated_clip_url_webm:o}:{animated_clip_url_mp4:n,animated_clip_url_webm:r})}function v(t,e){var n=t.animated_clip_url_mp4,r=t.animated_clip_url_webm,i=t.animated_clip_still,o=t.live_metadata,a=t.projection_type_360,s=e.autoplayEnabled,u=e.isMobile,c=e.playerConfig,l=c.hasAnimatedThumb;return n&&r&&i&&l&&!o&&!a&&!s&&!u}function m(t){var e=t.config$,n=t.mute$,r=t.toggleCaptionsIntent$,i=t.captionsTrack$,o=e.withLatestFrom(n,function(t,e){var n=t.autoplayEnabled,r=t.captionsCookie;return n&&e?"showing":r||"hidden"}),a=o.switchMap(function(t){return r.scan(function(t){return"hidden"==t?"showing":"hidden"},t).startWith(t)});return $t.a.combineLatest(a,i,function(t,e){return e?{captions:e,displayMode:t}:{captions:e,displayMode:"disabled"}})}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;return t.withType("cne-texttrackadded").pluck("value").publishReplay().refCount().switchMap(function(t){return t&&t.track?e(t).mapTo(t.track).startWith(null):t&&Object(Yt.a)(t)?$t.a.of(t).startWith(null):$t.a.of(null)})}function b(t){return $t.a.fromEvent(t,"load")}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ajaxObservable,r=void 0===n?Kt.a:n,i=e.readCookie,o=void 0===i?Qt.b:i,a=o("CN_xid","");if(a)return $t.a.of(a).share();var s=r("//infinityid.condenastdigital.com/infinityid",{withCredentials:!0}).map(function(t){return t.body}).catch(function(t){return Object(Jt.b)("infinity id",t),$t.a.of("")});return t.pluck("playerConfig","gdprApplies").switchMap(function(t){return t?(Object(Jt.b)("infinity id blocked - GDPR"),$t.a.of("")):s}).publishReplay(1).refCount()}function T(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k,i=t.switchMapTo(n.pairwise().takeUntil(e).map(function(t){var e=te(t,2),n=e[0],r=e[1];return{x:r.x-n.x,y:r.y-n.y,time:r.time-n.time,now:r.time}})),o=e.withLatestFrom(i,function(t,e){return e}).distinctUntilChanged(function(t,e){return t.now===e.now}),a=o.switchMap(function(e){return r(e.time).scan(function(t){return{x:t.x*ee,y:t.y*ee}},e).takeWhile(function(t){return t.x>ne||t.x<-ne||t.y>ne||t.y<-ne}).concat($t.a.of({x:0,y:0})).takeUntil(t)});return i.merge(a).map(function(t){return{x:t.x*re,y:t.y*re}})}function w(t,e){return t.switchMapTo(e.scan(function(t,e){var n=t.long-e.x,r=t.lat+e.y,i=Math.max(-85,Math.min(85,r)),o=(n+360)%360,a=Math.PI/180;return{lat:i,long:o,phi:(90-i)*a,theta:o*a}},{lat:ie,long:oe}))}function S(t,e){return t.mapTo(!0).merge(e.mapTo(!1)).startWith(!1)}function O(){var t=document.getElementById("cne-360-container");return{mouseDown$:$t.a.fromEvent(t,"mousedown").merge($t.a.fromEvent(t,"touchstart")).map(function(t){return C(t)}),mouseUp$:$t.a.fromEvent(document,"mouseup").merge($t.a.fromEvent(t,"touchend")),mouseMove$:$t.a.fromEvent(t,"mousemove").merge($t.a.fromEvent(t,"touchmove")).map(function(t){return C(t)})}}function k(t){return $t.a.interval(t)}function C(t){return{x:void 0!==t.clientX?t.clientX:t.touches[0].clientX,y:void 0!==t.clientY?t.clientY:t.touches[0].clientY,time:Date.now()}}function E(t){var e=t.adDisplaying$,n=t.currentVideo$,r=t.errorCode$,i=t.isPlaying$,o=t.windowError$,a=t.scheduler,s=t.checkIsPlayingDelay,u=void 0===s?ae:s;return r.withLatestFrom(e,P).merge(o.map(function(t){return t.message}).filter(A)).delay(u,a).filterByLatestFrom(i,function(t,e){return!e}).withLatestFrom(n,function(t,e){return{error:t,video:e}})}function P(t,e){var n=e?"ad":"video";switch(t){case 1:return"player_"+n+"_error_aborted";case 2:return"player_"+n+"_error_network";case 3:return"player_"+n+"_error_decode";case 4:return"player_"+n+"_error_src_not_supported";case 5:return"player_"+n+"_error_encrypted";default:return"player_"+n+"_error"}}function A(t){return[/InvalidStateError\: Failed to execute 'endOfStream' on 'MediaSource'/].some(function(e){return e.test(t)})}function x(t){var e=t.adDisplaying$,n=t.cneError$,r=t.cneOverlayIntent$,i=t.loadVideoId$,o=t.showLiveMessageOverlay$,a=r.filterByLatestFrom(e,function(t,e){return"hide"===t.action||!e}).merge(n.mapTo({type:"message",action:"show"}),i.mapTo({type:"message",action:"hide"}),i.mapTo({type:"play",action:"hide"}),o.mapTo({type:"message",action:"show"})),s=a.filter(function(t){return"message"===t.type}),u=s.map(function(t){return"hide"===t.action}).startWith(!0);return a.filterByLatestFrom(u,function(t,e){var n=t.type;return e||"message"===n})}function j(t){return t.withType("dfp-content-pause").switchMapTo(t.withType("dfp-content-resume").mapTo(!0).take(1)).merge(t.withType("playing").mapTo(!1)).distinctUntilChanged()}function L(t,e,n){var r=n.withType("dfp-ad-complete").mapTo(!0).withLatestFrom(e,function(t,e){return e&&t}),i=n.withType("playing");return r.switchMap(function(e){return t.mapTo(e)}).withLatestFrom(i,function(t){return t})}function I(t){return t.config$.switchMap(ce(t)).switchMap(le(t)).switchMap(pe(t)).map(he).map(de)}function M(t,e){return $t.a.merge(fe(t),ye(e,t),ge(e,t))}function D(t,e){var n=R(t,e),r=n.switchMap(function(t){var e=t.needs360,n=t.threeJsPath,r=t.video;return e&&void 0===window.THREE?Object(be.a)(n).map(function(){return{needs360:e,video:r}}):$t.a.of({needs360:e,video:r})}).publishReplay(1).refCount(),i=r.partition(function(t){return t.needs360}),o=_e(i,2),a=o[0],s=o[1],u=U(a,s),c=N(r,a);return{cne360AnimationInterval$:u,currentVideo$:r.map(function(t){return t.video}),cne360CanvasSource$:c}}function R(t,e){return t.withLatestFrom(e,function(t,e){var n=e.is360Supported,r=e.environment,i=r.threejs_path,o=t.projection_type_360,a=void 0===o?null:o;return{needs360:n&&null!==a,threeJsPath:i,video:t}})}function U(t,e){return t.switchMap(function(){return $t.a.interval(30).takeUntil(e)})}function N(t,e){return t.skipUntil(e).map(function(t){return t.video.projection_type_360})}function B(t){return D(M((arguments.length>1&&void 0!==arguments[1]?arguments[1]:I)(t),t).mergeScan(function(t,e){return e(t)}),t.config$)}function $(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$t.a.of(!1),i=e.filter(function(t){return!t}).mapTo(!1);return $t.a.merge(t.mapTo(!0),i,n.mapTo(!0)).filterByLatestFrom(r,function(t,e){return e}).distinctUntilChanged()}function F(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$t.a.of(!1);return t.switchMapTo(e.take(1).mapTo(!0)).filterByLatestFrom(n,function(t,e){return e})}function V(t){var e=t.isPersistent$,n=t.isFullscreen$;return e.combineLatest(n,function(t,e){return t&&!e}).distinctUntilChanged()}function H(t){var e=t.config$,n=t.playerEvent$,r=t.shouldPause$,i=n.withType("playing","dfp-ad-started","dfp-ad-resume").mapTo(!0),o=r.mapTo(!1),a=e.pluck("isContinuousPlay"),s=n.withType("ended").withLatestFrom(a,function(t,e){return e});return o.merge(i).merge(s).startWith(!1).distinctUntilChanged()}function q(t,e){return new Date(z(e)-t)}function z(t){return t&&t.getTime?t.getTime():(new Date).getTime()}function W(t,e){var n={videoId:t};return e+"/"+Se+"?"+Object(se.a)(n)}function G(t,e){var n=W(t,e);return Object(Kt.a)(n).map(function(t){return JSON.parse(t.body)})}function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.interval,r=void 0===n?Oe:n,i=e.buffer,o=void 0===i?ke:i,a=e.config$,s=e.fetchLiveSource,u=void 0===s?G:s,c=e.scheduler,l=Y(t,o)||0;return $t.a.timer(l,r,c).withLatestFrom(a.pluck("environment","base_url")).switchMap(function(e){var n=we(e,2),r=n[1];return u(t.id,r)}).filter(function(e){var n=e.video;return n.id===t.id&&n.sources.length}).map(function(e){var n=e.video;return Object.assign(t,n)}).first()}function Y(t,e){var n=t.live_metadata,r=void 0===n?{}:n,i=r.start_date;if(!i)return null;var o=new Date(i),a=new Date,s=q(e,o);return s>a?s-a:null}function K(t){var e=t.currentVideo$,n=t.config$,r=t.pollForLiveSource,i=void 0===r?X:r,o=e.pluck("live_metadata").map(function(t){return t||{}}),a=e.map(function(t){return!!t.live_metadata}),s=o.pluck("end_date"),u=e.switchMap(function(t){var e=t.live_metadata,r=t.sources,o=void 0===r?[]:r,a=e&&0===o.length?i(t,{config$:n}):$t.a.never();return $t.a.of(t).merge(a)}).publishReplay(1).refCount(),c=u.filter(function(t){return t.sources.length>0});return{currentVideo$:c,isLiveVideo$:a,liveLoadingState$:u.filter(function(t){return!!t.live_metadata}).map(function(t){return{loading:0===t.sources.length,video:t}}),mobileLiveReadyPosterURL$:c.filterByLatestFrom(n,a,function(t,e,n){return e.isMobile&&n}).map(function(t){return t.live_ready_poster}),proposedLiveStreamEnd$:s}}function Q(t,e,n){var r=t.switchMapTo(n.withType("dfp-content-resume"));return $t.a.merge(t,r).withLatestFrom(e.pluck("captions"),function(t,e){return e})}function J(t){var e=t.cneError$,n=t.currentVideo$,r=t.mergedPlay$,i=t.continuousPlay$,o=t.playerEvent$,a=t.isPlaying$,s=t.seekEnd$,u=t.shouldPlay$,c=t.userIdle$,l=t.videoStart$,p=t._isMobile,d=void 0===p?Object(Ee.f)():p,h=t.spinnerDelay$,f=void 0===h?$t.a.timer(500):h,y=function(t){return function(e){return e.switchMapTo(t.takeUntil(g)).publishReplay().refCount()}},v=l.switchMapTo(u.takeUntil(o.withType("ended"))),m=d?o.withType.apply(o,Ae):o.withType.apply(o,Ae.concat(["timeupdate"])),g=$t.a.merge(e,m),b=s.filter(function(t){return t.elapsed>100&&!d}).filterByLatestFrom(a,function(t,e){return!!e}),_=s.switchMapTo(f.takeUntil(g)).filterByLatestFrom(a,function(t,e){return!!e}).mapTo(d).partition(function(t){return t}),T=Pe(_,2),w=T[0],S=T[1],O=v.let(y(f)).filter(function(){return!d}),k=v.let(y(o.withType("stalled"))).mapTo(d).partition(function(t){return t}),C=Pe(k,2),E=C[0],P=C[1],A=o.withType.apply(o,Ae),x=o.withType("timeupdate").filterByLatestFrom(l,function(t,e){return!!e}),j=r.take(1).filterByLatestFrom(e.startWith(null),function(t,e){return!e}).takeUntil(o.withType("playing")),L=o.withType("dfp-ad-complete","ended").filterByLatestFrom(i,c,function(t,e,n){return e&&!n}),I=$t.a.merge(b.mapTo(xe.bgPoster),S.mapTo(xe.spinnerWithBgPoster),w.mapTo(xe.spinner),O.mapTo(xe.bgPoster),P.mapTo(xe.spinnerWithBgPoster),E.mapTo(xe.spinner),L.mapTo(xe.spinner),j.mapTo(xe.spinner)).takeUntil(e),M=$t.a.merge(e.mapTo(xe.none),x.mapTo(xe.none),A.mapTo(xe.none)),D=$t.a.merge(I,M);return n.take(1).switchMapTo(D).distinctUntilChanged()}function Z(t){return t.scan(function(t){return t+1},0).startWith(0)}function tt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Le;return e.map(function(t){return t.poster_frame}).merge(n).filterByLatestFrom(t,function(t,e){return t&&"hide"===e.action}).switchMap(function(t){return r(t).catch(function(){return $t.a.of("")})})}function et(t){var e=t.currentVideo$,n=t.playerEvent$,r=n.withType("dfp-ad-started").mapTo(!0),i=e.mapTo(!1);return $t.a.merge(r,i)}function nt(t){var e=t.videoStart$,n=t.percentComplete$,r=$t.a.merge(n.filter(function(t){return t>=.25}).take(1).mapTo(1),n.filter(function(t){return t>=.5}).take(1).mapTo(2),n.filter(function(t){return t>=.75}).take(1).mapTo(3));return e.switchMapTo(r)}function rt(t,e,n){var r=function(t){return t};return t.switchMapTo(e.switchMapTo(n.take(1),r),r)}function it(t){var e=t.playerEvent$,n=t.settingsMenu$,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie,i=n.filter(function(t){return"show"===t}),o=n.filter(function(t){return"show"!==t}).merge(e.withType("userinactive"));return i.switchMap(function(){return r.mapTo(!0).takeUntil(o)})}function ot(t){var e=t.config$,n=t.progressMouse$,r=t.windowEvent$,i=e.pluck("isMobile"),o=n.withType("down").pluck("event"),a=n.withType("move").pluck("event"),s=r.withType("mousemove"),u=r.withType("mouseup"),c=o.switchMap(function(){return s.takeUntil(u)});return a.merge(c).filterByLatestFrom(i,function(t,e){return!e})}function at(t,e){return t.mapTo(!0).merge(e.mapTo(!1)).startWith(!1)}function st(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$t.a.of(!1);return t.filterByLatestFrom(n,function(t,e){return e}).withLatestFrom(e,function(t,e){return e})}function ut(t){var e=t.currentVideo$;return t.shareIntent$.filter(function(t){return"url"!==t&&"embed"!==t}).withLatestFrom(e,function(t,e){return{action:t,video:e}})}function ct(t,e){var n=(new Date).getTime(),r=new Date(t).getTime()+e,i=r-n;return i>0?i>2147483647?2147483647:i:0}function lt(t){var e=t.config$,n=t.mute$,r=t.touchVideo$,i=t.viewportAutoplay$,o=i.mapTo(!0).filterByLatestFrom(e,n,function(t,e,n){return e.isMobile&&n}).take(1);return $t.a.of(!1).merge(o).merge(n.filter(function(t){return!t})).merge(r.mapTo(!1)).distinctUntilChanged()}function pt(t){var e=t.mouseLeavePlayer$,n=t.persistentShareEnter$,r=t.persistentShareLeave$,i=t.showShareOverlay$,o=t.scheduler,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re,s=n.mapTo(!0),u=r.switchMap(function(){var t=$t.a.timer(a,null,o).mapTo("left"),e=n.mapTo("re-enter");return $t.a.race(t,e)}).filter(function(t){return"left"===t}).mapTo(!1),c=e.merge(i).mapTo(!1);return s.merge(c,u)}function dt(t){var e=t.cneError$,n=t.show360MessageOverlayIntent$,r=t.showLiveWaitingOverlayIntent$,i=t.showLiveMessageOverlay$,o=t.showUserIdleMessageOverlay$;return $t.a.merge(n.map($e),i.map(Ne),e.map(Fe),o.map(Ve),r.map(Be))}function ht(t,e,n){return e.combineLatest(n,function(t,e){return!e&&"FULLY_IN_VIEWPORT"===t}).distinctUntilChanged().switchMap(function(e){return e?$t.a.of(0):t.withType("ended").scan(function(t){return t+1},0)}).share()}function ft(t){var e=t.documentHidden$,n=t.keepPlaying$,r=t.playerEvent$,i=t.viewportStatus$,o=ht(r,i,e);return{userIdle$:o.map(function(t){return t>=He-1}).merge(n.mapTo(!1)).share().startWith(!1).distinctUntilChanged(),showUserIdleMessageOverlay$:o.filter(function(t){return t===He}).share()}}function yt(t,e){return e.withType("dfp-ad-started").merge(t).take(1).mapTo(!0)}function vt(t,e){return t.switchMap(function(){return e.first()})}function mt(t){var e=t.loadVideoId$,n=t.videoEnded$,r=t.viewportAutoplay$,i=e.mapTo("manual"),o=n.mapTo("continuous"),a=r.mapTo("autoplay");return i.merge(o,a).startWith("manual")}function gt(t){var e=t.loadVideoId$,n=t.videoEnded$,r=0;return e.merge(n).map(function(){return r++})}function bt(t){return t.scan(function(t){return t+1},0)}function _t(t){var e=t.split(ze),n=qe(e,2),r=n[0];return n[1]||r}function Tt(t){var e=t.autoplayOverride$,n=t.config$,r=t.viewportStatus$,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(We.b)();return r.filterByLatestFrom(e,n,function(t,e,n){var r=e.override,o=e.url,a=n.autoplayEnabled;return!(r&&o===_t(i.location.href))&&"FULLY_IN_VIEWPORT"===t&&a}).share().take(1)}function wt(t,e,n,r){return r.top>0?n-t:n-e}function St(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r=e.getBoundingClientRect(),i=r.top,o=r.height,a=n.querySelector("html").clientHeight,s=a-(i+o);return t.map(function(t){var e=t.intersectionRatio,n=t.intersectionRect;return{intersectionRatio:wt(i,s,e*a,n)/o}})}function Ot(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function kt(t){var e=Math.floor(1/t);return[].concat(Ot(Array(e))).map(function(t,n){return n/e})}function Ct(t){return t.IntersectionObserver&&t.IntersectionObserver.toString().length<100}function Et(){return $t.a.create(function(t){window.parent.postMessage({sentinel:"amp",type:"send-intersections"},"*");var e=function(e){e.source==window.parent&&e.origin!=window.location.origin&&e.data&&"amp"==e.data.sentinel&&"intersection"==e.data.type&&e.data.changes.forEach(function(e){return t.next(e)})};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}})}function Pt(t,e){return $t.a.create(function(n){var r=new e(function(t){var e=Ge(t,1),r=e[0];n.next(r)},{root:null,threshold:kt(.1)});return r.observe(t),function(){return r.disconnect()}})}function At(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ampIO,r=void 0===n?Et:n,i=e.applyIntersectionTransform,o=void 0===i?St:i,a=e.win,s=void 0===a?window:a,u=t.canAccessParent,c=t.playerConfig.pageType,l=t.videoEl,p=u&&s.top.IntersectionObserver;switch(!0){case Ct(s):return Pt(l,s.IntersectionObserver);case"amp-article"===c:return o(r(),l);case p&&!!s.frameElement:return o(Pt(s.frameElement,p),l);case!!p:return Pt(l,p);default:return $t.a.never()}}function xt(t){return"interlude"===t?Ye:Xe}function jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.intersectionObservable,r=void 0===n?At:n,i=function(t){var e=r(t),n=xt(t.playerConfig.playerType);return e.map(function(t){var e=t.intersectionRatio;return{percent:e.toFixed(1),status:e>n?"FULLY_IN_VIEWPORT":"OUT_OF_VIEWPORT"}})};return t.switchMap(function(t){return i(t)}).share()}function Lt(t,e,n){return $t.a.combineLatest(e.map(function(t){return{type:"cookie",level:t}}).takeUntil(t).merge(t),n,function(t){return t}).filter(function(t){var e=t.level;return zt(e)}).distinctUntilChanged()}function It(t){var e=t.aspectRatio$,n=t.targetDiv$,r=t.fullscreen$,i=t.poll$,o=void 0===i?Qe:i,a=t.getWidthHeightFn,s=void 0===a?Mt:a;return o.withLatestFrom(n,r,e).map(function(t){var e=Ke(t,4),n=e[1],r=e[2],i=e[3],o=s(r,n,i);return{targetDiv:n,width:o.width,height:o.height,fullscreen:r}}).distinctUntilChanged(function(t,e){return t.width===e.width&&t.height===e.height&&t.fullscreen===e.fullscreen}).publishReplay(1).refCount()}function Mt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.7778,r=void 0,i=void 0;return t?(r=screen.width,i=screen.height):(r=e.offsetWidth,i=r/n),{height:i,width:r}}function Dt(t){return t.map(function(t){return Math.floor(1e3*t)})}function Rt(t){return t.map(function(t){return t/1e3})}function Ut(t){var e=t.captionsDisplayMode$,n=t.config$,r=t.isPlaying$,i=t.playerEvent$,o=t.settingsMenuHasFocus$,a=t.toggleSettings$,s=t.widthHeight$,u=o.map(function(t){return!t}),c=s.map(function(t){return t.width<Je}).combineLatest(n,e.map(function(t){return"disabled"===t.displayMode}),function(t,e,n){var r=e.isMobile;return t||r||n}),l=r.combineLatest(i.withType("userinactive").mapTo(!0),function(t,e){return t&&e}).merge(u).filter(Boolean);return a.merge(l.mapTo(!1)).map(function(t){return t?"show":"hide"}).combineLatest(c,function(t,e){return e?"disable":t}).share()}function Nt(t,e){return t.switchMap(function(){return e.pluck("displayMode").map(function(t){return{menu:"cneCaptionOptions",display:"disabled"===t?"disable":"enable"}})})}function Bt(t,e,n,y){var v=e.documentHidden$,b=e.windowEvent$,k=y.autoplayOverride$,C=y.closeMessage$,P=y.cneOverlayIntent$,A=y.enterFullScreen$,I=y.exitFullScreen$,M=y.facadeReady$,D=y.focusChanged$,R=y.focusedComponent$,U=y.keepPlaying$,N=y.loadVideoId$,q=y.mouseLeavePlayer$,z=y.muteToggle$,W=y.isPersistent$,G=y.persistentShareEnter$,X=y.persistentShareLeave$,Y=y.playOnPage$,ct=y.progressMouse$,ht=y.saveSettings$,_t=y.seekEnd$,wt=y.seekStart$,St=y.seekLatestIntent$,Ot=y.setTimeIntent$,kt=y.settingsSubMenuIntent$,Ct=y.shareIntent$,Et=y.shouldPause$,Pt=y.shouldPlay$,At=y.show360MessageOverlayIntent$,xt=y.showLiveWaitingOverlayIntent$,Mt=y.toggleCaptionsIntent$,Bt=y.touchVideo$,Ft=y.toggleSettings$,Vt=y.trackSparrowIntent$,Ht=y.volumeIntent$,qt=_(n),zt=jt(n),Wt=zt.pluck("status"),Gt=zt.pluck("percent"),Yt=ft({documentHidden$:v,keepPlaying$:U,playerEvent$:t,viewportStatus$:Wt}),Kt=Yt.userIdle$,Qt=Yt.showUserIdleMessageOverlay$,Jt=Object(Zt.a)(n),te=B({config$:n,intentStreams:y,playerEvent$:t,playlist$:Jt,userIdle$:Kt}),ee=te.cne360AnimationInterval$,ne=te.currentVideo$,re=te.cne360CanvasSource$,ie=K({currentVideo$:ne,config$:n}),oe=ie.currentVideo$,ae=ie.isLiveVideo$,se=ie.liveLoadingState$,ue=ie.proposedLiveStreamEnd$,ce=ie.mobileLiveReadyPosterURL$,le=a(t),pe=o({adDisplaying$:le,playerEvent$:t}),de=N.withLatestFrom(le,function(t,e){return e}).filter(function(t){return t}),he=t.withType("tech").pluck("value"),fe=It({aspectRatio$:n.pluck("aspectRatio").map(function(t){return Object(Xt.a)(t)}),targetDiv$:n.pluck("playerContainer"),fullscreen$:t.withType("fullscreen").pluck("value"),tech$:he}),ye=Lt(Ht,n.pluck("volumeCookie"),oe),ve=Object(je.a)({config$:n,muteToggle$:z,volume$:ye}),me=Tt({autoplayOverride$:k,config$:n,viewportStatus$:Wt}),ge=gt({videoEnded$:t.withType("ended"),loadVideoId$:N}),be=t.withType("currentTime").pluck("value"),_e=Pt.merge(me),we=vt(oe,t.withType("playing")),Se=yt(we,t),Oe=lt({config$:n,mute$:ve,playerEvent$:t,shouldPlay$:Pt,viewportAutoplay$:me,touchVideo$:Bt}),ke=De({currentVideo$:oe,isLiveVideo$:ae,playerEvent$:t,proposedLiveStreamEnd$:ue,videoStart$:we}),Ce=at(wt,_t),Ee=H({config$:n,playerEvent$:t,shouldPause$:Et}),Pe=Bt.filterByLatestFrom(le,function(t,e){return!e}),Ae=$t.a.of(Te.a),xe=ae.withLatestFrom(Ae,function(t,e){return t&&!e}).filter(function(t){return t}),Le=ae.filter(function(t){return t}),Ie=E({adDisplaying$:le,currentVideo$:oe,errorCode$:t.withType("errorCode").pluck("value"),isPlaying$:Ee,windowError$:b.withType("error")}),Me=J({cneError$:Ie,currentVideo$:oe,mergedPlay$:_e,continuousPlay$:n.pluck("isContinuousPlay"),playerEvent$:t,isPlaying$:Ee,seekEnd$:_t,shouldPlay$:Pt,userIdle$:Kt,videoStart$:we}),Re=ot({config$:n,progressMouse$:ct,windowEvent$:b}),Ne=g(t),Be=m({config$:n,mute$:ve,toggleCaptionsIntent$:Mt,captionsTrack$:Ne}),$e=t.withType("useractive").merge(t.withType("userinactive")),Fe=h(n,ve,Ht),Ve=l(Fe),He=p({playerEvent$:t}),qe=d({analyticsPause$:He,playerEvent$:t}),ze=bt(oe),We=mt({videoEnded$:t.withType("ended"),loadVideoId$:N,viewportAutoplay$:me}),Ge=s(t,oe),Xe=st(St,Ee,ae),Ye=$(we,Ee,Xe,ae),Ke=F(Ge,we,ae),Qe=dt({cneError$:Ie,show360MessageOverlayIntent$:At,showLiveMessageOverlay$:xe,showLiveWaitingOverlayIntent$:xt,showUserIdleMessageOverlay$:Qt}),Je=x({adDisplaying$:le,cneError$:Ie,cneOverlayIntent$:P,loadVideoId$:N,showLiveMessageOverlay$:xe}),Ze=O(),tn=Ze.mouseDown$,en=Ze.mouseUp$,nn=Ze.mouseMove$,rn=S(tn,en),on=T(tn,en,nn),an=w(oe,on),sn=f({config$:n,currentVideo$:oe,loading$:Me,widthHeight$:fe}),un=tt(sn,oe,ce),cn=t.withType("tech").pluck("value").map(function(t){return"Html5"===t.name()?"html5vpaid":t.name()}),ln=t.filter(function(t){return t.type.match(/dfp-ad/)}),pn=ln.pluck("ad").filter(function(t){return t}).startWith(null),dn=ln.pluck("adUnitPath").filter(function(t){return t}).startWith(null),hn=ln.pluck("adsManager").filter(function(t){return t}).startWith(null),fn=P.withType("share"),yn=pt({mouseLeavePlayer$:q,persistentShareEnter$:G,persistentShareLeave$:X,showShareOverlay$:fn}),vn=R.map(function(t){return"CneSettings"===t}),mn=Ut({captionsDisplayMode$:Be,config$:n,isPlaying$:Ee,settingsMenuHasFocus$:vn,playerEvent$:t,toggleSettings$:Ft,widthHeight$:fe}),gn=Nt(kt,Be),bn=it({playerEvent$:t,settingsMenu$:mn}),_n=t.withType("percentComplete").pluck("value"),Tn=nt({percentComplete$:_n,videoStart$:we}),wn=t.withType("fullscreen").pluck("value"),Sn=fe.pluck("width").map(function(t){return t<Ue.a}).distinctUntilChanged(),On=c({config$:n,currentVideo$:oe}),kn=r({playerEvent$:t,analyticsAdBlocked$:On}),Cn=i(kn,oe),En=et({currentVideo$:oe,playerEvent$:t}),Pn=j(t),An=Z(Y);return{ad$:pn,adDisplaying$:le,adFinished$:Ge,adBlocked$:kn,adBlockedUnique$:Cn,videoIfAdsNotDisabled$:u(oe,n),adUnitPath$:dn,adSkippable$:pe,adsManager$:hn,analyticsAdBlocked$:On,analyticsVolume$:Fe,animatedClipDisplaying$:sn,captionsDisplayMode$:Be,cne360MouseActive$:rn,cne360CanvasSource$:re,cne360LatLong$:an,cneOverlay$:Je,config$:n,contentResuming$:Pn,contentShouldResumeInFullscreen$:L(Pn,wn,t),currentTimeInMs$:Dt(be),currentVideo$:oe,documentHidden$:v,facadeReady$:M,liveLoadingState$:se,loading$:Me,initializeInBandCaptions$:Le,infinityId$:qt,inSyncWithLiveStream$:Ye,seekLatestAfterPrerollForLive$:Ke,isLiveVideo$:ae,isPlaying$:Ee,isSeeking$:Ce,mute$:ve,posterFrame$:un,percentComplete$:_n,playlist$:Jt,isPersistent$:V({isPersistent$:W,isFullscreen$:wn}),prerollPlayed$:En,showPersistentMute$:Oe,setTime$:Rt(Ot),settingsMenu$:mn,smallLayout$:Sn,reportUserActivity$:bn,settingsSubMenu$:gn,showLiveEndCard$:ke,showShareDropdown$:yn,techName$:cn,viewportPercentage$:Gt,viewportStatus$:Wt,updateMessageOverlay$:Qe,videoStartType$:We,viewportAutoplay$:me,volume$:ye,videoEndedOrSwitched$:ge,widthHeight$:fe,analyticsMute$:Ve,analyticsPause$:He,analyticsResume$:qe,adRestart$:de,captionsUpdateTextTrackDisplay$:$e,closeMessage$:C,cne360MouseDrag$:on,cne360AnimationInterval$:ee,cneError$:Ie,enterFullScreen$:A,exitFullScreen$:I,focusChanged$:D,loadCaptions$:Q(we,oe,t),loadVideoId$:N,mouseLeavePlayer$:q,muteToggle$:z,playerEvent$:t,playsOnPage$:An,quartile$:Tn,replay$:rt(oe,t.withType("ended"),t.withType("play")),saveSettings$:ht,scrub$:Re,seekLatest$:Xe,seekEnd$:_t,shareIntent$:Ct,shouldPause$:Et,mergedPlay$:_e,shouldShareVideo$:ut({currentVideo$:oe,shareIntent$:Ct}),toggleUserActive$:Pe,trackSparrowIntent$:Vt,videoStart$:we,videoOrAdStart$:Se,videoView$:ze,volumeIntent$:Ht}}var $t=n(0),Ft=function(t){var e=t.adsManager;return!!e&&"function"==typeof e.getAdSkippableState&&e.getAdSkippableState()},Vt=250,Ht=function(t){return"number"==typeof t&&window.isFinite(t)},qt=Number.isFinite||Ht,zt=qt,Wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gt=480,Xt=n(134),Yt=n(87),Kt=n(57),Qt=n(34),Jt=n(23),Zt=n(335),te=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ee=.95,ne=.5,re=.2,ie=0,oe=180,ae=300,se=n(22),ue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ce=function(t){var e=t.playerEvent$;return function(t){return e.withType("dfp-ad-requested").pluck("adUnitPath").startWith(null).map(function(e){return ue({},t,{adUnitPath:e})})}},le=function(t){var e=t.playerEvent$,n=t.intentStreams;return function(t){return n.nextVideo$.merge(e.withType("loadedmetadata").mapTo(!1)).map(function(e){return ue({},t,{nextVideoOverride:e})})}},pe=function(t){var e=t.playlist$;return function(t){return e.map(function(e){return ue({},t,{playlist:e})})}},de=function(t){var e=t.playerConfig,n=t.environment,r=n.base_url,i={playlistId:e.playlist?e.playlist.id:null,adUnitPath:t.adUnitPath,shareToScene:e.shareToScene},o=function(t){return r+"/next_video/"+t+"?"+Object(se.a)(i)};return ue({},t,{fetchVideo:function(t){return Object(Kt.a)(o(t)).map(function(t){return JSON.parse(t.body)}).map(function(t){return t.video})}})},he=function(t){var e=t.playerConfig,n=e.loopVideo,r=e.playlistId;return ue({},t,{shouldLoop:n&&!r})},fe=function(t){return t.take(1).filter(function(t){return t.video}).map(function(t){var e=t.video;return function(){return $t.a.of(e)}})},ye=function(t,e){var n=t.intentStreams,r=t.playerEvent$,i=t.userIdle$;return r.withType("ended").filterByLatestFrom(i,function(t,e){return!e}).merge(n.keepPlaying$).withLatestFrom(e,function(t,e){return e}).filter(function(t){return t.isContinuousPlay}).map(me)},ve=function(t,e){var n=t.playlist.videos.map(function(t){return t.id}),r=n.indexOf(e.id),i=(r+1)%n.length,o=n[i];return t.fetchVideo(o)},me=function(t){return function(e){return t.playlist?ve(t,e):t.nextVideoOverride?t.fetchVideo(t.nextVideoOverride.id):t.shouldLoop?$t.a.of(e):t.fetchVideo(e.next_video.id)}},ge=function(t,e){return e.switchMap(function(e){return t.intentStreams.loadVideoId$.map(function(t){return function(){return e.fetchVideo(t)}})})},be=n(46),_e=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Te=n(130),we=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Se="player/live_video_metadata",Oe=1e4,ke=18e5,Ce=n(129),Ee=n(30),Pe=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ae=["playing","pause","dfp-ad-started","dfp-ad-resume"],xe={spinnerWithBgPoster:[Ce.a,Ce.b],bgPoster:[Ce.a,Ce.c],spinner:[Ce.a],none:[]},je=n(139),Le=function(t){return $t.a.create(function(e){var n=new Image;n.onload=function(){e.next(t),e.complete()},n.onerror=function(t){return e.error(t)},n.src=t})},Ie=$t.a.timer(0,1500),Me=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),De=function(t){var e=t.isLiveVideo$,n=t.playerEvent$,r=t.proposedLiveStreamEnd$,i=t.buffer$,o=void 0===i?$t.a.of(ke):i,a=t.scheduler;return t.videoStart$.withLatestFrom(e,r,o).switchMap(function(t){var e=Me(t,4),r=e[1],i=e[2],o=e[3];return r&&i?$t.a.timer(ct(i,o),a).merge(n.withType("ended")).mapTo(!0):$t.a.of(!1)}).distinctUntilChanged()},Re=250,Ue=n(86),Ne=function(){return{closeable:!1,message:"cne-support-live-overlay-message",title:"cne-support-live-overlay-title"}},Be=function(t){return{closeable:!1,message:"cne-player-live-available-soon-overlay-message",image:t.image}},$e=function(){return{closeable:!0,message:"cne-support-360-overlay-message"}},Fe=function(t){return{buttonIntents:[{type:"intent:load-video",data:{video:t.video}}],buttonText:"cne-support-error-overlay-button",closeable:!1,iconType:"warning",message:"cne-support-error-overlay-message"}},Ve=function(){return{buttonIntents:[{type:"intent:keep-playing"},{type:"intent:close-overlay"}],buttonText:"cne-support-idle-overlay-button",closeable:!1,title:"cne-support-idle-overlay-title"}},He=5,qe=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ze=/(?:http[s]?:)?(?:\/\/)?[a-z]+\.(?:[a-z]+\.)?[^\/]+\/?|^\/|\/$|\/?\?.*$/,We=n(36),Ge=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xe=.2,Ye=.2,Ke=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Qe=$t.a.interval(50).startWith(0),Je=500;e.a=Bt},function(t,e,n){"use strict";(function(t){function r(e){var n=e.environment,r=e.playerConfig,i=e.referenceWindow,l=r.playlist;return o.a.create(function(e){Object(a.a)(i._cne,n.base_url,function(n){var r=n.video;t("late sponsored vid injection:",l),Object(s.c)("Push Received (Player)","Video Injection");var i=l.videos.slice();i.splice(c,0,r);var o=u({},l,{videos:i});e.next(o)})})}function i(e){return e.switchMap(function(e){var n=e.playerConfig,i=n.playlist;if(!i)return o.a.of(null);var a=void 0;try{a=e.sponsoredVideo||window.top._cne.sponsoredVideo}catch(e){t(e)}var s=i.videos.slice();i&&a&&s.splice(c,0,a);var l=u({},i,{videos:s});return o.a.of(l).merge(r(e))}).publishReplay(1).refCount()}e.a=i;var o=n(0),a=n(336),s=n(23),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=1}).call(e,n(16).default)},function(t,e,n){"use strict";(function(t){function r(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.fetch,u=void 0===s?window.fetch||o.a:s,c=a._track,l=void 0===c?i.a:c;e.cnsInfo=e.cnsInfo||[],e.cnsInfo.push=function(i){i&&i.sponsoredVideoId&&(e.cnsInfo[0]=i,u(n+"/next_video/"+i.sponsoredVideoId).then(o.b).then(function(t){return t.json()}).then(r).catch(function(e){var n=e.message;t("error fetching cnsInfo:",n),l({type:"Fetch Error (Push)",category:"Video Injection",message:n})}))}}e.a=r;var i=n(137),o=n(138)}).call(e,n(16).default)},function(t,e,n){"use strict";function r(t){return O.a.of(function(e){var n=e.eventString,r=e.data;return t.trigger({type:n,data:r},r)})}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.tagAction,i=void 0===r?C:r,o=n.toScript$,a=void 0===o?k.a:o,s=n.win,u=void 0===s?window:s;return t.filter(function(t){return t.video&&t.video.comscore_config}).pluck("environment","comscore_library_path").switchMap(function(t){return a(t).map(function(){return u.ns_})}).filter(function(t){return t&&t.StreamingTag}).switchMap(E(e)).map(i)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;e();var r=n.fbq;return t.pluck("facebook_pixel_id").switchMap(function(t){return t?O.a.of(t):O.a.never()}).distinctUntilChanged().do(function(t){return A(t,r)}).mapTo(x(r))}function a(t){return function(){var e=t.document;t.cneDataLayer=[{"gtm.start":(new Date).getTime(),event:"gtm.js"}];var n=e.getElementsByTagName("script")[0],r=e.createElement("script");return r.async=!0,n.parentNode.insertBefore(r,n),r}}function s(t){var e={referenceWindow:t,dataLayerName:"cneDataLayer"};return function(t,n){return n(e)}}function u(t){for(var e=[],n=t.document.querySelectorAll('script[src*="googletagmanager.com/gtm.js"]'),r=0;r<n.length;r++){var i=Object(L.a)(n[r].src).searchParams,o=i.get("id"),a=i.get("l")||"dataLayer";t[a]&&e.push({gtmId:o,dataLayerName:a})}return e}function c(t,e,n){var r=t.referenceWindow,i=t.playerConfig,o=i.embedLocation.split("-")[0]||"nonconde";"amp-article"===i.pageType&&(o="nonconde",r._cne.ampDomain=i.analyticsUrl||r.location.host);var c=I[o],l=u(r),p=l.filter(function(t){return t.gtmId===c})[0];return p?O.a.of({referenceWindow:r,dataLayerName:p.dataLayerName}):l.length>0?(n("GAConflict",i.analyticsUrl||r.location),O.a.never()):e("https://www.googletagmanager.com/gtm.js?id="+c+"&l=cneDataLayer",a(r),s(r))}function l(t){return function(e){t.referenceWindow[t.dataLayerName].push(e)}}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.c;return t.take(1).switchMap(function(t){return c(t,e,n)}).map(function(t){return l(t)})}function d(t){var e=t.target,n=t.moatApiSpecifics,r=t.moatPartnerCode,i=t.isAdTracking,o=window.location.protocol,a="https:"===o?"z":"js",s="_moatApi"+Math.floor(1e8*Math.random()),u=o+"//"+a+".moatads.com/"+r+"/moatvideo.js#"+s,c=D(e,i),l=[],p=M({dispatchEvent:function(t){this.sendEvent?(l&&(l.push(t),t=l,l=!1),this.sendEvent(t)):l.push(t)}},n);return window[s]=p,Object(k.a)(u,c).mapTo(p.dispatchEvent.bind(p))}function h(t){var e=t.adUnitPath$,n=t.config$,r=t.currentVideo$,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return O.a.combineLatest(e,n,r).map(function(t){var e=R(t,3);return{adUnitPath:e[0],config:e[1],currentVideo:e[2]}}).filter(function(t){var e=t.adUnitPath,n=t.config,r=t.currentVideo;return e&&r&&n}).distinctUntilChanged(function(t,e){return t.currentVideo.id===e.currentVideo.id}).switchMap(function(t){var e=t.adUnitPath,n=t.currentVideo,r=t.config;if(!n.moat_content_partner_code)return O.a.never();var o={adData:{ids:{level1:n.title,level2:e,slicer1:r.location,zMoatAP:r.autoplayEnabled,zMoatVideoId:n.id},duration:n.duration,url:n.url}};return i({isAdTracking:!1,moatApiSpecifics:o,moatPartnerCode:n.moat_content_partner_code,target:r.playerConfig.target})})}function f(t){var e=t.adsManager$,n=t.adUnitPath$,r=t.config$,i=t.currentVideo$,o=t.playerEvent$,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,s=o.withType("fullscreen").pluck("value");return e.withLatestFrom(n,r,i,s).map(function(t){var e=U(t,5);return{adsManager:e[0],adUnitPath:e[1],config:e[2],currentVideo:e[3],fullscreen:e[4]}}).filter(function(t){var e=t.config,n=t.currentVideo,r=t.adsManager,i=t.adUnitPath;return e&&n&&r&&i}).distinctUntilChanged(function(t,e){return t.adsManager===e.adsManager}).switchMap(function(t){var e=t.adsManager,n=t.adUnitPath,r=t.config,i=t.currentVideo,o=t.fullscreen,s=r.playerConfig,u=s.playerType,c=s.target,l="interlude"===u?N:i.moat_ad_partner_code;if(!l)return O.a.never();var p=n.split("/").filter(Boolean),d=U(p,5),h=d[1],f=void 0===h?"":h,y=d[2],v=void 0===y?"":y,m=d[3],g=void 0===m?"":m,b=d[4],_=void 0===b?"":b,T={adsManager:e,ids:{partnerCode:l,viewMode:o?"fullscreen":"normal",slicer1:r.location,slicer2:n,zMoatBrand:f,zMoatPlayer:v,zMoatSiteSection:g,zMoatTemplate:_},imaSDK:!0};return a({isAdTracking:!0,moatApiSpecifics:T,moatPartnerCode:l,target:c})})}function y(){var t={g:{},ggPM:function(t,e){window.NOLBUNDLE.nlsnInstance.q=window.NOLBUNDLE.nlsnInstance.q||[],window.NOLBUNDLE.nlsnInstance.q.push([t,e])}};return window.NOLBUNDLE=window.NOLBUNDLE||{},window.NOLBUNDLE.nlsnInstance=window.NOLBUNDLE.nlsnInstance||t,t}function v(t){var e=window.location.protocol,n=e+"//cdn-gl.imrworldwide.com/conf/"+t+".js#name=nlsnInstance&ns=NOLBUNDLE",r=y();return Object(k.a)(n).mapTo(B(r))}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return t.pluck("nielsen_api_id").switchMap(function(t){return t?O.a.of(t):O.a.never()}).distinctUntilChanged().switchMap(e)}function g(t){var e=t.pageType,n=t.embedLocation;return"instant-article"===e?"fbia":"amp-article"===e?"amp":n&&n.length?"oo":"non-oo"}function b(t){var e=t.referenceWindow,n=e.dataLayer||[],r=q(n,1),i=r[0];i=void 0===i?{}:i;var o=i.site,a=i.content,s=o||{};return{org_id:s.orgId,org_app_id:s.orgAppId,contentType:(a||{}).contentType}}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.track,r=void 0===n?W:n;return t.map(function(t){var e=t.environment;return r(z(e))})}function T(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.fetch||G.a;return O.a.of(function(e){var n=e.endpoints,r=e.video,i=T(e,["endpoints","video"]);return n.forEach(function(e){var n=Object(F.a)(X({id:r.id,brand:r.brand,title:r.title,expiration:r.live_metadata.end_date},i));t(e+"?"+n)})})}function S(t){return function(e){var n=e.config$,a=e.currentVideo$,s=Y({},e,{cneBeaconLibrary$:w(),cneEventLibrary$:r(t),comscoreLibrary$:i(n,a),facebookLibrary$:o(a),googleAnalyticsLibrary$:p(n),moatContentLibrary$:h(e),moatLibrary$:f(e),nielsenLibrary$:m(a),sparrowLibrary$:_(n)});return s}}var O=n(0),k=n(46),C=function(t){return function(e){var n=e.config,r=e.type,i=e.adDuration,o=1e3*i;switch(r){case"playContent":t.playVideoContentPart(n);break;case"playAd":t.playVideoAdvertisement({ns_st_cl:o});break;case"stop":t.stop()}}},E=function(t){return function(e){return t.switchMap(function(t){return t.comscore_config?O.a.of(new e.StreamingTag({customerC2:""+t.comscore_config.c2})):O.a.never()})}},P=function(t,e,n,r,i,o,a){t.fbq||(t.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},i=t.fbq,t._fbq||(t._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],o=e.createElement(n),o.async=!0,o.src=r,a=e.getElementsByTagName(n)[0],a.parentNode.insertBefore(o,a))}.bind(null,window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),A=function(t,e){return e("init",t)},x=function(t){return function(e){var n=e.type,r=e.params,i=e.custom;t(i?"trackCustom":"track",n,r)}},j=n(23),L=n(110),I={allure:"GTM-WPC9DS6",arstechnica:"GTM-NLXNPCQ",brides:"GTM-5HMN9N3",architecturaldigest:"GTM-MRVDKNL",architecturaldigestindia:"GTM-W4C53LN",architecturaldigestitaly:"GTM-WTNTX26",architecturaldigestfrance:"GTM-TNLG3KG",architecturaldigestgermany:"GTM-56SZBMB",architecturaldigestspain:"GTM-5W83PTH",bonappetit:"GTM-TLPN5X9",cntraveler:"GTM-5RDFB8G",epicurious:"GTM-PCTXLQR",glamour:"GTM-TXVJXJD",golfdigest:"GTM-M94KNML",gq:"GTM-PC9B6Z6",heyiris:"GTM-K5S77MT",newyorker:"GTM-NX5LSK3",nonconde:"GTM-M3LWXF2",pitchfork:"GTM-MMFBX2W",self:"GTM-KSHC4S5",teenvogue:"GTM-5WV8CLP",them:"GTM-NP9DWF8",thescene:"GTM-5JDFFGT",vanityfair:"GTM-KSG89LT",vanityfairfrance:"GTM-K8TFQ7T",vanityfairspain:"GTM-MP9L7FM",wired:"GTM-5HBJC2K",wmagazine:"GTM-TXW6R9J",vogue:"GTM-MC44X36",vogueindia:"GTM-M3SG2X6",gqindia:"GTM-P223J33",cntravelerindia:"GTM-5ZWM7R",cntraveleruk:"GTM-KJMKBQ5",cntravelerspain:"GTM-K5Q7ST6",vogueuk:"GTM-KG7M3XB",wireduk:"GTM-5MLKVKC",tatleruk:"GTM-TRLZ9GV",voguefrance:"GTM-N5PNP2L",voguespain:"GTM-KQ8LPCC",vogueitaly:"GTM-TL59GFJ",voguegermany:"GTM-5P7NXHK",voguemexico:"GTM-57C6XM8",voguejapan:"GTM-MHBCRTH",glamouruk:"GTM-MQK3BWT",gqfrance:"GTM-K42BJLV",gquk:"GTM-W2K49QH",gqspain:"GTM-5M2Z395",gqitaly:"GTM-NRLM5D4",gqgermany:"GTM-NQPFNCC"},M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D=function(t,e){return function(){var n=document.getElementById(t),r=e?"ad":"content",i="js-cne-moat-script-"+r,o=n.querySelector("#"+i);if(o){o.parentNode.removeChild(o);var a=o.src;if(a&&a.length>0){var s=a.split("#");if(s.length>1){var u=s[s.length-1];delete window[u]}}}var c=document.createElement("script");return c.type="text/javascript",c.id=i,c.async=!0,n&&n.insertBefore(c,n.childNodes[0]||null),c}},R=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),U=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N="condenastinlineint626489506216",B=function(t){return function(e){var n=e.type,r=e.data;t.ggPM(n,r)}},$=n(89),F=n(22),V=n(135),H=n(141),q=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),z=function(t){return{adAssetsUrl:t.ad_assets_url,baseUrl:Object($.a)(),ssl:t.ssl}},W=function(t){var e=t.adAssetsUrl,n=t.baseUrl,r=t.ssl;return function(t){var i=t.ad,o=t.adBlocked,a=t.adUnitPath,s=t.category,u=t.config,c=t.dimensions,l=t.documentHidden,p=t.infinityId,d=t.isPersistent,h=t.meta,f=void 0===h?{}:h,y=t.playsOnPage,v=t.prerollPlayed,m=t.type,_=t.video,T=t.videoStartType,w=t.videoView,S=t.viewportStatus,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=O.beacon,C=void 0===k?V.a:k,E=O.date,P=void 0===E?(new Date).toISOString():E,A=O.win,x=void 0===A?window:A,j=u.playerConfig,L=j.analyticsUrl,I=j.playerType,M=j.recAlgorithm,D=void 0===M?"":M,R=j.recStrategy,U=void 0===R?"":R,N=j.isRightRail,B=i&&i.mediaUrl&&i.mediaUrl.indexOf(e)>=0?"site_served":null,$=u.autoplayEnabled?"autoplay":"manual",q=b(u),z={_ts:P,_c:s,_t:m,app:"playerservice",cBr:_.brand,cCh:"videos/show",cCu:_.url,cId:_.id,cKe:_.tags?_.tags.toString():"",cPd:_.premiere_date,cTi:_.title,cTy:a,mDu:_.duration,pHr:L||u.location,pID:u.pageId,pWw:c.width,pWh:c.height,sID:u.sessionId,uId:u.uId,xid:p,dim1:JSON.stringify({contentStartType:T,doNotTrackSetting:u.doNotTrackSetting,environment:g(u.playerConfig),gitBranch:u.playerConfig.gitBranch,gitSha:u.playerConfig.gitSha,guid:u.guid,isMobile:u.isMobile,isVerso:!!q.org_app_id,initialPlayerStartType:$,persistent:d,playerDepth:u.videoPagePosition,playerType:I,playsOnPage:y,prerollPlayed:v,recAlgorithm:D,recStrategy:U,isRightRail:N,tabStatus:l?"hidden":"active",versoContentType:q.contentType,videoViews:w,viewportStatus:S}),dim2:JSON.stringify({adBlocked:o,adId:i?i.adId:"",adType:i?i.apiFramework||B||"unknown":"",creativeId:i?i.creativeId:"",wrapperAdIds:i?i.wrapperAdIds:"",wrapperAdSystems:i?i.wrapperAdSystems:"",dfpLineItem:i?Object(H.a)(i.adId,i.wrapperAdSystems,i.wrapperAdIds):"",publicaEnabled:u.publicaEnabled,podIndex:i&&i.podInfo?i.podInfo.getPodIndex():""})};f.adId=i?i.adId:"","GoogleTag"===s&&(z._v=x.performance.now()-f.pollStart),C([n,Object(F.a)(z),Object(F.a)(f),Object(F.a)(q)].filter(function(t){return t.length}).join("&"),r)}},G=n(138),X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.a=S;var Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(t){var e=document.createElement("video"),n=Object(f.a)("cne-support-enable-javascript"),r='<a href="http://videojs.com/html5-video-support/" target="_blank">'+Object(f.a)("cne-support-html5-video")+"</a>";return e.className="vjs-default-skin",e.removeAttribute("controls"),e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),e.setAttribute("crossorigin","anonymous"),e.innerHTML='<p class="vjs-no-js">'+n+" "+r+"</p>",t.appendChild(e),e}function i(){return y()+y()+"-"+y()+"-"+y()+"-"+y()+"-"+y()+y()+y()}function o(t){var e=new Map,n=t.split("?"),r=v(n,2),i=r[1];return(i?i.split("&"):[]).forEach(function(t){var n=t.split("="),r=v(n,2),i=r[0],o=r[1];e.set(i,decodeURIComponent(o))}),e}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.b;return{userId:t(g,""),segmentKeyValues:s(t(b,""))}}function s(t){return t?t.split(";"):[]}function u(t,e){var n=t?window.top:window,r=t?window.frameElement||e:e,i=r.getBoundingClientRect(),o=i.top;return n.pageYOffset+o}function c(){if(!S)try{var t=document.createElement("canvas");S=!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){S=!1}return S}function l(t){var e=t.target,n=document.getElementById(e);if(!n)throw new Error("Could not find playerContainer with id '#"+e+"'");return n}function p(t){var e=t.sponsoredVideo,n=t.environment,s=t.playerConfig,p=t.video,f=Object(h.a)(),y=l(s),v=r(y),g=Object(_.a)(),b=parseFloat(Object(m.b)("volume")),S=f?window.top:window;return{aspectRatio:s.aspectRatio,audienceManagerConfig:a(),autoplayEnabled:n.canAutoplay!==d.a.NEVER&&s.autoplay,canAccessParent:f,canAutoplay:n.canAutoplay!==d.a.NEVER,captionsCookie:Object(m.b)("captions"),doNotTrackSetting:S.navigator?S.navigator.doNotTrack:null,environment:n,guid:n.guid||i(),is360Supported:c()&&!Object(T.g)(),isContinuousPlay:s.continuousPlay||s.loopVideo,isMobile:Object(T.f)(),isScriptEmbed:s.isScriptEmbed,location:g,mutedConfig:Object(w.b)(Object(m.b)("muted"),b,t),pageId:Object(m.b)("pID",""),playerConfig:s,playerContainer:y,publicaEnabled:!!t.publicaEnabled,referenceWindow:S,sessionId:Object(m.b)("sID",""),sponsoredVideo:e,uId:Object(m.b)("CN_sp",""),urlVars:o(g),video:p,videoEl:v,videoPagePosition:u(f,v),volumeCookie:b}}var d=n(140),h=n(36),f=n(3),y=function(){return Math.floor(65536*Math.random()).toString(16)},v=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=n(34),g="aam_uuid",b="aam_fw",_=n(136),T=n(30),w=n(139),S=void 0;e.a=p},function(t,e,n){"use strict";function r(t,e){var n=e.playerConfig,r=e.playerContainer;if(0!=n.hasRail){var o=a.a.getComponent("PlaylistContainer");t.cnePlaylistContainer=new o(t,Object(i.b)());var s=t.cnePlaylistContainer.el();"light"===n.theme?s.className+=" playlist-light":"vogueworld"===n.theme&&(s.className+=" playlist-vw"),r.appendChild(s)}}e.a=r;var i=n(142),o=n(2),a=n.n(o)},function(t,e,n){"use strict";function r(t,e){var n=document.createElement("style");n.innerHTML=t,n.setAttribute("type","text/css"),e.appendChild(n)}e.a=r},function(t,e,n){"use strict";function r(t,e){var n=document.createElement("style"),r=":root { --aspect-ratio: "+Object(i.a)(t)+"; }";n.innerHTML=r,n.setAttribute("type","text/css"),e.appendChild(n)}e.a=r;var i=n(134)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(){if(void 0===Tr)try{Tr=!!window.AudioContext}catch(t){Tr=!1}return Tr}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function x(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function B(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function z(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function W(t,e,n){return e.reduce(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments[1],i=r[0]===n?'class="cne-option-selected"':"";return e+"\n      <li id="+t+"-"+r[0].replace(" ","").toLowerCase()+" "+i+' value="'+r[1]+'" role="option" tabindex="-1">\n        '+vr+"\n        "+r[0]+"\n      </li>"},"")}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function J(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function it(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ot(t,e,n){return e.reduce(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments[1],i=r[0]===n?'class="cne-option-selected" aria-checked="true"':'aria-checked="false"';return e+'\n      <li role="radio" id='+t+"-"+r[0].replace(" ","").toLowerCase()+' tabindex="0" '+i+' value="'+r[1]+'">\n        <span class="custom-control-focus" tabindex="-1" value="'+r[1]+'">\n          '+r[0]+"\n        </span>\n      </li>"},"")}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function st(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ut(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function pt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ft(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function mt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function gt(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Tt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function St(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ot(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function xt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function It(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Rt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ut(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function $t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ft(t,e){return"rgba("+parseInt(t[1]+t[1],16)+","+parseInt(t[2]+t[2],16)+","+parseInt(t[3]+t[3],16)+","+e+")"}function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ht(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function qt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Gt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Kt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Zt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ne(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ie(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function oe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ae(t){var e=document.getElementById(t);if(document.body.createTextRange)document.body.createTextRange().moveToElementText(e).select();else if(window.getSelection){var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r)}}function se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ce(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function de(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ye(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function me(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ge(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Te(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Se(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Oe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ee(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ae(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function xe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Le(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ie(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Re(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ue(t){return t?'<span class="poster-thumb-title-sponsored">'+Object(Rr.a)("cne-player-sponsored")+": </span>":""}function Ne(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.length<e&&(n=""),t.slice(0,e)+n}function Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Fe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function He(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function qe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function We(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ge(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ke(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Je(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ze(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function nn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function on(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function an(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function sn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function un(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function cn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function dn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function yn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function gn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Tn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function wn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function On(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function kn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function En(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Pn(t,e){return t.match(/thescene/)?Fs.iris:Fs[e]||t||""}function An(t,e,n){var r=Pn(e,n);return t.replace("[SHARE_AD_UNIT]",r)}function xn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ln(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Dn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Un(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Nn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Fn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function qn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function zn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Gn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Xn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Kn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qn=n(2),Jn=n.n(Qn),Zn=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tr=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},er=Jn.a.getComponent("Component"),nr=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),Zn(e,[{key:"createEl",value:function(){var t=document.createElement("div");t.id="awesome-container";var n=tr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"awesome-wrapper"});return n.appendChild(t),this.adEl_=t,n}},{key:"adEl",value:function(){return this.adEl_}},{key:"updateFocusable",value:function(t){this.toggleClass("cne-invisible",!t)}}]),e}(er);Jn.a.registerComponent("AdContainer",nr);var rr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ir=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},or=Jn.a.getComponent("Component"),ar=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),rr(e,[{key:"createEl",value:function(){return ir(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"click-mask"})}}]),e}(or);Jn.a.registerComponent("AdClickMask",ar);var sr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ur=Jn.a.getComponent("Component"),cr=function(t){function e(){return c(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),sr(e,[{key:"createEl",value:function(){var t=this.options_.projection_type_360,e=this.player_.tech({IWillNotUseThisInPlugins:!0}).el(),n=this.options_.width,r=this.options_.height;this.scene=new window.THREE.Scene,this.camera=new window.THREE.PerspectiveCamera(75,n/r,1,2e3),this.camera.target=new window.THREE.Vector3(0,0,0),this.renderer=new window.THREE.WebGLRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.setRendererSize(n,r),this.renderer.autoClear=!1,this.renderer.setClearColor(0,1),this.texture=new window.THREE.Texture(e),this.texture.generateMipmaps=!1,this.texture.minFilter=window.THREE.LinearFilter,this.texture.maxFilter=window.THREE.LinearFilter,this.texture.format=window.THREE.RGBFormat;var i=void 0;i="equirectangular"===t?new window.THREE.SphereGeometry(500,60,40):new window.THREE.SphereBufferGeometry(500,60,40).toNonIndexed(),i.scale(-1,1,1);var o=new window.THREE.Mesh(i,new window.THREE.MeshBasicMaterial({map:this.texture}));return this.scene.add(o),this.time=(new Date).getTime(),this.renderer.domElement}},{key:"render",value:function(){4===this.player_.readyState()&&(this.texture.needsUpdate=!0),this.renderer.render(this.scene,this.camera),this.camera.lookAt(this.camera.target)}},{key:"updateCamera",value:function(t,e){this.camera.target.x=500*Math.sin(t)*Math.cos(e),this.camera.target.y=500*Math.cos(t),this.camera.target.z=500*Math.sin(t)*Math.sin(e)}},{key:"updateSize",value:function(t){var e=t.width,n=t.height;this.camera.aspect=e/n,this.camera.updateProjectionMatrix(),this.setRendererSize(e,n)}},{key:"setRendererSize",value:function(t,e){t>3840&&(e=e/t*3840,t=3840),this.renderer.setSize(t,e,!1)}}]),e}(ur);Jn.a.registerComponent("Cne360Canvas",cr);var lr='width="100%" height="100%"',pr='viewBox="0 0 30 30"',dr='\n<svg height="100%" viewBox="0 0 33.48 24" focusable="false">\n  <use xlink:href="#svg-email" />\n</svg>',hr='\n<svg height="100%" '+pr+' focusable="false">\n  <use xlink:href="#svg-facebook" />\n</svg>',fr="\n<svg "+lr+' viewBox="0 0 75 30" focusable="false">\n  <use xlink:href="#svg-360-icon" />\n</svg>',yr='\n<svg height="100%" '+pr+' focusable="false">\n  <use xlink:href="#svg-twitter" />\n</svg>',vr='\n<svg height="9" viewBox="0 0 12 9" focusable="false">\n  <use xlink:href="#svg-check" />\n</svg>',mr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gr=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},br=Jn.a.getComponent("Component"),_r=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),mr(e,[{key:"createEl",value:function(){return gr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-360-compass",innerHTML:fr})}},{key:"updateRotation",value:function(t){this.el().innerHTML='\n      <div class="cne-360-icon">'+fr+'</div>\n      <div class="cne-360-compass-dial" style="transform:rotate('+t+'deg);">\n        \n<svg width="100%" height="100%" viewBox="0 0 40 30" focusable="false">\n  <use xlink:href="#svg-360-dial" />\n</svg>\n      </div>'}}]),e}(br);Jn.a.registerComponent("Cne360Compass",_r);var Tr=void 0,wr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Sr=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Or=Jn.a.getComponent("Component"),kr=Math.PI/2,Cr=Math.PI,Er=function(t){function e(){return v(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return g(e,t),wr(e,[{key:"createEl",value:function(){return Sr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-360-container",id:"cne-360-container"})}},{key:"updateSrc",value:function(t){this.removeChild("Cne360Canvas"),this.removeClass("active"),t&&window.THREE&&(this.initializeAudio(),this.addClass("active"),this.addChild("Cne360Canvas",{projection_type_360:t,width:this.width,height:this.height}),this.updatePhiTheta(kr,Cr))}},{key:"render",value:function(){var t=this.getChild("Cne360Canvas");t&&t.render()}},{key:"updateSize",value:function(t){var e=t.width,n=t.height;this.width=e,this.height=n;var r=this.getChild("Cne360Canvas");r&&r.updateSize({width:e,height:n})}},{key:"updatePhiTheta",value:function(t,e){var n=this.getChild("Cne360Canvas");n&&(n.updateCamera(t,e),this.updateAudio(t,e))}},{key:"initializeAudio",value:function(){if(!this.foaDecoder&&y()){var t=window.THREE,e=t.Euler,n=t.Matrix3,r=t.Matrix4,i=t.Omnitone,o=t.Quaternion,a=this.player_.tech({IWillNotUseThisInPlugins:!0}).el();this.euler_=new e,this.orientation_=new o,this.rotationQuarternion_=new o,this.rotationMatrix4_=new r,this.rotationMatrix_=new n;var s=[0,1,2,3],u=new AudioContext,c=i.createFOADecoder(u,a,{postGainDB:2,channelMap:s});c.initialize().then(function(){c.setMode("ambisonic")}),this.foaDecoder=c}}},{key:"updateAudio",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.foaDecoder&&y()&&(this.euler_.set(t,e,0,"YXZ"),this.orientation_.setFromEuler(this.euler_),this.rotationQuarternion_=this.orientation_.inverse(),this.rotationMatrix4_.makeRotationFromQuaternion(this.rotationQuarternion_),this.rotationMatrix_.setFromMatrix4(this.rotationMatrix4_),this.rotationMatrix_.getNormalMatrix(this.rotationMatrix4_),this.foaDecoder.setRotationMatrix(this.rotationMatrix_.elements))}}]),e}(Or);Jn.a.registerComponent("Cne360Container",Er);var Pr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ar=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},xr=Jn.a.getComponent("ClickableComponent"),jr=function(t){function e(){b(this,e);var t=_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.el_.removeAttribute("role"),t}return T(e,t),Pr(e,[{key:"createEl",value:function(){return Ar(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-animated-clip",tabIndex:"-1"},{"aria-live":"off"})}},{key:"update",value:function(t){var e=t.action,n=t.animated_clip_url_mp4,r=t.animated_clip_url_webm,i=t.animated_clip_still;"show"===e?this.el().innerHTML='<video loop muted autoplay webkit-playsinline playsinline\n                                poster="'+i+'" >\n                                <source src="'+n+"\" type='video/mp4'>\n                                <source src=\""+r+"\" type='video/webm'>\n                             </video>":"hide"===e&&(this.el().innerHTML="")}},{key:"handleClick",value:function(){this.player_.trigger("intent:play")}}]),e}(xr);Jn.a.registerComponent("CneAnimatedClip",jr);var Lr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ir=Jn.a.getComponent("ClickableComponent"),Mr=function(t){function e(){return w(this,e),S(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return O(e,t),Lr(e,[{key:"createControlTextEl",value:function(){}},{key:"controlText",value:function(){}},{key:"handleKeyUp",value:function(t){32===t.keyCode&&t.stopPropagation()}}]),e}(Ir),Dr=Mr,Rr=n(3),Ur=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Nr=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Br=function(t){function e(t,n){k(this,e);var r=C(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keyup",r.handleKeyUp),r}return E(e,t),Ur(e,[{key:"createEl",value:function(){return Nr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-big-play-title"})}},{key:"handleClick",value:function(){this.player_.trigger("intent:play")}},{key:"update",value:function(t){var e=t.title,n=t.hidePosterTitle;this.el_.innerHTML=this.getInnerHTML(e),n?this.addClass("hide-title"):this.removeClass("hide-title")}},{key:"getInnerHTML",value:function(t){return"<div class='vjs-big-play-button' tabindex='-1'>"+'\n<svg width="100%" height="100%" viewBox="0 0 56 56" focusable="false">\n  <rect transform="translate(4 4)" fill="#000" width="48" height="48" rx="24" fill-opacity=".6"/>\n  <circle cx="28" cy="28" r="25" stroke="#FFF" stroke-width="3" fill="none" stroke-opacity=".6" />\n  <use xlink:href="#svg-big-play-icon" />\n</svg></div>\n            <div class=\'cne-big-play-title-section\'>\n              <div class=\'cne-big-play-title-watch\'>'+Object(Rr.a)("cne-player-big-play-title-watch")+"</div>\n              <div class='cne-big-play-title-text'>"+t+"</div>\n            </div>"}}]),e}(Dr);Jn.a.registerComponent("CneBigPlayTitle",Br);var $r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Fr=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Vr=function(t){function e(){return P(this,e),A(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return x(e,t),$r(e,[{key:"createEl",value:function(){var t=this.options_.text;return this.intents=this.options_.intents,Fr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:this.options_.className||"cne-button"},{"data-msg":t})}},{key:"handleClick",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.intents[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.data?this.player_.trigger(o.type,o.data):this.player_.trigger(o)}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}}}]),e}(Dr);Jn.a.registerComponent("CneButton",Vr);var Hr=n(131),qr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),zr=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Wr=function(t){function e(t,n){j(this,e);var r=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keyup",r.handleKeyUp),r}return I(e,t),qr(e,[{key:"createEl",value:function(){var t={"aria-label":Object(Rr.a)("cne-aria-closed-captions"),"aria-pressed":"false"};return zr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'\n<span class="custom-control-focus" tabindex="-1">\n  \n<svg width="20" height="16" viewBox="0 0 20 16" focusable="false">\n  <use xlink:href="#svg-cc-on" class="svg-cc-on" />\n  <use xlink:href="#svg-cc-on" class="svg-cc-on shadow" />\n  <use xlink:href="#svg-cc-off" class="svg-cc-off" />\n  <use xlink:href="#svg-cc-off" class="svg-cc-off shadow" />\n  <use xlink:href="#svg-cc-disabled" class="svg-cc-disabled" />\n  <use xlink:href="#svg-cc-disabled" class="svg-cc-disabled shadow" />\n</svg>\n</span>',className:"vjs-captions-button "+zr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildCSSClass",this).call(this)},t)}},{key:"update",value:function(t){this.resetStyle(),this.addClass(Hr.a[t]),"disabled"===t?this.player_.trigger("intent:disable-settings-submenu","cneCaptionOptions"):"showing"==t?(this.setAttribute("aria-pressed","true"),this.player_.trigger("intent:enable-settings-submenu","cneCaptionOptions")):"hidden"===t&&this.setAttribute("aria-pressed","false")}},{key:"resetStyle",value:function(){var t=this;[Hr.a.disabled,Hr.a.showing,Hr.a.hidden].map(function(e){return t.removeClass(e)})}},{key:"handleClick",value:function(){this.player_.trigger("intent:toggle-captions")}}]),e}(Dr);Jn.a.registerComponent("CneCaptionsButton",Wr);var Gr={TAB:9,RETURN:13,SHIFT:16,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},Xr=[Gr.UP,Gr.DOWN,Gr.LEFT,Gr.RIGHT],Yr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Kr=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Qr=function(t){function e(t,n){M(this,e);var r=D(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keydown",r.handleKeyDown),r.on("keyup",r.handleKeyUp),r}return R(e,t),Yr(e,[{key:"createEl",value:function(){this.intent=this.options_.intent,this.callback=this.options_.callback,this.className=this.options_.className||"";var t={"aria-label":Object(Rr.a)("cne-aria-close-share")};return Kr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'<span class="custom-control-focus" tabindex="-1"></span>',className:this.buildCSSClass()},t)}},{key:"buildCSSClass",value:function(){return"cne-close "+this.className}},{key:"handleKeyUp",value:function(t){t.keyCode===Gr.SPACE?t.stopPropagation():t.keyCode===Gr.ESC&&this.player_.trigger("intent:close-overlay")}},{key:"handleKeyDown",value:function(t){t.keyCode!==Gr.TAB||t.shiftKey||this.player_.hasClass("overlay-active")&&(this.player_.trigger("intent:close-overlay"),this.player_.focus())}},{key:"handleClick",value:function(t){t&&t.stopPropagation(),this.callback&&this.callback(),this.intent?this.player_.trigger(this.intent):this.player_.trigger("intent:close-overlay")}}]),e}(Dr);Jn.a.registerComponent("CneClose",Qr);var Jr=n(86),Zr=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ti=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},ei=Jn.a.getComponent("Component"),ni=function(t){function e(){return U(this,e),N(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return B(e,t),Zr(e,[{key:"createEl",value:function(){return ti(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{"aria-label":Object(Rr.a)("cne-aria-player-control-bar"),role:"group"})}},{key:"updateTabOrder",value:function(){this.player_.el_.clientWidth<Jr.a?(this.player_.persistentShare.shareWidget.el_.tabIndex="1",this.playToggle.el_.tabIndex="2",this.cneVolumeToggle.muteToggle.el_.tabIndex="3",this.progressControl.seekBar.el_.tabIndex="4"):(this.player_.persistentShare.shareWidget.el_.tabIndex="0",this.playToggle.el_.tabIndex="0",this.cneVolumeToggle.muteToggle.el_.tabIndex="0",this.progressControl.seekBar.el_.tabIndex="0")}}]),e}(ei);Jn.a.registerComponent("ControlBar",ni);var ri=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ii=Jn.a.getComponent("Component"),oi=function(t){function e(t,n){$(this,e);var r=F(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.id=n.id,r}return V(e,t),ri(e,[{key:"getId",value:function(){var t=this.options_.settingKey||"";return this.player_.id_+"-settings-"+t.toLowerCase()}},{key:"selectionChanged",value:function(){this.player_.trigger("intent:save-settings",{source:this,key:this.key(),val:this.getValue()})}},{key:"buildCSSClass",value:function(){return"cne-option-control"}},{key:"key",value:function(){return this.options_.settingKey}},{key:"listElement",value:function(){return this.$("ul")}},{key:"optionElements",value:function(){var t=this.listElement();return[].slice.call(t.children)}},{key:"getValue",value:function(){return this.value||this.options_.default}},{key:"selectedOption",value:function(){return this.el().querySelector(".cne-option-selected")}},{key:"selectedText",value:function(){var t=this.selectedOption()||this.optionElements()[0];return t?t.innerText.trim():""}},{key:"selectedId",value:function(){var t=this.selectedOption()||this.optionElements[0];return t?t.id:""}},{key:"setValue",value:function(t){this.optionElements().map(function(e){e.getAttribute("value")===t?e.className="cne-option-selected":e.className=""}),this.value=t,this.updateAriaAttributes&&this.updateAriaAttributes()}}]),e}(ii);Jn.a.registerComponent("CneOptionControl",oi);var ai=oi,si=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ui=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},ci=function(t){function e(t,n){H(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.init(),r.on(r.comboBox,"click",r.comboBoxClick),r.on(r.comboBox,"keydown",r.comboBoxKeyDown),r.on(r.listBox,"click",r.optionClick),r.on(r.comboBox,"keyup",function(t){return t.stopPropagation()}),r.on(r.listBox,"keyup",function(t){return t.stopPropagation()}),r.optionElements().map(function(t){r.on(t,"blur",r.optionLostFocus),r.on(t,"keydown",r.optionsKeyDown)}),r}return z(e,t),si(e,[{key:"createEl",value:function(){return ui(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{id:this.getId(),className:ui(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildCSSClass",this).call(this)+" cne-dropdown",innerHTML:'\n<svg width="6" height="10" viewBox="0 0 6 10" focusable="false">\n  <use xlink:href="#svg-chevron-down" />\n</svg>'})}},{key:"init",value:function(){var t=this.getId(),e=this.options_,n=e.listItems,r=e.defaultValue,i=e.label;this.dropDownLabel=this.addChild("CneLabel",{label:i,id:t+"-label"}),this.dropDownLabel.el_.setAttribute("for",t+"-textbox"),this.comboBox=this.addChild("CneDropdownOptions",{label:i,listItems:n,defaultValue:r,id:t}),this.listBox=this.$(".cne-dropdown-listbox"),this.textBox=this.$(".cne-dropdown-textbox"),this.setValue(r),this.updateAriaAttributes(),this.searchString=""}},{key:"setValue",value:function(t){ui(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t),this.textBox.value=this.selectedText()}},{key:"updateAriaAttributes",value:function(){var t=this.selectedId();this.comboBox.setAttribute("aria-expanded",this.expanded()),this.comboBox.setAttribute("aria-activedescendant",this.selectedId()),t&&(this.selectedOption().setAttribute("aria-selected","true"),this.optionElements().map(function(e){t!==e.id&&e.setAttribute("aria-selected","false")}))}},{key:"hideList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.comboBox.removeClass("expanded"),this.updateAriaAttributes(),this.searchString="",t||this.textBox.focus()}},{key:"showList",value:function(){this.comboBox.addClass("expanded"),this.updateAriaAttributes(),this.listBox.children[0].focus()}},{key:"expanded",value:function(){return this.comboBox.hasClass("expanded")}},{key:"findOption",value:function(){var t=this,e=this.optionElements().filter(function(e){return 0===e.innerText.trim().toLowerCase().indexOf(t.searchString)});e.length>0&&e[0].focus(),this.clearSearchString()}},{key:"clearSearchString",value:function(){var t=this;clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){t.searchString=""},1500)}},{key:"comboBoxClick",value:function(){this.expanded()||this.showList()}},{key:"comboBoxKeyDown",value:function(t){switch(t.keyCode){case Gr.RETURN:case Gr.SPACE:this.showList();break;case Gr.ESC:this.expanded()?this.hideList():this.player_.trigger("intent:close-settings");break;case Gr.DOWN:t.preventDefault(),this.expanded()||this.showList();break;case Gr.UP:t.preventDefault();break;default:if(!/^[a-zA-Z0-9-_ ]$/.test(t.key))return;this.expanded()||this.showList(),this.searchString+=t.key,this.findOption()}}},{key:"optionsKeyDown",value:function(t){switch(t.keyCode){case Gr.RETURN:case Gr.SPACE:this.optionClick(t);break;case Gr.TAB:var e=t.target.parentNode;e&&e.nextElementSibling&&e.nextElementSibling.focus();break;case Gr.DOWN:if(t.preventDefault(),this.expanded()){var n=t.target.nextElementSibling||t.target.parentNode.firstElementChild;n&&n.focus()}else this.showList();break;case Gr.UP:t.preventDefault();var r=t.target.previousElementSibling||t.target.parentNode.lastElementChild;r&&r.focus()}}},{key:"optionLostFocus",value:function(t){var e=this;clearTimeout(this.listTimeout),this.listTimeout=setTimeout(function(){document.activeElement.parentNode!==t.target.parentNode&&e.hideList(!0)},100)}},{key:"optionClick",value:function(t){t.stopPropagation(),this.setValue(t.target.getAttribute("value")),this.hideList(),ui(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectionChanged",this).call(this)}}]),e}(ai);Jn.a.registerComponent("CneDropdown",ci);var li=function(t){return"<input type='text' id=\""+t.id+'-textbox" \n    class="cne-dropdown-textbox" \n    tabIndex="-1" />\n  <ul id="'+t.id+'-listbox" class="cne-dropdown-listbox" role="listbox">\n    '+W(t.id,t.listItems,t.defaultOption)+"\n  </ul>"},pi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),di=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},hi=Jn.a.getComponent("Component"),fi=function(t){function e(){return G(this,e),X(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Y(e,t),pi(e,[{key:"createEl",value:function(){var t=this.options_,n=t.label,r=t.listItems,i=t.defaultOption,o=this.options_.id+"-combobox",a={"aria-activedescendant":"","aria-expanded":"false","aria-labelledby":this.options_.id+"-label","aria-owns":this.options_.id+"-listbox",readonly:"true",role:"combobox",tabindex:"0"};return di(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{id:o,className:"cne-dropdown-combobox",innerHTML:li({id:this.options_.id,label:n,listItems:r,defaultOption:i})},a)}}]),e}(hi);Jn.a.registerComponent("CneDropdownOptions",fi);var yi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),vi=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},mi=Jn.a.getComponent("Component"),gi=function(t){function e(){return K(this,e),Q(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return J(e,t),yi(e,[{key:"createEl",value:function(){return vi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"label",{id:this.options_.id,className:"cne-label",innerHTML:this.options_.label})}}]),e}(mi);Jn.a.registerComponent("CneLabel",gi);var bi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Ti=Jn.a.getComponent("Component"),wi=function(t){function e(){return Z(this,e),tt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return et(e,t),bi(e,[{key:"createEl",value:function(){return _i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-message"})}},{key:"showMessage",value:function(t){var e=t.message,n=t.buttonText,r=t.buttonIntent;this.el_.innerHTML="<h4>"+e+"</h4>",this.el_.className=this.getCSSClass(!0),this.addChild("CneClose",{intent:"intent:close-message"}),this.addChild("CneButton",{text:n,intents:["intent:close-message","intent:pause",r]})}},{key:"hideMessage",value:function(){this.el_.innerHTML.length>0&&(this.removeChild("CneClose"),this.removeChild("CneButton"),this.el_.className=this.getCSSClass(!1),this.el_.innerHTML="")}},{key:"getCSSClass",value:function(t){return"cne-message"+(t?" active":" inactive")}}]),e}(Ti);Jn.a.registerComponent("CneMessage",wi);var Si=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Oi=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},ki=Jn.a.getComponent("Component"),Ci=function(t){function e(){return nt(this,e),rt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return it(e,t),Si(e,[{key:"createEl",value:function(){return Oi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-overlay-content message-overlay"})}},{key:"update",value:function(t){var e=t.title,n=t.message,r=t.buttonText,i=t.buttonIntents,o=t.iconType,a=t.closeable,s=t.image,u="";s&&(u+="<img class='image' src=\""+s+'" height="50px" alt="logo" />'),o&&(u+="<div class='icon-"+o+"'></div>"),e&&(u+="<h3>"+Object(Rr.a)(e)+"</h3>"),n&&(u+="<h4>"+Object(Rr.a)(n)+"</h4>"),a||this.player_.cneOverlay.cneClose.hide(),this.el().innerHTML=u,r&&i&&this.addChild("CneButton",{intents:i,text:"▶     "+Object(Rr.a)(r)},3),this.player_.trigger("intent:show-message-overlay")}}]),e}(ki);Jn.a.registerComponent("CneMessageOverlay",Ci);var Ei=function(t,e,n,r,i){return'<label id="'+t+'-label" class="cne-label" for="'+t+'-radiogroup">'+n+'</label>\n  <ul id="'+t+'-radiogroup" \n    role="radiogroup"\n    class="'+e+'"\n    tabindex="-1"\n    aria-labelledby="'+t+'-label">\n    '+ot(t,r,i)+"\n  </ul>"},Pi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ai=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},xi=function(t){function e(t,n){at(this,e);var r=st(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.focusedIndex=-1,r.setValue(r.options_.defaultValue),r.on(r.$("ul"),"click",r.handleOptionClick),r.optionElements().map(function(t){r.on(t,"keyup",r.handleKeyUp)}),r}return ut(e,t),Pi(e,[{key:"createEl",value:function(){var t=this.getId(),n=Ei(t,this.options_.className,this.options_.label,this.options_.listItems,this.options_.defaultValue);return Ai(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:Ai(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildCSSClass",this).call(this)+" cne-option-group",innerHTML:n})}},{key:"updateAriaAttributes",value:function(){var t=this.selectedId();t&&(this.selectedOption().setAttribute("aria-checked","true"),this.optionElements().map(function(e){t!==e.id&&e.setAttribute("aria-checked","false")}))}},{key:"handleKeyUp",value:function(t){switch(t.keyCode){case Gr.RETURN:case Gr.SPACE:this.handleOptionClick(t),t.stopPropagation();break;case Gr.LEFT:var e=t.target.previousElementSibling||t.target.parentNode.lastElementChild;e&&e.focus();break;case Gr.RIGHT:var n=t.target.nextElementSibling||t.target.parentNode.firstElementChild;n&&n.focus()}}},{key:"handleOptionClick",value:function(t){this.setValue(t.target.getAttribute("value")),Ai(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectionChanged",this).call(this),this.updateAriaAttributes()}}]),e}(ai);Jn.a.registerComponent("CneOptionGroup",xi);var ji=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Li=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Ii=Jn.a.getComponent("Component"),Mi={embed:"share",url:"share"},Di={embed:"share",url:"share"},Ri=function(t){function e(t,n){ct(this,e);var r=lt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("webkitAnimationEnd",r.handleAnimationEnd),r}return pt(e,t),ji(e,[{key:"createEl",value:function(){return Li(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-overlay"})}},{key:"update",value:function(t){var e=t.type,n=t.action,r=t.source;this[n](e,r)}},{key:"hide",value:function(t){var e=Di[t],n=this.buildStateClass(e);this.el_.className=n,this.player_&&this.player_.removeClass&&"cne-overlay"===n?(this.el_.className=n+" inactive",this.player_.removeClass("overlay-active")):this.el_.className=n,this.updateFocus(e)}},{key:"show",value:function(t,e){this.el_.className=this.buildStateClass(t),this.player_&&this.player_.removeClass&&this.player_.addClass("overlay-active"),this.activeOverlay=t,this.openedBy=e}},{key:"handleAnimationEnd",value:function(t){switch(t.animationName){case"displayIn":case"shiftInLeft":this.updateFocus(this.activeOverlay)}}},{key:"updateFocus",value:function(t){if(t){var e=void 0;switch(t){case"share":e="keyboard"===this.openedBy?document.querySelector(".share-facebook-trigger"):document.querySelector(".share-facebook-trigger .custom-control-focus");break;case"embed":e=document.querySelector("#share-content-embed");break;case"url":e=document.querySelector("#share-content-url")}e&&e.focus()}}},{key:"buildStateClass",value:function(t){if(!t)return"cne-overlay";var e=Mi[t];return"cne-overlay active "+(e?e+"-active ":"")+t+"-active"}}]),e}(Ii);Jn.a.registerComponent("CneOverlay",Ri);var Ui=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ni=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Bi=Jn.a.dom.getPointerPosition,$i=Jn.a.getComponent("Component"),Fi=function(t){function e(){return dt(this,e),ht(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return ft(e,t),Ui(e,[{key:"createEl",value:function(){return Ni(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'<video class="cne-scrub-poster__video" playsinline webkit-playsinline preload="metadata"></video>',className:this.buildCSSClass()})}},{key:"buildCSSClass",value:function(){return"cne-scrub-poster"}},{key:"updateVideo",value:function(t){var e=t.thumb_encode,n=t.duration,r=this.video();r.addEventListener("loadedmetadata",function(){return r.currentTime=1}),this.duration=n,r.currentSrc!==e&&r.setAttribute("src",e)}},{key:"updatePosition",value:function(t){var e=this.getSeekBarEl(),n=Bi(e,t).x,r=n*this.duration||0;this.video().currentTime=r+1.5}},{key:"video",value:function(){return this.el().querySelector("video")}},{key:"getSeekBarEl",value:function(){return this.player().getChild("controlBar").getChild("progressControl").getChild("seekBar").el()}}]),e}($i);Jn.a.registerComponent("cneScrubPoster",Fi);var Vi=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Hi=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},qi=Jn.a.dom,zi=qi.findPosition,Wi=qi.getPointerPosition,Gi=Jn.a.getComponent("Component"),Xi=function(t){function e(){return yt(this,e),vt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return mt(e,t),Vi(e,[{key:"createEl",value:function(){return Hi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'\n  <div class="cne-scrubber-thumb__container">\n    <video class="cne-scrubber-thumb__video"></video>\n    <div class="cne-scrubber-thumb__time js-scrubber-time"></div>\n  </div>',className:this.buildCSSClass()})}},{key:"buildCSSClass",value:function(){return"cne-scrubber-thumb"}},{key:"updateVideo",value:function(t){var e=t.thumb_encode,n=t.duration,r=this.video();this.duration=n,r.currentSrc!==e&&r.setAttribute("src",e)}},{key:"updatePosition",value:function(t){var e=this.getSeekBarEl(),n=Wi(e,t).x,r=n*this.duration||0,i=Jn.a.formatTime(r),o=this.el();o.querySelector(".js-scrubber-time").innerHTML=i,this.video().currentTime=r+1.5;var a=t.pageX-zi(e).left,s=e.clientWidth,u=o.clientWidth,c=Math.max(a-u/2,0);o.style.left=Math.min(c,s-u)+"px"}},{key:"video",value:function(){return this.el().querySelector("video")}},{key:"getSeekBarEl",value:function(){return this.player().getChild("controlBar").getChild("progressControl").getChild("seekBar").el()}}]),e}(Gi);Jn.a.registerComponent("CneScrubberThumb",Xi);var Yi=n(90),Ki=n(343),Qi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ji=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zi=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},to=Jn.a.getComponent("Component"),eo=function(t){function e(t,n,r){bt(this,e);var i=_t(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r||i.cneSettingsMenu;return i.playerSubMenus={CnePlayerSettings:o.settingsBody.cnePlayerSettings},i.captionSubMenus={CneCaptionOptions:o.settingsBody.cneCaptionOptions},i.subMenus=Qi({},i.playerSubMenus,i.captionSubMenus),t.options_.persistTextTrackSettings&&i.loadSavedSettings(),o.showSubMenu(i.subMenus.CneCaptionOptions),i.on(i.player_,"caption-settings-disabled",i.disable),i}return Tt(e,t),Ji(e,[{key:"createEl",value:function(){var t={id:this.player_.id_+"-settings",tabindex:"-1"};return Zi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-settings vjs-control"},t)}},{key:"toggleMenu",value:function(t){"disable"===t?this.disable():"enable"===t?this.enable():(this.isDisabled()&&this.enable(),"show"===t?this.cneSettingsMenu.show():"hide"===t&&this.cneSettingsMenu.hide()),this.cneSettingsToggle.setAttribute("aria-expanded","show"===t)}},{key:"disable",value:function(){this.addClass("vjs-hidden"),this.addClass("cne-settings-disabled")}},{key:"enable",value:function(){this.removeClass("vjs-hidden"),this.removeClass("cne-settings-disabled")}},{key:"isDisabled",value:function(){return this.el().className.indexOf("cne-settings-disabled")>=0}},{key:"getSavedSettings",value:function(){return Object(Ki.a)("cne-player-settings")}},{key:"saveSettings",value:function(){var t=this.getCurrentSettings(!0);Object(Ki.b)("cne-player-settings",t),this.showCaptions(),this.updateCaptionPreview()}},{key:"getCurrentSettings",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t||null==this.currentSettings)&&(this.currentSettings=Qi({},this.getPlayerSettings(t),this.getCaptionSettings(t))),this.currentSettings}},{key:"getCaptionSettings",value:function(){return(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||null==this.captionSettings)&&(this.captionSettings=Qi({},Object(Yi.a)().defaultValues,this.buildSettingsObject(this.captionSubMenus))),this.captionSettings}},{key:"getPlayerSettings",value:function(){return(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||null==this.playerSettings)&&(this.playerSettings=this.buildSettingsObject(this.playerSubMenus)),this.playerSettings}},{key:"buildSettingsObject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.subMenus,n=this.getSavedSettings()||{};return Object.keys(e).map(function(e){[].concat(gt(t.subMenus[e].children())).map(function(t){t.options_.settingKey&&(n[t.options_.settingKey]=t.getValue())})}),n}},{key:"updateCaptionPreview",value:function(){var t=this.activeCaptions();if(t){this.el().querySelector(".cne-captions-sample-text").style.cssText="font-size: "+this.captionSettings.fontSize,this.updateCaptionsDisplay(),t.mode="showing"}}},{key:"updateCaptionsDisplay",value:function(){var t=this.player_.getChild("cneTextTrackDisplay");t&&t.updateDisplay()}},{key:"loadSavedSettings",value:function(){var t=this.getSavedSettings();t&&this.applySettings(t)}},{key:"applySettings",value:function(t){var e=this;Object.keys(this.subMenus).map(function(n){[].concat(gt(e.subMenus[n].children())).map(function(e){e.options_.settingKey&&e.setValue(t[e.key()])})})}},{key:"showCaptions",value:function(){var t=this.activeCaptions();t&&"hidden"===t.mode&&this.player_.trigger("intent:toggle-captions")}},{key:"activeCaptions",value:function(){return this.player_.textTracks().tracks_.find(function(t){return"captions"===t.kind})}}]),e}(to);Jn.a.registerComponent("CneSettings",eo);var no=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ro=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},io=Jn.a.getComponent("Component"),oo=function(t){function e(){return wt(this,e),St(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Ot(e,t),no(e,[{key:"createEl",value:function(){return ro(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'\n<svg class="svg-defs" focusable="false">\n  <defs>\n    <filter height="130%" id="icon-shadow">\n      <feGaussianBlur in="SourceGraphic" stdDeviation="1" result="blur"/>\n      <feOffset in="blur" dx="0" dy="0" result="offsetBlur"/>\n      <feMerge>\n        <feMergeNode in="offsetBlur"/>\n        <feMergeNode in="SourceGraphic"/>\n      </feMerge>\n    </filter>\n\n    <path id="svg-360-dial" d="M39.9333344 8.8072824C34.8318254 3.396724 27.7832164.05 19.9982777.05c-7.7837925 0-14.830103 3.3455062-19.93161 8.7548447l19.93161 21.145157L39.9333344 8.8072823z" />\n    <path id="svg-360-icon" d="M60.35 15.122v1.215c5.105.608 8.994 1.459 8.994 2.917 0 2.796-18.718 2.917-21.635 2.917v3.889s27.104-.608 27.104-6.685c-.12-2.43-6.805-3.646-14.463-4.253zM.186 19.376c0 5.956 26.861 6.685 34.033 6.685v3.889l9.359-5.713-9.359-5.713v3.889s-28.563.608-28.563-3.16c0-1.337 3.889-2.309 8.994-2.917v-1.215C6.871 15.729.186 16.945.186 19.376zm18.596-5.835l1.459-.365c.122-.122.243 0 .365.122.365 1.094 1.215 2.188 3.039 2.188 1.823 0 2.917-1.215 2.917-2.917 0-1.945-1.215-3.16-3.039-3.16 0 0-.972-.122-.972-.243V7.829c-.122-.122.851-.243.851-.243 1.702 0 2.796-1.094 2.796-2.796 0-1.58-.972-2.674-2.674-2.674-1.58 0-2.431.851-2.674 2.066-.122.122-2.066-.365-1.945-.608.365-1.823 2.066-3.403 4.74-3.403 3.039 0 4.862 1.945 4.862 4.497 0 1.702-.851 2.917-2.066 3.646v.122c1.094.365 2.431 1.945 2.431 4.133 0 2.917-2.066 4.983-5.105 4.983-2.674 0-4.497-1.459-5.105-3.525-.123-.364-.001-.486.12-.486zm14.829-5.104l4.254-7.9c.122-.122.122-.122.365-.122h1.702c.122 0 .243.122.122.243l-3.768 6.928.122.122c.365-.243.972-.365 1.702-.365 2.674 0 4.862 1.945 4.862 4.983 0 3.282-2.188 5.226-5.226 5.226-3.039 0-5.105-1.945-5.105-5.105-.124-1.58.362-2.917.97-4.01zm4.132 6.928c1.823 0 3.039-1.337 3.039-3.16s-1.215-3.16-3.039-3.16c-1.823 0-3.039 1.337-3.039 3.16s1.216 3.16 3.039 3.16zM46.13 8.68c0-3.889.122-4.862.365-5.47.608-1.945 2.188-3.16 4.619-3.16 2.309 0 4.011 1.094 4.619 3.16.122.608.365 1.58.365 5.47s-.122 4.862-.365 5.47c-.608 2.066-2.309 3.16-4.619 3.16-2.309 0-4.011-1.094-4.619-3.16-.244-.609-.365-1.581-.365-5.47zm5.105 6.685c1.215 0 2.188-.608 2.552-1.702.122-.486.243-1.215.243-4.983 0-3.889-.122-4.497-.243-5.105-.365-1.094-1.337-1.702-2.552-1.702s-2.188.608-2.552 1.702c-.122.486-.243 1.215-.243 5.105 0 3.768.122 4.497.243 4.983.242 1.215 1.215 1.702 2.552 1.702zM62.66 4.79c-1.337 0-2.431-1.094-2.431-2.431S61.323.05 62.66.05s2.309 1.094 2.309 2.309c0 1.337-.972 2.431-2.309 2.431zm0-3.525c-.608 0-1.215.486-1.215 1.094s.486 1.094 1.215 1.094c.608 0 1.094-.486 1.094-1.094 0-.607-.487-1.094-1.094-1.094z" />\n    <path id="svg-big-play-icon" fill="#FFF" d="M38 27.019l-16 9.068V18.039z" />\n    <path id="svg-email" d="M4,3v17h24V3H4L4,3z M23.9,5.2L16,11.6L8.1,5.2H23.9L23.9,5.2z M6.1,17.9V6.4l9.9,8l9.9-8v11.5H6.1 L6.1,17.9z" />\n    <path id="svg-embed" d="M10.967 25.884L.053 14.969 11.061 4.055l2.352 2.352-8.656 8.562 8.562 8.562-2.352 2.353zm36.13-10.915L36.183 4.055l-2.352 2.352 8.562 8.562-8.656 8.562 2.352 2.352 11.008-10.914zM17.581 28.921l3.128 1.029 9.494-28.871L27.075.05l-9.494 28.871z" />\n    <path id="svg-facebook" d="M22.724.34v4.72h-2.807c-1.025 0-1.716.215-2.074.644-.358.429-.536 1.073-.536 1.931v3.379h5.238l-.697 5.292h-4.541v13.57h-5.471v-13.57h-4.56v-5.292h4.559V7.116c0-2.217.62-3.936 1.859-5.158S16.584.125 18.646.125c1.753 0 3.112.072 4.078.215z" />\n    <path id="svg-full-screen" d="M3.5644 9.8778H.05V.0222h10.4667997v3.5144003H3.5644V9.8778zM38.253399 9.184h-3.514397V3.5304003h-5.6536026V.016h9.1679993v9.168zM38.253399 29.9477997H27.7866V26.433401h6.9524022v-6.3412017h3.5143967v9.8556004zM9.2180176 26.4384155v3.5143433H.0499878V20.78479H3.564392v5.6536255h5.6536256z" />\n    <path id="svg-full-screen-exit" d="M11.061904 29.9500008H7.3433752v-7.361168H.0580964v-3.642639h11.003808v11.003807zM30.9766235 29.9500008h-3.7185268v-11.003807H38.261902v3.642639h-7.2852784v7.361168zM38.261902 11.0319033H27.2580966V.028097h3.7185268v7.3611673h7.2852783v3.642639zM11.061904 11.0319033H.0580964V7.389264h7.2852788V.028097h3.7185287v11.0038063z" />\n    <path id="svg-googleplus" d="M14.842 12.797v5.194h8.655c-.315 2.202-2.518 6.452-8.497 6.452-5.194 0-9.284-4.249-9.284-9.442S9.963 5.559 15 5.559c2.99 0 4.878 1.259 5.98 2.36l4.09-3.934C22.395 1.466 19.092.05 15 .05 6.659.05.051 6.817.051 15c0 8.184 6.766 14.95 14.949 14.95 8.655 0 14.476-6.138 14.476-14.635 0-.944-.158-1.731-.158-2.518H14.842zm32.257 0H42.85V8.549h-4.249v4.248h-4.247v4.249h4.247v4.248h4.249v-4.248h4.249v-4.249z" />\n    <path id="svg-muted" d="M31.8312 13.1313l-3.7375-3.7375-1.8687 1.8687L29.9625 15l-3.7375 3.7375 1.8687 1.8688 3.7375-3.7375 3.7375 3.7375 1.8688-1.8688L33.7 15l3.7375-3.7375-1.8688-1.8687-3.7375 3.7375z" />\n    <path id="svg-pause" d="M.4850805.02h4.13172v29.9399986h-4.13172V.02zm20.8981192 29.939999h4.1317215V.02h-4.1317215v29.939999z" />\n    <path id="svg-pinterest" d="M15 .073C6.742.073.075 6.74.075 14.999c0 6.369 3.98 11.742 9.452 13.931-.1-1.195-.199-2.985.1-4.279.298-1.195 1.791-7.463 1.791-7.463s-.497-.897-.497-2.189c0-2.09 1.194-3.582 2.687-3.582 1.294 0 1.891.995 1.891 2.091 0 1.293-.796 3.184-1.195 4.975-.398 1.493.796 2.688 2.19 2.688 2.687 0 4.677-2.786 4.677-6.867 0-3.582-2.588-6.069-6.269-6.069-4.278 0-6.766 3.183-6.766 6.468 0 1.293.497 2.687 1.094 3.382.099.199.099.298.099.398 0 .497-.298 1.493-.298 1.791-.099.298-.199.298-.497.2-1.89-.896-2.985-3.582-2.985-5.771 0-4.678 3.383-9.056 9.851-9.056 5.174 0 9.154 3.682 9.154 8.657 0 5.175-3.284 9.255-7.761 9.255-1.493 0-2.886-.797-3.383-1.691l-.896 3.58c-.298 1.294-1.294 2.887-1.89 3.883 1.393.397 2.886.596 4.378.596 8.258 0 14.925-6.667 14.925-14.926S23.258.073 15 .073z" />\n    <path id="svg-play" d="M0 0l26.1 15l-26.1 15z" />\n    <path id="svg-share" d="M6.1531944 12.656022l-2.386861-2.373024L14.0298356.078994l10.2038317 10.144678-2.3868618 2.373024-6.1461678-6.1698623v14.1194935h-3.4012766V6.5454845L6.1531944 12.656022zm18.080473 4.2403174v9.3033333H3.7663334v-9.3033333H.045v13.0246658h27.9099998V16.8963394h-3.7213324z" />\n    <path id="svg-speaker" d="M20.6187 29.95L8.649 22.475H.0625V7.525h7.475L20.6187.05v29.9zM3.8 18.7375h3.7375v-7.475H3.8v7.475zM16.8813 7.525l-5.6063 3.3222v8.3056l5.6063 3.3222V7.525z" />\n    <path id="svg-tumblr" d="M18.346 29.95c-6.69 0-9.199-4.685-9.199-7.973V12.21H6.01V8.322C10.819 6.728 11.864 2.64 12.177.25c0-.199.105-.199.209-.199h4.601v7.575h6.272v4.485h-6.272v9.269c0 1.295.523 2.99 2.926 2.99h.104c.836 0 1.986-.299 2.509-.498l1.464 4.285c-.523.798-3.137 1.694-5.437 1.793h-.207z" />\n    <path id="svg-twitter" d="M29.95 5.742c-.847 1.24-1.872 2.296-3.073 3.168.013.177.019.443.019.797 0 1.644-.24 3.285-.721 4.923s-1.211 3.209-2.191 4.715c-.98 1.505-2.147 2.836-3.5 3.994s-2.985 2.081-4.895 2.77-3.953 1.034-6.128 1.034c-3.428 0-6.564-.917-9.41-2.751.443.051.936.076 1.48.076 2.846 0 5.382-.873 7.608-2.618-1.328-.025-2.517-.433-3.567-1.224s-1.772-1.8-2.164-3.027c.417.063.803.095 1.157.095.544 0 1.081-.07 1.613-.209-1.417-.291-2.59-.996-3.519-2.115s-1.394-2.419-1.394-3.899v-.076c.86.481 1.783.74 2.77.778-.835-.557-1.499-1.284-1.992-2.182-.493-.898-.74-1.872-.74-2.922 0-1.113.278-2.144.835-3.092C3.667 5.862 5.53 7.37 7.724 8.502c2.194 1.132 4.544 1.761 7.048 1.888-.101-.481-.152-.949-.152-1.404 0-1.695.598-3.14 1.793-4.335s2.64-1.793 4.335-1.793c1.771 0 3.263.645 4.477 1.935 1.379-.266 2.675-.759 3.889-1.48-.468 1.455-1.366 2.58-2.694 3.377 1.177-.126 2.354-.442 3.53-.948z" />\n    <path id="svg-url" d="M24.942 5.371l-4.126-4.126C20.038.469 19.08.05 18.004.05s-2.033.419-2.751 1.136L7.121 9.319c-1.555 1.555-1.555 4.008 0 5.562l4.127 4.126c.778.777 1.795 1.136 2.751 1.136 1.017 0 2.032-.359 2.751-1.136l1.495-1.495-2.154-2.153-1.494 1.494c-.358.36-.957.36-1.256 0l-4.127-4.125c-.358-.358-.358-.957 0-1.256l8.134-8.133c.18-.179.418-.299.657-.299s.479.119.657.239l4.127 4.126c.179.18.24.419.24.658 0 .239-.12.478-.24.657l-2.033 2.094 2.153 2.153 2.033-2.033c.718-.718 1.136-1.734 1.136-2.751s-.419-2.094-1.136-2.812zm-6.161 5.622c-1.555-1.555-4.007-1.555-5.561 0l-1.495 1.495 2.153 2.153 1.494-1.495c.359-.358.957-.358 1.257 0l4.126 4.127c.18.179.24.418.24.657 0 .24-.12.479-.24.657l-8.072 8.073c-.359.358-.957.358-1.256 0L7.24 22.534c-.358-.358-.358-.957 0-1.256l2.033-2.033-2.153-2.153-2.033 2.033c-1.555 1.555-1.555 4.007 0 5.562l4.126 4.126c.778.778 1.795 1.136 2.751 1.136 1.017 0 2.033-.358 2.751-1.136l8.133-8.133c.719-.719 1.136-1.735 1.136-2.751 0-1.017-.418-2.033-1.136-2.751l-4.067-4.185z" />\n    <path id="svg-volume-high" d="M33.0288 26.2125c2.8487-3.0481 4.4087-7.0396 4.4087-11.2488s-1.56-8.2007-4.3409-11.1762l-2.0348 2.1772c2.2383 2.4675 3.4591 5.7333 3.4591 9.0716s-1.2209 6.5316-3.527 8.999l2.0349 2.1772z" />\n    <path id="svg-volume-low" d="M28.2598 21.2277l-2.0348-2.1772c1.0174-1.0886 1.56-2.4675 1.56-3.9915s-.5426-2.9029-1.56-3.9915l2.0348-2.1772c1.56 1.6692 2.3739 3.8464 2.3739 6.0961 0 2.3949-.8817 4.5721-2.3739 6.2413z" />\n    <path id="svg-cc-off" fill="#FFF" fill-rule="evenodd" d="M0 0h20v16H0V0zm1 1h18v14H1V1zm6.226 10.171c1.626 0 2.804-1.024 2.857-2.474H8.536c-.093.681-.611 1.13-1.306 1.13-.887 0-1.428-.765-1.428-2.004 0-1.235.54-1.991 1.424-1.991.694 0 1.217.466 1.3 1.156h1.552c-.048-1.437-1.257-2.5-2.852-2.5-1.903 0-3.067 1.27-3.067 3.34 0 2.069 1.169 3.343 3.067 3.343zm6.79 0c1.626 0 2.803-1.024 2.856-2.474h-1.547c-.092.681-.61 1.13-1.305 1.13-.888 0-1.428-.765-1.428-2.004 0-1.235.54-1.991 1.424-1.991.694 0 1.217.466 1.3 1.156h1.552c-.049-1.437-1.257-2.5-2.852-2.5-1.903 0-3.068 1.27-3.068 3.34 0 2.069 1.17 3.343 3.068 3.343z"/>\n    <path id="svg-cc-on" d="M0 0h20v16H0V0zm7.226 11.171c1.626 0 2.804-1.024 2.857-2.474H8.536c-.093.681-.611 1.13-1.306 1.13-.887 0-1.428-.765-1.428-2.004 0-1.235.54-1.991 1.424-1.991.694 0 1.217.466 1.3 1.156h1.552c-.048-1.437-1.257-2.5-2.852-2.5-1.903 0-3.067 1.27-3.067 3.34 0 2.069 1.169 3.343 3.067 3.343zm6.79 0c1.626 0 2.803-1.024 2.856-2.474h-1.547c-.092.681-.61 1.13-1.305 1.13-.888 0-1.428-.765-1.428-2.004 0-1.235.54-1.991 1.424-1.991.694 0 1.217.466 1.3 1.156h1.552c-.049-1.437-1.257-2.5-2.852-2.5-1.903 0-3.068 1.27-3.068 3.34 0 2.069 1.17 3.343 3.068 3.343z"/>\n    <path id="svg-cc-disabled"  opacity=".4" fill="#FFF" fill-rule="evenodd" d="M0 0h20v16H0V0zm1 1h18v14H1V1zm6.226 10.171c1.626 0 2.804-1.024 2.857-2.474H8.536c-.093.681-.611 1.13-1.306 1.13-.887 0-1.428-.765-1.428-2.004 0-1.235.54-1.991 1.424-1.991.694 0 1.217.466 1.3 1.156h1.552c-.048-1.437-1.257-2.5-2.852-2.5-1.903 0-3.067 1.27-3.067 3.34 0 2.069 1.169 3.343 3.067 3.343zm6.79 0c1.626 0 2.803-1.024 2.856-2.474h-1.547c-.092.681-.61 1.13-1.305 1.13-.888 0-1.428-.765-1.428-2.004 0-1.235.54-1.991 1.424-1.991.694 0 1.217.466 1.3 1.156h1.552c-.049-1.437-1.257-2.5-2.852-2.5-1.903 0-3.068 1.27-3.068 3.34 0 2.069 1.17 3.343 3.068 3.343z"/>\n    <path id="svg-settings" fill="#FFF" fill-rule="evenodd" d="M8 11.36a3.361 3.361 0 1 1 0-6.722 3.361 3.361 0 0 1 0 6.723zm8-2.026V6.666h-2.796c-.128-.499-.325-.97-.582-1.403L14.6 3.286 12.714 1.4l-1.977 1.978a5.343 5.343 0 0 0-1.403-.582V0H6.666v2.796c-.499.128-.97.325-1.403.582L3.286 1.4 1.4 3.286l1.978 1.977a5.343 5.343 0 0 0-.582 1.403H0v2.668h2.796c.128.499.325.97.582 1.403L1.4 12.714 3.286 14.6l1.977-1.978c.433.257.904.454 1.403.582V16h2.668v-2.796c.499-.128.97-.325 1.403-.582l1.977 1.978 1.886-1.886-1.978-1.977c.257-.433.454-.904.582-1.403H16z"/>\n    <path id="svg-tooltip-caret" transform="rotate(-180 6,2) " fill="#000" fill-opacity=".9" fill-rule="evenodd" d="M6 0l6 6H0z"/>\n    <path id="svg-chevron-down" fill="#FFF" fill-rule="evenodd" d="M0 1l1-1 4 4 4-4 1 1-5 5z"/>\n    <path id="svg-chevron-back" fill="#FFF" fill-rule="evenodd" d="M5 10l1-1-4-4 4-4-1-1-5 5z"/>\n    <path id="svg-check" fill="#FFF" fill-rule="evenodd" d="M4.222 9L0 4.829l1.33-1.315L4.223 6.37 10.669 0 12 1.315z"/>\n    <path id="svg-close" fill="#FFF" fill-opacity=".5" fill-rule="evenodd" d="M5.95 4.536L1.707.293.293 1.707 4.536 5.95.293 10.192l1.414 1.415L5.95 7.364l4.242 4.243 1.415-1.415L7.364 5.95l4.243-4.243L10.192.293 5.95 4.536z"/>\n  </defs>\n</svg>',className:"svg-definitions"})}}]),e}(io);Jn.a.registerComponent("CneSvgDefs",oo);var ao=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),so=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},uo=Jn.a.getComponent("Component"),co=function(){return'\n<div class="live-overlay--msg">\n  <img src="" />\n  <h4>'+Object(Rr.a)("cne-player-live-overlay-header")+'</h4>\n  <a href="">'+Object(Rr.a)("cne-player-live-overlay-link")+"</a>\n</div>"},lo=function(t){function e(){return kt(this,e),Ct(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Et(e,t),ao(e,[{key:"createEl",value:function(){return so(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:co(),className:"cne-overlay-content live-overlay"})}},{key:"update",value:function(t){var e=t.brand_image,n=t.url,r=Jn.a.parseUrl(n),i=r.protocol,o=r.hostname;this.el_&&(this.$("img").src=e,this.$("a").href=i+"//"+o)}}]),e}(uo);Jn.a.registerComponent("CneLiveOverlay",lo);var po=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ho=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},fo=function(t){function e(t,n){Pt(this,e);var r=At(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keyup",r.handleKeyUp),r}return xt(e,t),po(e,[{key:"createEl",value:function(){var t=Object(Rr.a)("cne-player-live-data-label");return ho(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'<span class="custom-control-focus" tabindex="-1" data-label='+t+"></span>",className:"vjs-control live-indicator"})}},{key:"handleClick",value:function(){this.player_.trigger("intent:seek-latest")}}]),e}(Dr);Jn.a.registerComponent("CneLiveIndicator",fo);var yo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),vo=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},mo=function(t){function e(t,n){jt(this,e);var r=Lt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keyup",r.handleKeyUp),r}return It(e,t),yo(e,[{key:"createEl",value:function(){var t=Object(Rr.a)("cne-player-live-data-label");return vo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'<span class="custom-control-focus" tabindex="-1">'+t+"</span>",className:"vjs-control live-indicator-active"})}},{key:"handleClick",value:function(){this.player_.trigger("intent:seek-latest")}}]),e}(Dr);Jn.a.registerComponent("CneLiveIndicatorActive",mo);var go=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),bo=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},_o=function(t){function e(t,n){Mt(this,e);var r=Dt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keyup",r.handleKeyUp),r}return Rt(e,t),go(e,[{key:"createEl",value:function(){var t=Object(Rr.a)("cne-player-live-ad-label");return bo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'<span class="custom-control-focus" tabindex="-1">'+t+"</span>",className:"vjs-control live-indicator-ad"})}}]),e}(Dr);Jn.a.registerComponent("CneLiveIndicatorAd",_o);var To=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wo=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},So=Jn.a.getComponent("TextTrackDisplay"),Oo={small:.0356,medium:.0445,large:.0533},ko=function(t){function e(){return Nt(this,e),Bt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return $t(e,t),To(e,[{key:"buildCSSClass",value:function(){return"cne-text-track-display "+wo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildCSSClass",this)}},{key:"originalPlayerHeight",value:function(){return this.originalHeight||(this.originalHeight=this.player_.el().clientHeight),this.originalHeight}},{key:"updateForTrack",value:function(t){var e=this;if("function"==typeof window.WebVTT&&t.activeCues){var n=this.player_.controlBar.cneSettings.getCaptionSettings()||{},r=[].concat(Ut(t.activeCues));window.WebVTT.processCues(window,r,this.el_),r.map(function(t){e.updateCueStyles(t,n)})}}},{key:"updateCueStyles",value:function(t,e){var n=this;if(t){var r=Object(Yi.a)(),i=r.fonts,o=r.textShadows,a=r.positions,s=t.displayState,u=e.fontVariant||e.fontFamily,c=Ft(e.backgroundColor||"#000",e.backgroundOpacity||1),l=null;if(e.fontFamily&&(s.firstChild.style.fontFamily=i.families[u]),e.fontSize&&(s.style.fontSize=e.fontSize,Object.keys(i.sizes).map(function(t){var r="captions-"+t;e.fontSize===i.sizes[t]?(n.addClass(r),l=Oo[t]):n.removeClass(r)})),l){var p=Math.round(l*this.player_.el_.clientHeight);s.style.fontSize=Math.max(12,p)+"px",s.style.height="auto"}if(a[e.position]&&(s.style.top=a[e.position].top,s.style.bottom=a[e.position].bottom),e.color&&(s.firstChild.style.color=e.color),e.textOpacity){var d=Ft(e.color||"#fff",e.textOpacity);s.firstChild.style.color=d}e.backgroundColor&&(s.firstChild.style.backgroundColor=c),e.edgeStyle&&(s.firstChild.style.textShadow=o[e.edgeStyle])}}}]),e}(So);Jn.a.registerComponent("CneTextTrackDisplay",ko);var Co=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Eo=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Po=Jn.a.getComponent("Component"),Ao=function(t){function e(){return Vt(this,e),Ht(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return qt(e,t),Co(e,[{key:"createEl",value:function(){var t={id:"cne-volume-alert","aria-live":"assertive","aria-label":Object(Rr.a)("cne-aria-volume-alert")};return Eo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"hidden-accessible"},t)}},{key:"update",value:function(t){var e=Object(Rr.a)("cne-aria-volume-update");this.el_.innerText=e+" "+Math.round(100*t)+"%"}}]),e}(Po);Jn.a.registerComponent("CneVolumeAlert",Ao);var xo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),jo=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Lo=Jn.a.getComponent("Component"),Io=function(t){function e(){return zt(this,e),Wt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Gt(e,t),xo(e,[{key:"createEl",value:function(){return jo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-volume-toggle vjs-control"},{tabindex:"-1"})}}]),e}(Lo);Jn.a.registerComponent("CneVolumeToggle",Io);var Mo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Do=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Ro=Jn.a.getComponent("Component"),Uo=function(t){function e(){return Xt(this,e),Yt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Kt(e,t),Mo(e,[{key:"createEl",value:function(){return Do(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"update",value:function(t){var e=this,n=t.hideHoverTitle,r=t.title,i=t.url,o=t.branded,a=t.branded_caption;if(!n){Array.from(this.el_.childNodes).forEach(function(t){e.el_.removeChild(t)});var s=document.createElement("h2");if(s.innerHTML=r,s.className="video-title-text",!i)return this.el_.appendChild(s),void(o&&this.el_.appendChild(this.buildBrandedContent(a)));var u=document.createElement("a");u.href=i,u.target="_blank",u.className="video-title-link",u.appendChild(s),o&&u.appendChild(this.buildBrandedContent(a)),this.el_.appendChild(u)}}},{key:"buildCSSClass",value:function(){return"cne-video-title"}},{key:"buildBrandedContent",value:function(t){var e=document.createElement("p");return e.className="branded-content",e.innerHTML=t||"Sponsored",e}}]),e}(Ro);Jn.a.registerComponent("CneVideoTitle",Uo);var No=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Bo=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},$o=function(t){function e(t,n){Qt(this,e);var r=Jt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keyup",r.handleKeyUp),r}return Zt(e,t),No(e,[{key:"createEl",value:function(){var t={"aria-label":Object(Rr.a)("cne-aria-fullscreen")};return Bo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'\n<span class="custom-control-focus" tabindex="-1">\n  \n<svg width="100%" height="100%" viewBox="0 0 38.2999992 30" focusable="false">\n  <use xlink:href="#svg-full-screen" class="svg-full-screen" />\n  <use xlink:href="#svg-full-screen" class="svg-full-screen shadow" />\n\n  <use xlink:href="#svg-full-screen-exit" class="svg-full-screen-exit" />\n  <use xlink:href="#svg-full-screen-exit" class="svg-full-screen-exit shadow" />\n</svg>\n</span>',className:"vjs-fullscreen-control "+Bo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildCSSClass",this).call(this)},t)}},{key:"setFullscreen",value:function(){this.player_.isFullscreen()||(this.player_.trigger("intent:enter-fullscreen"),this.setAttribute("aria-label",Object(Rr.a)("cne-aria-exit-fullscreen")))}},{key:"handleClick",value:function(){this.player_.isFullscreen()?(this.player_.trigger("intent:exit-fullscreen"),this.setAttribute("aria-label",Object(Rr.a)("cne-aria-fullscreen"))):(this.player_.trigger("intent:enter-fullscreen"),this.setAttribute("aria-label",Object(Rr.a)("cne-aria-exit-fullscreen")))}}]),e}(Dr);Jn.a.registerComponent("FullscreenToggle",$o);var Fo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Vo=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Ho=Jn.a.getComponent("Component"),qo=function(t){function e(){return te(this,e),ee(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return ne(e,t),Fo(e,[{key:"createEl",value:function(){return Vo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'<div class="cne-loading-spinner-circle"></div>',className:"cne-loading-spinner"})}}]),e}(Ho);Jn.a.registerComponent("LoadingSpinner",qo);var zo=n(30),Wo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Go=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Xo=Jn.a.getComponent("Button"),Yo=function(){return'\n<div class="mute-toggle-container">\n  <span class="custom-control-focus" tabindex="-1">\n    \n<svg width="100%" height="100%" viewBox="0 0 37.5 30" focusable="false">\n  <use xlink:href="#svg-muted" class="svg-muted" />\n  <use xlink:href="#svg-muted" class="svg-muted shadow" />\n  <use xlink:href="#svg-speaker" class="svg-speaker" />\n  <use xlink:href="#svg-speaker" class="svg-speaker shadow" />\n  <use xlink:href="#svg-volume-high" class="svg-volume-high" />\n  <use xlink:href="#svg-volume-high" class="svg-volume-high shadow" />\n  <use xlink:href="#svg-volume-low" class="svg-volume-low" />\n  <use xlink:href="#svg-volume-low" class="svg-volume-low shadow" />\n</svg>\n  </span>\n</div>\n<span style="display:none;" id="cne-volume-instructions">\n  '+Object(Rr.a)("cne-player-volume-instructions")+"\n</span>"},Ko=function(t){function e(t,n){re(this,e);var r=ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.checkVolumeSupport(),r.on(t,"volumechange",r.update),r.on(t,"loadstart",r.update),r.on("keydown",r.handleKeyDown),r.on("keyup",r.handleKeyUp),r.on("focus",function(){return r.handleFocus(!0)}),r.on("focusout",function(){return r.handleFocus(!1)}),r}return oe(e,t),Wo(e,[{key:"createEl",value:function(){return Go(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"button",{innerHTML:Yo()},{id:"cne-mute-toggle","aria-controls":this.player_.id_+"-cne-volume-control","aria-describedby":"cne-volume-instructions","aria-haspopup":"true","aria-live":"polite","aria-roledescription":"Mute Button",role:"application",tabindex:"0"})}},{key:"buildCSSClass",value:function(){return"vjs-mute-control "+Go(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildCSSClass",this).call(this)}},{key:"checkVolumeSupport",value:function(){Object(zo.e)()&&this.addClass("vjs-hidden")}},{key:"update",value:function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);var n=this.player_.muted()?Object(Rr.a)("cne-player-volume-unmute"):Object(Rr.a)("cne-player-volume-mute");this.controlText()!==n&&this.controlText(n);for(var r=0;r<4;r++)this.removeClass("vjs-vol-"+r);this.addClass("vjs-vol-"+e)}},{key:"handleKeyDown",value:function(t){t.stopPropagation();var e=void 0,n=void 0;switch(t.keyCode){case Gr.UP:case Gr.DOWN:t.preventDefault(),e=this.player_.volume(),n=t.keyCode==Gr.UP?Math.min(e+.1,1):Math.max(e-.1,0),this.player_.trigger("intent:volume-change",{level:n})}}},{key:"handleKeyUp",value:function(t){32===t.keyCode&&t.stopPropagation()}},{key:"handleClick",value:function(t){t.stopPropagation(),this.player_.trigger("intent:mute-toggle",!this.player_.muted())}},{key:"handleFocus",value:function(t){this.player_.trigger("intent:mute-focus",t)}}]),e}(Xo);Ko.prototype.controlText_="Mute",Jn.a.registerComponent("MuteToggle",Ko);var Qo=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Jo=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Zo=function(t){function e(){return se(this,e),ue(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return ce(e,t),Qo(e,[{key:"createEl",value:function(){return Jo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:this.options_.content,className:"share-content js-share-content",id:"share-content-"+this.options_.type})}},{key:"handleClick",value:function(){ae("share-content-"+this.options_.type)}}]),e}(Dr);Jn.a.registerComponent("OverlayTextBox",Zo);var ta=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ea=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},na=Jn.a.getComponent("Component"),ra=function(t){function e(){return le(this,e),pe(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return de(e,t),ta(e,[{key:"createEl",value:function(){return ea(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"persistent-share"})}}]),e}(na);Jn.a.registerComponent("PersistentShare",ra);var ia=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oa=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},aa=Jn.a.getComponent("ClickableComponent"),sa=function(t){function e(t,n){he(this,e);var r=Object.assign(n);r.reportTouchActivity=!1;var i=fe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.on(["mousedown","touchstart"],function(t){t.stopPropagation()}),i.on(["mouseup","touchend"],function(t){t.stopPropagation(),i.unmute()}),i}return ye(e,t),ia(e,[{key:"createEl",value:function(){return oa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'<div class=\'persistent-mute-icon\'>\n<svg width="100%" height="100%" viewBox="0 0 37.5 30" focusable="false">\n  <use xlink:href="#svg-muted" class="svg-muted" />\n  <use xlink:href="#svg-muted" class="svg-muted shadow" />\n  <use xlink:href="#svg-speaker" class="svg-speaker" />\n  <use xlink:href="#svg-speaker" class="svg-speaker shadow" />\n</svg></div>',className:"persistent-mute"})}},{key:"update",value:function(t){t?this.show():this.hide()}},{key:"unmute",value:function(){this.player_.trigger("intent:mute-toggle",!1)}}]),e}(aa);Jn.a.registerComponent("PersistentMute",sa);var ua=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ca=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},la=Jn.a.getComponent("PlayToggle"),pa=function(t){function e(){return ve(this,e),me(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return ge(e,t),ua(e,[{key:"createEl",value:function(){var t={tabindex:"0"};return ca(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"button",{innerHTML:'\n<div class="play-toggle-container">\n  <span class="custom-control-focus" tabindex="-1">\n    \n<svg width="100%" height="100%" viewBox="0 0 26.1000004 30" focusable="false">\n  <use xlink:href="#svg-pause" class="svg-pause" />\n  <use xlink:href="#svg-pause" class="svg-pause shadow" />\n\n  <use xlink:href="#svg-play" class="svg-play" />\n  <use xlink:href="#svg-play" class="svg-play shadow" />\n</svg>\n  </span>\n</div>'},t)}},{key:"createControlTextEl",value:function(){}},{key:"controlText",value:function(){}},{key:"handleClick",value:function(){this.player_.paused()?this.player_.trigger("intent:play"):this.player_.trigger("intent:pause")}},{key:"handlePlay",value:function(t){var n=Object(Rr.a)("cne-aria-pause");this.setAttribute("aria-label",n),ca(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handlePlay",this).call(this,t)}},{key:"handlePause",value:function(t){var n=Object(Rr.a)("cne-aria-play");this.setAttribute("aria-label",n),ca(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handlePause",this).call(this,t)}}]),e}(la);Jn.a.registerComponent("PlayToggle",pa);var da=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ha=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},fa=Jn.a.getComponent("ClickableComponent"),ya=function(t){function e(){return be(this,e),_e(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Te(e,t),da(e,[{key:"createEl",value:function(){var t=Object(Rr.a)("cne-aria-playlist-next"),n=Object(Rr.a)("cne-aria-playlist-previous"),r="right"===this.options_.direction?t:n;return ha(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'<span class="playlist-caret" aria-label="'+r+'"></span>',className:"playlist-arrow "+this.options_.direction})}},{key:"handleClick",value:function(){this.clickCallback(this.options_.direction)}},{key:"updatePage",value:function(t,e){var n=this.options_.direction;"left"===n&&0===t?this.addClass("disabled"):"right"===n&&t===e?this.addClass("disabled"):this.removeClass("disabled")}},{key:"clickCallback",value:function(){}}]),e}(fa);Jn.a.registerComponent("PlaylistArrow",ya);var va=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ma=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ga=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},ba=Jn.a.getComponent("Component"),_a=function(t){function e(){return we(this,e),Se(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Oe(e,t),ma(e,[{key:"createEl",value:function(){return this.playlist={},ga(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"playlist-body"})}},{key:"update",value:function(t,e){var n=this.children(),r=va(n,3),i=r[0],o=r[1],a=r[2];if(o.update(t,e),e&&e.videos&&e.id!=this.playlist.id){this.playlist=e,i.clickCallback=this.movePage.bind(this),a.clickCallback=this.movePage.bind(this),o.updatePageFromIndex=this.updatePageFromIndex.bind(this);var s=e.videos.length,u=o.el().getBoundingClientRect().width;this.pageSize=Math.floor(u/156),this.maxPage=Math.ceil(s/this.pageSize)-1,this.curPage=0,this.updateChildPages()}}},{key:"movePage",value:function(t){"left"===t?this.curPage=Math.max(this.curPage-1,0):"right"===t&&(this.curPage=Math.min(this.curPage+1,this.maxPage)),this.updateChildPages()}},{key:"updatePageFromIndex",value:function(t){this.curPage=Math.floor(t/this.pageSize),this.updateChildPages()}},{key:"updateChildPages",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.children()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.updatePage(this.curPage,this.maxPage,this.pageSize)}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}}}]),e}(ba);Jn.a.registerComponent("PlaylistBody",_a);var Ta=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wa=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Sa=Jn.a.getComponent("Component"),Oa=function(t){function e(){return ke(this,e),Ce(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Ee(e,t),Ta(e,[{key:"createEl",value:function(){return wa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"playlist-container"})}},{key:"update",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=this.children()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.update(t,e)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}]),e}(Sa);Jn.a.registerComponent("PlaylistContainer",Oa);var ka=function(t){return'<div class="playlist-index"><span>'+t.index+"</span><span>/ "+t.length+"</span></div>"},Ca=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ea=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Pa=Jn.a.getComponent("Component"),Aa=function(t){function e(){return Pe(this,e),Ae(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return xe(e,t),Ca(e,[{key:"createEl",value:function(){return Ea(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"playlist-header"})}},{key:"update",value:function(t,e){var n=this;e&&e.videos&&(this.playlist=e,t?this.playlist.videos.forEach(function(e,r){t.id===e.id&&n.renderWithIndex(r+1)}):this.renderWithIndex(1))}},{key:"renderWithIndex",value:function(t){this.el().setAttribute("data-title",this.playlist.title),this.el().innerHTML=ka({length:this.playlist.videos.length,index:t})}}]),e}(Pa);Jn.a.registerComponent("PlaylistHeader",Aa);var xa=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ja=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},La=Jn.a.getComponent("Component"),Ia=function(t){function e(){return je(this,e),Le(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Ie(e,t),xa(e,[{key:"createEl",value:function(){return this.playlist={},this.video={},ja(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"playlist-items"})}},{key:"update",value:function(t,e){var n=this;if(e&&e.videos&&this.playlist.id!==e.id){this.playlist=e;e.videos.forEach(function(t,e){n.addChild("PlaylistItem",{video:t,index:e})})}t&&this.video.id!==t.id&&(this.video=t,this.children().forEach(function(e,r){e.video.id===t.id?(e.makeSelected(),n.updatePageFromIndex(r)):e.makeUnselected()}))}},{key:"moveTo",value:function(t){this.el().style.transform="translateX("+-t+"px)"}},{key:"updatePageFromIndex",value:function(){}}]),e}(La);Jn.a.registerComponent("PlaylistItems",Ia);var Ma=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Da=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Ra=Jn.a.getComponent("Component"),Ua=function(t){function e(){return Me(this,e),De(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Re(e,t),Ma(e,[{key:"createEl",value:function(){return Da(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"playlist-items-container"})}},{key:"update",value:function(t,e){e!==this.playlist&&(this.playlist=e,this.removeChild("PlaylistItems"),this.addChild("PlaylistItems"));var n=this.childNameIndex_.PlaylistItems;n.updatePageFromIndex=this.updatePageFromIndex,n.update(t,e)}},{key:"updatePage",value:function(t,e,n){var r=this.childNameIndex_.PlaylistItems;if(t===e){var i=this.el().getBoundingClientRect().width,o=r.el().getBoundingClientRect().width;r.moveTo(o-i)}else r.moveTo(t*n*156)}},{key:"updatePageFromIndex",value:function(){}}]),e}(Ra);Jn.a.registerComponent("PlaylistItemsContainer",Ua);var Na=function(t,e,n,r){return'<div class="poster-thumb-container">\n    <div class="poster-thumb" style="background-image:url('+e+');"></div>\n    <div class="little-play-btn">'+t+"</div>\n  </div>\n  <h5>"+Ue(r)+n+"</h5>"},Ba=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),$a=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Fa=Jn.a.getComponent("ClickableComponent"),Va=function(t){function e(t,n){Be(this,e);var r=$e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.video=n.video,r.index=n.index,r}return Fe(e,t),Ba(e,[{key:"createEl",value:function(){var t=this.options().video,n=Ne(t.title,43,"...");return $a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"playlist-item",innerHTML:Na('\n<svg width="100%" height="100%" viewBox="0 0 26.1000004 30" focusable="false">\n  <use xlink:href="#svg-play" />\n  <use xlink:href="#svg-play" class="shadow" />\n</svg>',t.poster_frame,n,t.paid_content)})}},{key:"handleClick",value:function(){this.player().trigger("intent:load-video",{video:this.video,index:this.index})}},{key:"makeSelected",value:function(){this.addClass("selected")}},{key:"makeUnselected",value:function(){this.removeClass("selected")}}]),e}(Fa);Jn.a.registerComponent("PlaylistItem",Va);var Ha=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qa=Jn.a.getComponent("PosterImage"),za=function(t){function e(){return Ve(this,e),He(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return qe(e,t),Ha(e,[{key:"handleClick",value:function(){this.player_.trigger("intent:play")}}]),e}(qa);Jn.a.registerComponent("PosterImage",za);var Wa=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ga=Jn.a.getComponent("ProgressControl"),Xa=function(t){function e(t,n){ze(this,e);var r=We(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.ready(function(){r.on(r.el(),"mousemove",r.triggerMouseMoveIntent),r.on(r.el(),"touchmove",r.triggerMouseMoveIntent),r.on(r.el(),"mousedown",r.triggerMouseDownIntent),r.on(r.el(),"touchstart",r.triggerMouseDownIntent)}),r}return Ge(e,t),Wa(e,[{key:"triggerMouseDownIntent",value:function(t){this.player_.trigger("intent:progress-mouse",{event:t,type:"down"})}},{key:"triggerMouseMoveIntent",value:function(t){this.player_.trigger("intent:progress-mouse",{event:t,type:"move"})}}]),e}(Ga);Jn.a.registerComponent("ProgressControl",Xa);var Ya=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ka=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Qa=Jn.a.getComponent("SeekBar"),Ja=function(t){function e(){return Xe(this,e),Ye(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Ke(e,t),Ya(e,[{key:"handleMouseDown",value:function(t){Ka(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handleMouseDown",this).call(this,t),this.player().trigger("intent:seek-start"),this.start=Date.now()}},{key:"handleMouseUp",value:function(t){Ka(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handleMouseUp",this).call(this,t),this.player().trigger({type:"intent:seek-end",elapsed:Date.now()-this.start})}},{key:"allowTabFocus",value:function(t){this.el().setAttribute("tabindex",t?"0":"-1")}},{key:"updateCuePostMidroll",value:function(t){var e=t.finishedAdIndex,n=this.cues&&this.cues.filter(function(t){return t.idx===e})[0];n&&(n.node.parentNode.removeChild(n.node),n.node=null),!this.el_.querySelectorAll(".cne-cue-marker").length&&this.removeCueContainer()}},{key:"removeCueContainer",value:function(){var t=this.el_.querySelectorAll(".cne-cue-container");t.length&&t.forEach(function(t){return t.parentNode.removeChild(t)})}},{key:"addCueIndicators",value:function(t){var e=this,n=t.cue_points,r=t.duration;this.cues=[];var i=1e3*r,o=document.createElement("div");o.className="cne-cue-container",n.forEach(function(t,n){var r=document.createElement("div"),a=t/i*100;r.className="cne-cue-marker",r.style.left="calc("+a+"% - 4px)",o.append(r),e.cues&&e.cues.push({idx:n+1,node:r})}),this.el_.appendChild(o)}}]),e}(Qa);Jn.a.registerComponent("SeekBar",Ja);var Za=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ts=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},es=Jn.a.getComponent("Component"),ns=function(t){function e(){return Qe(this,e),Je(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Ze(e,t),Za(e,[{key:"createEl",value:function(){return ts(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-settings-body"})}}]),e}(es);Jn.a.registerComponent("SettingsBody",ns);var rs=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),is=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},os=Jn.a.getComponent("Component"),as=function(t){function e(){return tn(this,e),en(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return nn(e,t),rs(e,[{key:"createEl",value:function(){return is(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-settings-submenu cne-caption-options"},{title:this.options_.title})}}]),e}(os);Jn.a.registerComponent("CneCaptionOptions",as);var ss=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),us=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},cs=Jn.a.getComponent("Component"),ls=function(){return'<span class="cne-captions-sample-text" style="">'+Object(Rr.a)("cne-player-caption-sample-text")+"</span>"},ps=function(t){function e(){return rn(this,e),on(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return an(e,t),ss(e,[{key:"createEl",value:function(){return us(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-settings-footer",innerHTML:ls()})}}]),e}(cs);Jn.a.registerComponent("SettingsFooter",ps);var ds=function(){return'<div class="cne-settings-back">\n    <span class="cne-settings-back-arrow">\n<svg width="6" height="10" viewBox="0 0 6 10" focusable="false">\n  <use xlink:href="#svg-chevron-back" />\n</svg>&nbsp;</span>\n    <span class="cne-settings-back-text">'+Object(Rr.a)("cne-player-settings-back")+'</span>\n  </div>\n  <h3 class="cne-settings-title">'+Object(Rr.a)("cne-player-settings-title")+'</h3>\n  <div class="cne-settings-close" tabindex="0" aria-label="'+Object(Rr.a)("cne-aria-exit-settings")+'" role="button">\n    <span class="custom-control-focus" tabindex="-1">\n      \n<svg width="12" height="12" viewBox="0 0 12 12" focusable="false">\n  <use xlink:href="#svg-close" />\n</svg>\n    </span>\n    <span class="vjs-hidden">'+Object(Rr.a)("cne-player-settings-close")+"</span>\n  </div>"},hs=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fs=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},ys=Jn.a.getComponent("Component"),vs=function(t){function e(t,n){sn(this,e);var r=un(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on(r.$(".cne-settings-close"),"click",r.closeMenu),r.on(r.$(".cne-settings-close"),"keyup",r.closeButtonKeyUp),r}return cn(e,t),hs(e,[{key:"createEl",value:function(){return fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:ds(),className:"cne-settings-header"})}},{key:"closeButtonKeyUp",value:function(t){t.keyCode!==Gr.SPACE&&t.keyCode!==Gr.RETURN||this.closeMenu(),t.stopPropagation()}},{key:"closeMenu",value:function(){this.player_.trigger("intent:close-settings")}},{key:"title",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t)return this.el_.querySelector(".cne-settings-title").innerHTML;this.el_.querySelector(".cne-settings-title").innerHTML=t}}]),e}(ys);Jn.a.registerComponent("SettingsHeader",vs);var ms=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gs=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},bs=Jn.a.getComponent("Component"),_s=function(t){function e(t,n){ln(this,e);var r=pn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.hide(),r}return dn(e,t),ms(e,[{key:"createEl",value:function(){return gs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{id:this.player_.id_+"-settings-menu",className:"cne-settings-menu",innerHTML:'\n<svg class="cne-tooltip-caret" width="12" height="6" viewBox="0 0 12 6" focusable="false">\n  <use xlink:href="#svg-tooltip-caret" />\n</svg>'})}},{key:"disableCaptionSettings",value:function(){this.player_.trigger("caption-settings-disabled")}},{key:"enableCaptionSettings",value:function(){this.player_.trigger("caption-settings-enabled")}},{key:"hideSubMenu",value:function(t){t.el_.style.display="none"}},{key:"showSubMenu",value:function(t){var e=this,n=this.getSubMenus(),r=t||n[0];n.map(function(t){t.name()===r.name()?(t.el_.style.display="block",e.settingsHeader.title(r.getAttribute("title"))):t.el_.style.display="none"})}},{key:"toggleSubMenu",value:function(t,e){var n=this.settingsBody[t];n&&("show"==e?this.showSubMenu(n):"hide"===e?this.hideSubMenu(n):"disable"===e?this.disableCaptionSettings():"enable"===e&&this.enableCaptionSettings())}},{key:"getSubMenus",value:function(t){return this.settingsBody.children().filter(function(e){return e.el_.className&&e.el_.className.indexOf("cne-settings-submenu")>=0&&(!t||e.el_.className.indexOf(t)>=0)})||[]}},{key:"getDisabledSubMenus",value:function(){return this.getSubMenus("cne-menu-disabled")}},{key:"visible",value:function(){return!this.hasClass("vjs-hidden")}}]),e}(bs);Jn.a.registerComponent("CneSettingsMenu",_s);var Ts=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ws=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Ss=Jn.a.getComponent("Component"),Os=function(t){function e(){return hn(this,e),fn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return yn(e,t),Ts(e,[{key:"createEl",value:function(){return ws(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"cne-settings-submenu cne-player-settings"},{title:this.options_.title})}}]),e}(Ss);Jn.a.registerComponent("CnePlayerSettings",Os);var ks=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Cs=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Es=function(t){function e(t,n){vn(this,e);var r=mn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keyup",r.handleKeyUp),r.on("keydown",r.handleKeyDown),r.el_.removeAttribute("aria-live"),r}return gn(e,t),ks(e,[{key:"createEl",value:function(){var t=Object(Rr.a)("cne-aria-settings-label"),n={"aria-label":t,"aria-controls":this.player_.id_+"_settings","aria-expanded":"false",tabindex:"0",role:"button"};return Cs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'\n<span class="custom-control-focus" tabindex="-1">\n  \n<svg width="16" height="16" viewbox="0 0 16 16" focusable="false">\n  <use xLink:href="#svg-settings" class="svg-settings" />\n  <use xLink:href="#svg-settings" class="svg-settings shadow" />\n</svg>\n</span>',className:"cne-settings-toggle "+Cs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildCSSClass",this).call(this)},n)}},{key:"handleKeyDown",value:function(t){Xr.indexOf(t.keyCode)>-1&&t.preventDefault()}},{key:"handleKeyUp",value:function(t){switch(t.stopPropagation(),t.keyCode){case Gr.UP:case Gr.DOWN:t.preventDefault(),this.handleClick(t);break;case Gr.ESC:this.player_.controlBar.cneSettings.cneSettingsMenu.visible()&&this.player_.trigger("intent:close-settings")}}},{key:"handleClick",value:function(){this.player_.controlBar.cneSettings.cneSettingsMenu.visible()?this.player_.trigger("intent:close-settings"):this.player_.trigger("intent:show-settings")}}]),e}(Dr);Jn.a.registerComponent("CneSettingsToggle",Es);var Ps=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),As=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},xs={facebook:hr,twitter:yr,tumblr:'\n<svg height="100%" viewBox="0 0 30 30" focusable="false">\n  <use xlink:href="#svg-tumblr" />\n</svg>',googleplus:'\n<svg height="100%" viewBox="0 0 47.15 30" focusable="false">\n  <use xlink:href="#svg-googleplus" />\n</svg>',pinterest:'\n<svg height="100%" viewBox="0 0 30 30" focusable="false">\n  <use xlink:href="#svg-pinterest" />\n</svg>',embed:'\n<svg height="100%" viewBox="0 0 47.15 30" focusable="false">\n  <use xlink:href="#svg-embed" />\n</svg>',url:'\n<svg height="100%" viewBox="0 0 30 30" focusable="false">\n  <use xlink:href="#svg-url" />\n</svg>',email:dr},js=function(t){function e(t,n){bn(this,e);var r=_n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keyup",function(t){return t.stopPropagation()}),r}return Tn(e,t),Ps(e,[{key:"createEl",value:function(){var t=this.options_.action,n=this.options_.ariaLabel,r={"aria-label":n},i=xs[t]||"",o=As(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'<span class="custom-control-focus" tabindex="-1">\n                      '+i+"\n                    </span>",className:"share-"+t+"-trigger"},r);return o.removeAttribute("aria-live"),o}},{key:"handleClick",value:function(t){t.stopPropagation();var e=this.options_.action;switch(e){case"embed":this.player_.trigger("intent:show-share-embed"),this.player_.trigger("intent:share",{action:"embed"});break;case"url":this.player_.trigger("intent:show-share-url"),this.player_.trigger("intent:share",{action:"url"});break;default:this.player_.trigger("intent:share",{action:e})}}}]),e}(Dr);Jn.a.registerComponent("ShareActionButton",js);var Ls=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Is=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Ms=Jn.a.getComponent("Component"),Ds=function(t){function e(){return wn(this,e),Sn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return On(e,t),Ls(e,[{key:"createEl",value:function(){return Is(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"share-overlay--container share-actions"})}}]),e}(Ms);Jn.a.registerComponent("ShareActions",Ds);var Rs=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Us=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Ns=Jn.a.getComponent("Component"),Bs=function(t){function e(t,n){kn(this,e);var r=Cn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.contentEl_=document.createElement("div"),r.contentEl_.className="share-content--container",r.stopPropagationFn_=function(t){t.stopPropagation()},r.contentEl_.addEventListener("click",r.stopPropagationFn_),r.el_.appendChild(r.contentEl_),r.header=document.createElement("h4"),r.header.innerHTML=n.headerText,r.type=n.type,r}return En(e,t),Rs(e,[{key:"createEl",value:function(){return Us(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()})}},{key:"dispose",value:function(){this.contentEl_.removeEventListener("click",this.stopPropagationFn_),Us(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}},{key:"render",value:function(){this.removeChild("OverlayTextBox"),this.addChild("OverlayTextBox",{content:this.getContent(),type:this.options_.type}),this.contentEl().insertBefore(this.header,this.contentEl().firstChild)}},{key:"buildCSSClass",value:function(){return"share-overlay--container share-"+this.options_.type}}]),e}(Ns);Jn.a.registerComponent("ShareLink",Bs);var $s=Bs,Fs={allure:"/3379/allure.dart/share",architecturaldigest:"/3379/arch.dart/share",arstechnica:"/3379/ars.dart/share",bonappetit:"/3379/bonapp.dart/share",brides:"/479/brides.dart/share",cntraveler:"/3379/cntraveler.dart/share",epicurious:"/3379/epi.dart/share",glamour:"/3379/glamour.dart/share",iris:"/3379/thescene.dart/watch/share",pitchfork:"/3379/pitchfork.dart/share",self:"/3379/self.dart/share",teenvogue:"/3379/teenvogue.dart/share",thenewyorker:"/3379/newyorker.dart/share",vanityfair:"/3379/vanityfair.dart/share",vogue:"/3379/vogue.dart/share",w:"/3379/wmagazine.dart/share",golfdigest:"/3379/conde.golfdigest/partner",gq:"/3379/conde.gq/partner",wired:"/3379/conde.wired/partner",architecturaldigestindia:"/5574/in.archdigest",architecturaldigestitaly:"/5574/it.ad",architecturaldigestfrance:"/5574/fr.archdigest",architecturaldigestgermany:"/5574/de.archdigest",architecturaldigestspain:"/5574/es.archdigest",cntravelerindia:"/5574/in.cntraveller",cntraveleruk:"/5574/uk.cntraveller",cntravelerspain:"/5574/es.cntraveller",vogueindia:"/5574/in.vogue",vogueuk:"/5574/uk.vogue",voguefrance:"/5574/fr.vogue",voguespain:"/5574/es.vogue",vogueitaly:"/5574/it.vogue",voguegermany:"/5574/de.vogue",voguemexico:"/5574/mx.vogue",voguejapan:"/5574/jp.vogue",wireduk:"/5574/uk.wired",tatleruk:"/5574/uk.tatler",glamouruk:"/5574/uk.glamour",gqindia:"/5574/in.gq",gqfrance:"/5574/fr.gq",gquk:"/5574/uk.gq",gqspain:"/5574/es.gq",gqitaly:"/5574/it.gq",gqgermany:"/5574/de.gq",vanityfairfrance:"/5574/fr.vanityfair",vanityfairspain:"/5574/es.vanityfair"},Vs=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Hs=function(t){function e(t){xn(this,e);return jn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,{type:"embed",headerText:"EMBED URL"}))}return Ln(e,t),Vs(e,[{key:"getContent",value:function(){var t=this.video_&&this.video_.share_links||{},e=t.embed;return e?An(e,this.adUnit_,this.video_.brand):""}},{key:"setVideo",value:function(t){if(!this.adUnit_){var e=this.player().dfp.options();this.adUnit_=e.adUnitPath||e.fallbackAdUnitPath}this.video_=t,this.render()}},{key:"setAdUnit",value:function(t){this.adUnit_=t,this.render()}}]),e}($s);Jn.a.registerComponent("ShareEmbed",Hs);var qs=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),zs=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Ws=Jn.a.getComponent("Component"),Gs=function(t){function e(t,n){In(this,e);var r=Mn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("click",function(){this.player_.trigger("intent:close-overlay")}),r.on("keydown",r.handleKeyDown),r}return Dn(e,t),qs(e,[{key:"createEl",value:function(){return zs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:this.buildCSSClass()},{role:"presentation"})}},{key:"buildCSSClass",value:function(){return"cne-overlay-content share-overlay"}},{key:"handleKeyDown",value:function(t){t.keyCode===Gr.ESC&&this.player_.trigger("intent:close-overlay")}}]),e}(Ws);Jn.a.registerComponent("ShareOverlay",Gs);var Xs=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ys=function(t){function e(t){Rn(this,e);var n=Object(Rr.a)("cne-player-share-url-header");return Un(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,{type:"url",headerText:n}))}return Nn(e,t),Xs(e,[{key:"getContent",value:function(){return this.video_.url}},{key:"setVideo",value:function(t){this.video_=t,this.render()}}]),e}($s);Jn.a.registerComponent("ShareUrl",Ys);var Ks=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Qs=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Js=function(t){function e(t,n){Bn(this,e);var r=$n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.on("keypress",r.handleKeyPress),r}return Fn(e,t),Ks(e,[{key:"createEl",value:function(){var t={"aria-label":Object(Rr.a)("cne-aria-share-options")};return Qs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:'\n      <span class="custom-control-focus" tabindex="-1">\n        \n<svg width="100%" height="100%" viewBox="0 0 28 30" focusable="false">\n  <use xlink:href="#svg-share" />\n  <use xlink:href="#svg-share" class="shadow" />\n</svg>\n      </span>',className:"share-widget"},t)}},{key:"handleClick",value:function(){this.player_.trigger("intent:show-share")}},{key:"handleKeyPress",value:function(t){[Gr.RETURN,Gr.SPACE].indexOf(t.keyCode)>=0&&this.player_.trigger("intent:show-share-keyboard")}}]),e}(Dr);Jn.a.registerComponent("ShareWidget",Js);var Zs=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tu=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},eu=Jn.a.getComponent("Component"),nu=function(t){function e(){return Vn(this,e),Hn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return qn(e,t),Zs(e,[{key:"createEl",value:function(){return tu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{className:"share-dropdown"})}},{key:"update",value:function(t){!0===t?this.addClass("show"):this.removeClass("show")}}]),e}(eu);Jn.a.registerComponent("ShareDropdown",nu);var ru=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),iu=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},ou={email:dr,facebook:hr,twitter:yr},au={facebook:"cne-player-share",twitter:"cne-player-tweet",email:"cne-player-email",more:"cne-player-more"},su=function(t){function e(){return zn(this,e),Wn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Gn(e,t),ru(e,[{key:"createEl",value:function(){var t=this.options_.action,n='\n      <div class="share-'+t+'-text">\n      '+Object(Rr.a)(au[t])+"\n      </div>\n    ",r=void 0;if("more"===t)r=n;else{r='\n      <div class="share-dropdown-item-icon share-dropdown-item-icon--'+t+'">\n        '+ou[t]+"\n      </div>\n      "+n}return iu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createEl",this).call(this,"div",{innerHTML:r||"",className:"share-dropdown-item"},{"data-label":t})}},{key:"handleClick",value:function(t){t.stopPropagation();var e=this.options_.action;switch(e){case"more":this.player_.trigger("intent:show-share");break;default:this.player_.trigger("intent:share",{action:e})}}}]),e}(Dr);Jn.a.registerComponent("ShareDropdownItem",su);var uu=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),cu=Jn.a.getComponent("VolumeBar"),lu=function(t){function e(t,n){Xn(this,e);var r=Yn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.el_.setAttribute("tabindex","-1"),r}return Kn(e,t),uu(e,[{key:"handleMouseMove",value:function(t){var e=this.calculateDistance(t);this.player_.trigger("intent:volume-change",{level:e})}}]),e}(cu);Jn.a.registerComponent("VolumeBar",lu)},function(t,e,n){"use strict";(function(t){function n(e){try{return JSON.parse(window.localStorage.getItem(e))}catch(e){t(e)}}function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(n){var r=n;"object"===(void 0===n?"undefined":i(n))&&(r=JSON.stringify(n)),window.localStorage.setItem(e,r)}else window.localStorage.removeItem(e)}catch(e){t(e)}}e.a=n,e.b=r;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}).call(e,n(16).default)},function(t,e,n){"use strict";function r(t){var e=t.adContainer,n=t.googleIMA$,r=t.videoElement;return n.map(function(t){return new t.AdDisplayContainer(e,r)}).publishReplay(1).refCount()}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y;return t.pluck("AdsRenderingSettings").map(function(t){var n=new t;return Object.assign(n,e)}).publishReplay(1).refCount()}function o(t){var e=t.adStarted$,n=t.contentResumeRequested$,r=t.requestAds$,i=t.vjsPlayForTimeout$,o=t.timer$,a=void 0===o?W.a.timer(K):o,s=e.merge(n);return r.switchMapTo(i.take(1)).switchMapTo(a.takeUntil(s)).share()}function a(t){return Object(G.b)(t,["play","adplay"])}function s(t){var e=t.adComplete$,n=t.adPaused$,r=t.adResumed$,i=t.startMidroll$,o=t.startPreroll$,a=t.updateInterval$,s=void 0===a?Q:a,u=W.a.merge(r.mapTo(!0),n.mapTo(!1)).startWith(!0);return W.a.merge(o,i).switchMapTo(s.filterByLatestFrom(u,function(t,e){return e}).takeUntil(e))}function u(t,e){return t.withType("start").filter(function(){return e.hasCompanion}).map(function(t){var n=e.companion,r=e.companionSize,i=r.width,o=r.height,a=e.target,s=c(t,i,o);return{companionDivId:n||"cne-auto-companion",html:s,parentDivId:a,width:i,height:o}}).skipWhile(function(t){return""===t.html})}function c(t,e,n){var r=t.getAd();if(!r)return"";try{var i=r.getCompanionAds(e,n);return i&&i[0]&&i[0].getContent()?i[0].getContent():""}catch(t){return Object(J.b)("DFP Ad Error. Companion Ad Error",t),""}}function l(t){return W.a.of(t)}function p(t){var e=t.dfpAdEvent$;return t.dfpEventTypes$.pluck("LOADED").switchMap(function(t){return e.withType(t)}).map(function(t){return t.getAd()}).publishReplay(1).refCount()}function d(t){var e=t.adsManager$,n=t.adsLoader$,r=t.dfpEventTypes$,i=t.events,o=void 0===i?tt:i,a=t.loaderEvents,s=void 0===a?["AD_ERROR","ADS_MANAGER_LOADED"]:a,u=t.fromAdEvent,c=void 0===u?h:u,l=et({eventTarget$:e,dfpEventTypes$:r,events:o,fromAdEvent:c}),p=et({eventTarget$:n,dfpEventTypes$:r,events:s,fromAdEvent:c});return W.a.merge(l,p).share()}function h(t,e,n){return W.a.fromEvent(t,e[n])}function f(t){return t.map(function(t){return nt({},t.AdEvent.Type,t.AdErrorEvent.Type,t.AdsManagerLoadedEvent.Type)}).publishReplay().refCount()}function y(t){if(!t&&window.google&&window.google.ima){var e=window.google.ima;return e.settings.setVpaidMode(e.ImaSdkSettings.VpaidMode.ENABLED),{ima:e}}return{}}function v(t){var e=t.autoplay,n=t.adDisplayContainer$,r=t.playIntent$;return e?n.mapTo(!0).take(1):W.a.combineLatest(r,n).mapTo(!0).take(1)}function m(t){return t.trim().replace("&","and").replace(/[^\s\-_A-Za-z0-9]/g,"").replace(/[\s\-_]+/g,"-").toLowerCase()}function g(t){var e=t.deferredTagData$,n=t.currentVideo$,r=t.options,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allure:"/3379/conde.allure",architecturaldigest:"/3379/conde.arch",arstechnica:"/3379/conde.ars",bonappetit:"/3379/conde.bonapp",brides:"/479/conde.brides",cntraveler:"/3379/conde.cntraveler",epicurious:"/3379/conde.epi",glamour:"/3379/conde.glamour",golfdigest:"/21849421099/golfdigest",gq:"/3379/conde.gq",pitchfork:"/3379/conde.pitchfork",self:"/3379/conde.self",teenvogue:"/3379/conde.teenvogue",them:"/3379/conde.them",thenewyorker:"/3379/conde.newyorker",vanityfair:"/3379/conde.vanityfair",vogue:"/3379/conde.vogue",w:"/3379/conde.w",wired:"/3379/conde.wired",architecturaldigestindia:"/5574/in.archdigest",architecturaldigestfrance:"/5574/fr.archdigest",architecturaldigestgermany:"/5574/de.archdigest",architecturaldigestspain:"/5574/es.archdigest",architecturaldigestitaly:"/5574/it.ad",vogueindia:"/5574/in.vogue",voguefrance:"/5574/fr.vogue",vogueuk:"/5574/uk.vogue",voguespain:"/5574/es.vogue",vogueitaly:"/5574/it.vogue",voguegermany:"/5574/de.vogue",voguemexico:"/5574/mx.vogue",voguejapan:"/5574/jp.vogue",cntravelerindia:"/5574/in.cntraveller",cntraveleruk:"/5574/uk.cntraveller",cntravelerspain:"/5574/es.cntraveller",wireduk:"/5574/uk.wired",tatleruk:"/5574/uk.tatler",glamouruk:"/5574/uk.glamour",gqindia:"/5574/in.gq",gqfrance:"/5574/fr.gq",gquk:"/5574/uk.gq",gqspain:"/5574/es.gq",gqitaly:"/5574/it.gq",gqgermany:"/5574/de.gq",vanityfairfrance:"/5574/fr.vanityfair",vanityfairspain:"/5574/es.vanityfair"};return n.bufferedWith(e,function(t,e){var n=t.brand,o=e.adUnitPath,a=bt(at({},r,{adUnitPath:o,brand:n,brandMap:i}));return at({},e,{adUnitPath:a,video:t})}).share()}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){var n=t.options();return g({deferredTagData$:Object(it.a)(n).map(Et(n)),currentVideo$:e.withType("dfp-currentvideo").map(function(t){return t.value}),options:n}).map(Ct(t.options().publicaEnabled))}function T(t){var e=new DOMParser,n=e.parseFromString(t,"application/xml"),r=n.getElementsByTagNameNS("*","AdBreak");if(1!==r.length)return null;var i=r[0],o=i.getAttributeNode("timeOffset").textContent;if("start"!==o)return null;var a=n.getElementsByTagNameNS("*","AdSource")[0],s=n.getElementsByTagNameNS("*","AdTagURI")[0];return s&&i&&a?{adBreak:{timeOffset:o,breakType:i.getAttributeNode("breakType").textContent,breakId:i.getAttributeNode("breakId").textContent},adSource:{id:a.getAttributeNode("id").textContent,allowMultipleAds:a.getAttributeNode("allowMultipleAds").textContent,followRedirects:a.getAttributeNode("followRedirects").textContent},adTagURI:s.textContent}:null}function w(t){var e=t.adsLoader$,n=t.selectPlayerEvents$,r=t.googleIMA$,i=t.adRequestData$,o=t.skipAdRequest$,a=t.dfp,s=t.adTag,u=void 0===s?Pt.a:s,c=t.tryExtractVASTAdRequest,l=void 0===c?Bt:c,p=n.withType("dfp-resize").take(1),d=W.a.combineLatest(e,r,o,p);return i.zip(n.withType("contentupdate")).bufferedWith(d,function(t,e){var n=Lt(t,1),r=n[0],i=Lt(e,3),o=i[0],s=i[1],c=i[2];return $t({adsLoader:o,adTag:u,adRequestData:r,dfp:a,ima:s,skipAdRequest:c})}).switchMap(function(t){return t.skipAdRequest||a.video().disableAds?W.a.of(t):l(t)}).publishReplay().refCount()}function S(t){var e=t.adDisplayContainer$;return t.googleIMA$.zip(e).publishReplay().refCount()}function O(t){var e=t.adsLoader$,n=t.adsRenderingSettings$,r=t.contentPlayback$,i=t.dfpEventTypes$,o=t.adsManagerLoaded,a=void 0===o?k:o;return e.withLatestFrom(i.pluck("ADS_MANAGER_LOADED")).switchMap(function(t){var e=Ft(t,2),n=e[0],r=e[1];return a(n,r)}).withLatestFrom(r,n)}function k(t,e){return W.a.fromEvent(t,e)}function C(t){var e=t.disableOutOfViewportAds,n=t.documentHidden$,r=t.skipAdRequestOutsideViewport$,i=function(t,n){var r=t&&e;return n||r};return r.combineLatest(n,i)}function E(t,e){var n=e.take(1).withLatestFrom(t,function(t,e){return Ht(e)}),r=t.skipUntil(e).map(Ht);return n.merge(r).startWith(!1)}function P(t){var e=t.adComplete$,n=t.allAdsCompleted$,r=t.cachedVolume$,i=t.contentPauseRequested$;return t.startPreroll$.switchMapTo(e).switchMapTo(i.withLatestFrom(r,function(t,e){return e}).takeUntil(n))}function A(t,e,n){var c=e.options(),h=c.adsDisabled,m=c.autoplay,g=c.disableOutOfViewportAds,b=c.publicaEnabled,T=W.a.of(y(h)),k=T.pluck("ima").filter(Boolean),A=n.withType("adsLoader").pluck("value"),j=n.withType("adsManager").pluck("value"),L=t.$("video.vjs-tech"),I=t.getChild("adContainer").adEl(),M=r({adContainer:I,googleIMA$:k,videoElement:L}),D=i(k),R=l(L),U=f(k),N=d({adsManager$:j,adsLoader$:A,dfpEventTypes$:U}),B=Object(G.b)(t,["cne:load-video-id","cne:viewport","contentupdate","dfp-currentvideo","dfp-resize","ended","play","readyforpreroll","volumechange"]),$=_(e,B),F=B.withType("dfp-currentvideo","volumechange").map(function(){return t.muted()?0:t.volume()}).startWith(t.muted()?0:t.volume()),V=B.withType("cne:viewport").map(function(t){return t.data}),H=E(V,B.withType("play")),q=Object(rt.a)(),z=C({disableOutOfViewportAds:g,documentHidden$:q,skipAdRequestOutsideViewport$:H}),X=w({adsLoader$:A,selectPlayerEvents$:B,adRequestData$:$,dfp:e,skipAdRequest$:z,googleIMA$:k}),Y=x(A,B),K=p({dfpAdEvent$:N,dfpEventTypes$:U}),Q=function(t){return U.pluck(t).switchMap(function(t){return N.withType(t)})},J=Q("AD_ERROR"),Z=Q("STARTED"),tt=Q("LOADED").withLatestFrom(F,function(t,e){return e}),et=Q("PAUSED"),nt=Q("RESUMED"),it=Q("CONTENT_PAUSE_REQUESTED"),ot=Q("CONTENT_RESUME_REQUESTED"),at=u(N,e.options()),st=at.map(function(t){return""!==t.html}).distinctUntilChanged(),ut=v({autoplay:m,adDisplayContainer$:M,playIntent$:B.withType("play")}),ct=o({adStarted$:Z,contentResumeRequested$:ot,requestAds$:X,vjsPlayForTimeout$:a(t)}),lt=B.withType("readyforpreroll").withLatestFrom(F,function(t,e){return e}),pt=ot.merge(ct),dt=P({adComplete$:pt,allAdsCompleted$:Q("ALL_ADS_COMPLETED"),cachedVolume$:F,contentPauseRequested$:it,startPreroll$:lt}),ht=S({adDisplayContainer$:M,googleIMA$:k}),ft=O({adsLoader$:A,adsRenderingSettings$:D,contentPlayback$:R,dfpEventTypes$:U}),yt=ht.switchMap(function(t){return ct.withLatestFrom(A,F,function(e,n,r){return{timeout:e,adsLoader:n,initialData:t,cachedVolume:r}})}),vt=ft.switchMapTo(ct.withLatestFrom(j,F,function(t,e,n){return{adsManager:e,cachedVolume:n}}));return{adDisplayContainer$:M,adError$:J,adsManager$:j,adsRenderingSettings$:D,adStarted$:Z,adTimeUpdate$:s({startPreroll$:lt,startMidroll$:dt,adComplete$:pt,adPaused$:et,adResumed$:nt}),companionAd$:at,companionAdShowing$:st,contentComplete$:Y,contentResumeRequested$:ot,currentAd$:K,initDfpAdContainer$:ut,initializeContribAds$:k.mapTo(!0),notifyPublica$:Ot({dfpAdEvent$:N,dfpEventTypes$:U,publicaEnabled:b}),requestAds$:X,requestAdsLoader$:ht,requestAdsManager$:ft,retriggerOnPlayer$:Object(Vt.a)({adsManager$:j,adRequestData$:$,dfpAdEvent$:N,dfpEventTypes$:U,requestAds$:X,timeoutAds$:yt.merge(vt)}),setAdVolume$:tt,startMidroll$:dt,startPreroll$:lt,timeoutAdsLoader$:yt,timeoutAdsManager$:vt}}function x(t,e){return t.switchMap(function(t){return e.withType("ended","cne:load-video-id").mapTo(t)})}function j(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qt;t.ads(n)}function L(t){var e=t.bodyContent,n=void 0===e?"":e,r=t.headContent,i=void 0===r?"":r,o=t.target,a=t.options,s=void 0===a?{}:a,u=document.createElement("iframe"),c={frameBorder:0,marginWidth:0,marginHeight:0};Object.assign(u,c,s);var l="<html><head>"+i+"</head><body>"+n+"</body></html>";o.appendChild(u),u.contentDocument.open(),u.contentDocument.write(l),u.contentDocument.close()}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(){try{return window.frameElement}catch(t){return null}}function D(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:M(),o=n.adDisplayContainer$,a=n.adError$,s=n.adsManager$,u=n.adsRenderingSettings$,c=n.adStarted$,l=n.adTimeUpdate$,p=n.companionAd$,d=n.companionAdShowing$,h=n.contentComplete$,f=n.currentAd$,y=n.contentResumeRequested$,v=n.initDfpAdContainer$,m=n.initializeContribAds$,g=n.notifyPublica$,b=n.requestAds$,_=n.requestAdsLoader$,T=n.requestAdsManager$,w=n.retriggerOnPlayer$,S=n.setAdVolume$,O=n.startMidroll$,k=n.startPreroll$,C=n.timeoutAdsLoader$,E=n.timeoutAdsManager$,P=t.$("video.vjs-tech"),A=j.bind(null,t),x=function(n){var r=n.adsLoader,i=n.AdsRequest,o=n.adTagUrl,a=n.height,s=n.skipAdRequest,u=n.width;if(s||e.video().disableAds)return void t.ads.skipLinearAdMode();var c=Object.assign(new i,{adTagUrl:o,linearAdSlotHeight:a,linearAdSlotWidth:u});Object(xt.b)(Jt,Zt,Qt),r.requestAds(c)},I=function(t){var e=Yt(t,2),n=e[0],i=e[1];Object(xt.b)(te,oe,Zt);var o=new n.AdsLoader(i,P);r.next({type:"adsLoader",value:o})},D=function(e){var n=e.adsLoader,r=e.initialData,i=e.cachedVolume;n.destroy(),0==i&&t.muted(!0),t.ads.skipLinearAdMode(),Object(J.c)("Ad Timeout (before adsManager was created)"),I(r)},R=function(t){var e=Yt(t,3),n=e[0],i=e[1],o=e[2];Object(xt.b)(ne,Qt,ee);var a=n.getAdsManager(i,o);r.next({type:"adsManager",value:a})},U=function(e){var n=e.adsManager,r=e.cachedVolume;n.destroy(),0==r&&t.muted(!0),t.ads.endLinearAdMode(),Object(J.c)("Ad Timeout (after adsManager was created)")},N=function(n){e.adsManager(n),t.trigger("adsready")},B=function(t){e.adDisplayContainer(t)},$=function(n){e.volume(n),Object(xt.b)(ie,void 0,re),e.startAds(),t.ads.startLinearAdMode(),t.pause(),t.src({src:"dfp-placeholder",dfp:e,type:Wt})},F=function(t){e.initAds(),$(t)},V=function(){t.trigger("timeupdate")},H=function(){return t.ads.endLinearAdMode()},q=function(){e.startedAd(),t.trigger("ads-ad-started")},z=function(t){e.volume(t)},G=function(t){return t.contentComplete()},X=function(n){n.isLinear()?t.removeClass("cne-non-linear"):t.addClass("cne-non-linear"),e.currentAd(n)},Y=function(e){return t.trigger(e)},K=function(t){var e=t.companionDivId,n=t.html,r=t.parentDivId,i=t.width,o=t.height,a=document.getElementById(e);if(!a){var s=document.getElementById(r);a=document.createElement("div"),a.id=e,s.appendChild(a)}a.innerHTML="",L({bodyContent:n,headContent:"<style>body { overflow: hidden; }</style>",target:a,options:{width:i,height:o}})},Q=function(t){if(i){var e=i.parentElement,n=parseInt(e.style.height)||0;e.style.height=t?ae+n+"px":n+"px"}},Z=function(){return t.trigger("adserror")},tt=function(){return e.initAdContainer()},et=function(t){return t()},nt=W.a.merge(o.do(B),a.do(Z),s.do(N),u,c.do(q),l.do(V),p.do(K),d.do(Q),h.do(G),y.do(H),f.do(X),v.do(tt),m.do(A),g.do(et),k.do(F),O.do($),S.do(z),b.do(x),_.do(I),T.do(R),w.do(Y),C.do(D),E.do(U));return nt}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function B(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D,r=this,i=new me(r,t),o=new se.BehaviorSubject({});n(r,i,e(r,i,o),o).subscribe(),this.dfp=i}var q=n(2),z=n.n(q),W=n(0),G=n(35),X=n(30),Y={useStyledNonLinearAds:!0,loadVideoTimeout:Object(X.f)()?4e3:2e3},K=Object(X.f)()?9e3:5e3,Q=W.a.interval(250),J=n(23),Z=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),tt=["AD_ERROR","CONTENT_RESUME_REQUESTED","CONTENT_PAUSE_REQUESTED","CLICK","DURATION_CHANGE","EXPANDED_CHANGED","STARTED","IMPRESSION","PAUSED","RESUMED","FIRST_QUARTILE","MIDPOINT","THIRD_QUARTILE","COMPLETE","USER_CLOSE","LINEAR_CHANGED","LOADED","AD_CAN_PLAY","AD_METADATA","AD_BREAK_READY","ALL_ADS_COMPLETED","SKIPPED","SKIPPABLE_STATE_CHANGED","LOG","VOLUME_CHANGED","VOLUME_MUTED"],et=function(t){var e=t.eventTarget$,n=t.dfpEventTypes$,r=t.events,i=t.fromAdEvent;return e.withLatestFrom(n).switchMap(function(t){var e=Z(t,2),n=e[0],o=e[1];return W.a.from(r).mergeMap(function(t){return i(n,o,t)})})},nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rt=n(133),it=n(345),ot=n(36),at=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},st=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ut=["golfdigest"],ct=function(t,e){return e[t]},lt=function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"rail-player":"interlude"===t?"inline-player":"player"},pt=function(){var t=window.dataLayer||window.top.dataLayer||[],e=st(t,1),n=e[0],r=n||{},i=r.content;return(void 0===i?{}:i).contentType},dt=function(t,e){return e[t]+"/player/video/watch-page/1"},ht=function(t){var e=t.brand,n=t.section,r=t.position,i=t.brandMap,o="string"==typeof n?n.toLowerCase():"misc";return i[e]+"/"+r+"/"+m(o)+"/amp/1"},ft=function(t,e,n){var r=window.top.cns||{},i=r.adUnit,o=i||{},a=o.category,s=o.contentType;return a&&s?n[t]+"/"+e+"/"+a+"/"+s:null},yt=function(){var t=window.top.copilot||{},e=t.categories;e=void 0===e?{}:e;var n=e.channels;return(void 0===n?[]:n).map(function(t){return t.slug})[0]},vt=function(){return window.top.digitalData?window.top.digitalData.section:null},mt=function(){var t=window.top.cns||{},e=t.pageContext;return e=void 0===e?{}:e,e.channel},gt=function(t){var e=t.adUnitPath,n=t.brand,r=t.position,i=t.brandMap;if(!Object(ot.a)())return e;var o=ft(n,r,i);if(o)return o;var a=yt()||vt()||mt(),s=a?m(a):null,u=pt();return(""+[i[n],r,s,u].filter(Boolean).join("/")).toLowerCase()},bt=function(t){var e=t.adUnitPath,n=t.brand,r=t.isRightRail,i=t.pageType,o=t.playerType,a=t.section,s=t.brandMap,u=t.iu;if(u)return u;if(!ct(n,s))return e;if("amp-article"===i)return ht({brand:n,section:a,position:lt(o),brandMap:s});if("videoportals"===i){if(!ut.includes(n))return dt(n,s)}return gt({adUnitPath:e,brand:n,position:lt(o,r),brandMap:s})},_t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),wt=function(t){return function(e){return function(){return t.logEvent('{"type": "'+e+'"}')}}},St=function(t){return function(e){var n,r=wt(t);return n={},b(n,e.IMPRESSION,r("IMPRESSION")),b(n,e.STARTED,r("START")),b(n,e.SKIPPED,r("SKIP")),b(n,e.CLICK,r("CLICK")),b(n,e.FIRST_QUARTILE,r("QUARTILE1")),b(n,e.MIDPOINT,r("QUARTILE2")),b(n,e.THIRD_QUARTILE,r("QUARTILE3")),b(n,e.COMPLETE,r("COMPLETE")),b(n,e.MUTED,r("MUTE")),b(n,e.ALL_ADS_COMPLETED,function(){return t("ima3_reset")}),n}},Ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dfpAdEvent$,n=t.dfpEventTypes$,r=t.publicaEnabled,i=t.pApi,o=void 0===i?window.pAPI:i;if(!r)return W.a.never();var a=n.map(St(o));return e.withLatestFrom(a).map(function(t){var e=Tt(t,2),n=e[0].type;return e[1][n]}).filter(function(t){return t})},kt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.adTagUrl,n=t.pApi,r=void 0===n?window.pAPI:n,i=t.timeout$,o=void 0===i?W.a.timer(1e3):i,a=o.mapTo(e),s=W.a.create(function(t){if(!r||!r.ready)return t.next(e),void t.complete();r.ready(function(n){n&&n.adblock_detected?t.next(r.proxyResource(e,{filter:"ima3"})):t.next(e),t.complete()})});return W.a.race(s,a)},Ct=function(t){return function(e){if(!t)return e;var n=e.adUnitPath.split("/").filter(function(t){return t.length}),r=n[1],i=r.indexOf("conde")>-1,o=i?function(t){var e=Tt(t,3);return e[0]+"/"+e[1]+"/"+e[2]+"/ab-inventory"}(n):function(t){var e=Tt(t,2);return e[0]+"/"+e[1]+"/swish"}(n);return _t({},e,{adUnitPath:o})}},Et=function(t){return function(e){var n=e.slots,r=void 0===n?[]:n,i=e.correlator,o=e.targeting,a=r.map(function(t){return t.getAdUnitPath()}).filter(function(t){return t&&!t.match(/\.cm/)})[0],s=t.adUnitPath,u=t.fallbackAdUnitPath;return{adUnitPath:(s||a||u).replace(/\/$/,""),correlator:i,targeting:o}}},Pt=n(347),At=n(57),xt=n(58),jt=n(59),Lt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),It=jt.a.ads,Mt=It.vastAdFetchStartedMark,Dt=It.vastAdFetchCompleteMark,Rt=It.vastAdFetchMeasure,Ut=function(t){var e=T(t);return e?e.adTagURI:null},Nt=function(t){return function(e){return Object(xt.a)(Mt),Object(At.a)(e).map(function(e){Object(xt.b)(Rt,Mt,Dt);var n=Ut(e.body);return n?Object.assign(t,{adTagUrl:n}):t})}},Bt=function(t){return kt(t).switchMap(Nt(t))},$t=function(t){var e=t.adsLoader,n=t.adTag,r=t.adRequestData,i=t.dfp,o=t.ima,a=t.skipAdRequest,s=i.options(),u=s.aoTest,c=s.companionSize,l=s.embedLocation,p=s.urlVars,d=s.isRightRail,h=s.ampTargeting,f=s.cntPlatform,y=s.prebidData,v=i.width(),m=i.height(),g=i.infinityId(),b=i.mutedConfig(),_=i.playerSizeForAdRequest();return{adsLoader:e,AdsRequest:o.AdsRequest,adTagUrl:n({aoTest:u,companionSize:c,embedLocation:l,height:m,infinityId:g,muted:b,adRequestData:r,playerSizeForAdRequest:_,isRightRail:d,urlVars:p,width:v,ampTargeting:h,cntPlatform:f,prebidData:y}),height:m,width:v,skipAdRequest:a}},Ft=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Vt=n(88),Ht=function(t){return"FULLY_IN_VIEWPORT"!==t},qt={liveCuePoints:!1},zt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Wt="dfp",Gt={canHandleSource:function(t){return t.type===Wt},canPlayType:function(t){return t===Wt?"maybe":""},handleSource:function(t,e){var n=t.dfp;return new Xt(n,e)}},Xt=function(){function t(e,n){I(this,t),this.tech_=n,n.setupAdMode(e)}return zt(t,[{key:"dispose",value:function(){this.tech_.disposeAdMode()}}]),t}(),Yt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Kt=jt.a.ads,Qt=Kt.requestAdsMark,Jt=Kt.requestAdsMeasure,Zt=Kt.requestAdsLoaderMark,te=Kt.requestAdsLoaderMeasure,ee=Kt.requestAdsManagerMark,ne=Kt.requestAdsManagerMeasure,re=Kt.adStartingMark,ie=Kt.adStartingMeasure,oe=jt.a.js.evaluatedJSMark,ae=75,se=n(127),ue=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ce=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},le=z.a.getTech("Html5"),pe=z.a.getTech("Tech"),de=function(t){function e(){return R(this,e),U(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return N(e,t),ue(e,[{key:"adMode",value:function(t){return"boolean"==typeof t&&(this.adMode_=t),this.adMode_||!1}},{key:"setupAdMode",value:function(t){var e=this;this.dfp=t,this.adMode(!0),this.trigger("durationchange"),this.dfp.on("dfp-currentad",function(){return e.trigger("durationchange")})}},{key:"disposeAdMode",value:function(){this.adMode(!1),this.dfp.el()&&this.dfp.off("dfp-currentad"),delete this.dfp,delete this.adIsPaused_}},{key:"pause",value:function(){if(this.adMode()){if(this.paused())return;this.adIsPaused_=!0,this.dfp.pause(),this.trigger({type:"pause",adMode:!0})}else ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"pause",this).call(this)}},{key:"play",value:function(){if(this.adMode()){if(!this.paused())return;this.adIsPaused_=!1,this.dfp.play(),this.trigger({type:"play",adMode:!0})}else ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this)}},{key:"load",value:function(){this.adMode()||ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"load",this).call(this)}},{key:"paused",value:function(){return this.adMode()?void 0===this.adIsPaused_||!!this.adIsPaused_:ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"paused",this).call(this)}},{key:"volume",value:function(){return this.adMode()?this.dfp.volume():ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"volume",this).call(this)}},{key:"setVolume",value:function(t){this.adMode()&&(this.dfp.volume(t),this.trigger("volumechange")),ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setVolume",this).call(this,t)}},{key:"muted",value:function(){return this.adMode()?0===this.volume():ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"muted",this).call(this)}},{key:"setMuted",value:function(t){this.adMode()?t?(this.preMutedVolume_=this.volume(),this.setVolume(0)):this.setVolume(this.preMutedVolume_||1):t||0!==ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"volume",this).call(this)||this.setVolume(this.preMutedVolume_||1),ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMuted",this).call(this,t),this.trigger("volumechange")}},{key:"duration",value:function(){if(this.adMode()){var t=this.dfp.duration();return this._parseAdDuration(t)}return ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"duration",this).call(this)}},{key:"_parseAdDuration",value:function(t){var e=parseFloat(t);return e&&e>0?e:0}},{key:"currentTime",value:function(){return this.adMode()?this._adCurrentTime():ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"currentTime",this).call(this)}},{key:"_adCurrentTime",value:function(){var t=this.dfp.remainingTime(),e=this.duration();return t<0?0:e?e-t:t}}]),e}(le);pe.withSourceHandlers(de),de.registerSourceHandler(Gt),z.a.registerTech("Html5",de);var he=n(141),fe=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ye=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},ve=z.a.getComponent("Component"),me=function(t){function e(t,n){$(this,e);var r=F(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.muted_=r.options_.muted,r.inViewportAutoplay_=!r.options_.isIframeEmbed&&r.options_.autoplay,r.autoplay_=r.options_.autoplay,r.startedAd_=!1,r}return V(e,t),fe(e,[{key:"options",value:function(){return this.options_}},{key:"dispose",value:function(t){if(t){var n=[t.adTimeoutTimeout,t.cancelPlayTimeout],r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;window.clearTimeout(u)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}this.adDisplayContainerCall_("destroy"),this.adsManagerCall_("destroy"),ye(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}},{key:"adsManager",value:function(t){if(!t)return this.adsManager_;this.adsManagerCall_("destroy"),this.adsManager_=t}},{key:"adDisplayContainer",value:function(t){if(!t)return this.adDisplayContainer_;this.adDisplayContainerCall_("destroy"),this.adDisplayContainer_=t}},{key:"currentAd",value:function(t){if(!t)return this.currentAd_;this.currentAd_=t,this.sendLineItemToGPT_(),this.trigger("dfp-currentad")}},{key:"initAds",value:function(){this.adsManagerCall_("init",this.width(),this.height(),this.viewMode())}},{key:"startAds",value:function(){this.startedAd_=!1,this.adsManagerCall_("start")}},{key:"startedAd",value:function(){this.startedAd_=!0}},{key:"initAdContainer",value:function(){this.adDisplayContainerCall_("initialize")}},{key:"resize",value:function(t,e,n){this.width_=t,this.height_=e,this.viewMode_=n,this.adsManagerCall_("resize",t,e,n),this.player().trigger("dfp-resize")}},{key:"viewMode",value:function(){return this.viewMode_||"normal"}},{key:"height",value:function(){return this.height_}},{key:"width",value:function(){return this.width_}},{key:"playerSizeForAdRequest",value:function(){return"interlude"===this.options().playerType?"640x360":"640x480"}},{key:"play",value:function(){this.startedAd_&&this.adsManagerCall_("resume")}},{key:"pause",value:function(){this.startedAd_&&this.adsManagerCall_("pause")}},{key:"skip",value:function(){this.adsManagerCall_("skip")}},{key:"volume",value:function(t){var e=this.adsManagerGet_("getVolume");if("number"!=typeof t||t===e)return e;this.adsManagerCall_("setVolume",t)}},{key:"duration",value:function(){return this.currentAdGet_("getDuration")}},{key:"remainingTime",value:function(){return this.adsManagerGet_("getRemainingTime")}},{key:"video",value:function(t){if(!t)return this.video_||{};this.video_=t,this.player().trigger({type:"dfp-currentvideo",value:t})}},{key:"infinityId",value:function(t){return t&&(this.infinityId_=t),this.infinityId_}},{key:"mutedConfig",value:function(t){if(void 0===t)return this.muted_;this.muted_=t}},{key:"sendLineItemToGPT_",value:function(){if(Object(ot.a)()&&window.top.googletag)try{var t=this.currentAdGet_("adId"),e=this.currentAdGet_("getWrapperAdSystems"),n=this.currentAdGet_("getWrapperAdIds"),r=Object(he.a)(t,e,n),i=window.top.googletag.pubads().getTargeting("ctx_line_items")||[],o=[].concat(B(i),[r]),a=[].concat(B(new Set(o)));window.top.googletag.pubads().setTargeting("ctx_line_items",a)}catch(t){Object(J.b)("Error thrown setting GPT targeting",t)}}},{key:"restartAd",value:function(){var t=this.player();t.ads.endLinearAdMode(),t.trigger("contentresumed"),this.adsManagerCall_("destroy")}},{key:"adsManagerCall_",value:function(t){var e=this.adsManager();if(e&&"function"==typeof e[t]){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e[t].apply(e,r)}}},{key:"adsManagerGet_",value:function(t){var e=this.adsManager();if(e&&"function"==typeof e[t]){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e[t].apply(e,r)}}},{key:"adDisplayContainerCall_",value:function(t){var e=this.adDisplayContainer();if(e&&"function"==typeof e[t]){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e[t].apply(e,r)}}},{key:"currentAdGet_",value:function(t){var e=this.currentAd();if(e&&"function"==typeof e[t])return e[t]()}}]),e}(ve);z.a.registerPlugin("dfp",H)},function(t,e,n){"use strict";(function(t){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.gpt,i=void 0===r?p():r,s=n.timeout$,f=void 0===s?a.a.timer(c):s,y=e.embedLocation,v=void 0===y?"":y;if(!v.length)return t("Not checking for ad targeting data: not on O&O"),l("notOnOO",e)(),a.a.of({});if(v.endsWith("videoportal"))return t("Not checking ad targeting data: on video watch page"),l("onVideoWatchPage",e)(),a.a.of({});if(!i)return t("Not checking ad targeting data: no GPT library found"),l("gptNotFound",e)(),a.a.of({});var m=Object(o.a)(i),g=d(m,e),b=d(m,u({gptQueue:!0,gpt:i},e)),_=b().do(function(n){t("Initial gpt check successful"),l("initial",e)(n)}),T=h(i).switchMap(g).do(function(n){t("slotRenderEnded gpt check successful"),l("slotRenderEnded",e)(n)}),w=f.map(m).do(function(n){t("gpt check timed out"),l("timedOut",e)(n)});return a.a.race(_,T,w)}e.a=r;var i=n(36),o=n(346),a=n(0),s=n(23),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=3e3,l=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.adUnits,i=n.error,o=void 0===i?"":i,a=n.targeting,u=void 0===a?{}:a,c=e.embedLocation,l=e.publicaEnabled,p=e.videoId;Object(s.c)("gptData",t,{dim1:JSON.stringify({adBlocked:!(window.google&&window.google.ima),adUnits:r,embedLocation:c,error:o,lineItems:u.ctx_line_items,publicaEnabled:l,videoId:p})})}},p=function(){return Object(i.a)()?(window.parent.googletag=window.parent.googletag||{},window.parent.googletag.cmd=window.parent.googletag.cmd||[],window.parent.googletag):null},d=function(e,n){return function(){var r=n.gptQueue,i=void 0!==r&&r,o=n.gpt;return a.a.create(function(r){var a=function(){var i=e();return i.adsRendered?(r.next(i),r.complete()):(t("GPT Ads Not Loaded"),void(i.error&&(t("GPT Error",i.error),l("gptError",n)(i))))};i?o.cmd.push(a):a()})}},h=function(t){return a.a.create(function(e){t.cmd.push(function(){t.pubads().addEventListener("slotRenderEnded",function(){e.next(),e.complete()})})})}}).call(e,n(16).default)},function(t,e,n){"use strict";(function(t){function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var r=function(t){return(t.getTargetingKeys()||[]).reduce(function(e,n){return e[n]=t.getTargeting(n),e},{})},i=function(e){return window.parent.cnBus&&window.parent.cnBus.history("ads.refreshing.#").length?(t("Ad render check passed via cnBus"),!0):e.map(function(t){return t.getSlotElementId()}).filter(function(t){return window.parent.document.querySelectorAll("#"+t+" div[id^='google_ads_iframe']").length>0}).length>0?(t("Ad render check passed via DOM Iframes"),!0):(t("Ad render check failed"),!1)},o=function(t){return t.filter(function(t){return t.getOutOfPage()}).map(function(t){var e=t.getResponseInformation();return e&&e.lineItemId}).filter(Boolean)},a=function(){return window.top.cne_failsafe_lineitem||[]},s=function(){var t=window.top._cne&&window.top._cne.cnsInfo&&window.top._cne.cnsInfo[0];return t?t.sopLineItem:null},u=function(e){return e?function(){try{var u=e.pubads(),c=u.getSlots()||[],l=u.getCorrelator(),p=r(u),d=p.ctx_line_items||[],h=i(c),f=o(c),y=a(),v=s(),m=[].concat(n(d),n(f),n(y),[v]).filter(Boolean).map(function(t){return t.toString()});return p.ctx_line_items=[].concat(n(new Set(m))),t("found lineItems:",p.ctx_line_items),{adsRendered:h,adUnits:c.map(function(t){return t.getAdUnitPath()}),correlator:l,slots:c,targeting:p}}catch(t){return{error:t.message}}}:(t("GPT Not Present"),null)};e.a=u}).call(e,n(16).default)},function(t,e,n){"use strict";(function(t){function r(e){var n=e.aoTest,r=e.companionSize,s=e.embedLocation,p=e.height,d=e.infinityId,h=e.muted,f=e.adRequestData,y=e.playerSizeForAdRequest,v=e.isRightRail,m=e.urlVars,g=e.width,b=e.ampTargeting,_=e.cntPlatform,T=e.prebidData,w=f.adUnitPath,S=f.correlator,O=f.targeting,k=f.video,C=l(O,b),E=a(s),P=o({},C,T,{ao_test:n||m.get("ao_test"),excl_cat:E,height:Math.round(p),mbid:m.get("mbid"),muted:h?1:0,right_rail:v?1:0,sensitive:k.sensitive,series:k.series_id,width:Math.round(g),cnt_platform:_});k.dfp_cms_id===u&&["height","muted","sensitive","width"].forEach(function(t){P["cne_"+t]=P[t],delete P[t]});var A=encodeURIComponent(Object(i.a)(P));t("CUST_PARAMS: ",A);var x={sz:y+"|480x70",iu:w,ciu_szs:r.width+"x"+r.height,gdfp_req:"1",env:"vp",output:"vmap",unviewed_position_start:"1",cust_params:A,correlator:S,description_url:encodeURIComponent(k.url||""),vid:k.id,cmsid:k.dfp_cms_id||"1495",ppid:d?d.replace(/-/g,""):""},j=Object(i.a)(x,{escape:!1,removeNull:!1}),L="https://pubads.g.doubleclick.net/gampad/ads?"+j;return c()||L}e.a=r;var i=n(22),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(t){return t?null:"player_embed"},s=/^https?:\/\/|^\/\//,u="2549131",c=function(){var t=window,e=t._CNE_AD_FIXTURE_;return e&&s.test(e)?e:(delete window._CNE_AD_FIXTURE_,null)},l=function(e,n){if(e)return e;try{var r=JSON.parse(n);if(r)return r}catch(e){t("Error Parsing ampTargeting")}return t("No Valid Ad Targeting Data Found"),{}}}).call(e,n(16).default)},function(t,e,n){"use strict";function r(t){var e=t?t.split(/x/i):[],n=i(e,2),r=n[0],o=n[1];return{width:r||"300",height:o||"60"}}e.a=r;var i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";function r(){return window._cne=window._cne||{},window._cne}e.a=r},function(t,e,n){!function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/;?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=a.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var l=s.path,p=l.substring(0,l.lastIndexOf("/")+1)+o.path;c.path=a.normalizePath(p)}else c.path=s.path,o.params||(c.params=s.params,o.query||(c.query=s.query));return null===c.path&&(c.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(c)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},function(t,e,n){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof self?t.exports=self:t.exports={}},function(t,e,n){"use strict";var r,i,o,a,s,u,c,l,p,d,h,f,y,v,m,g,b,_,T,w,S,O,k,C,E,P,A,x,j,L,I,M,D,R,U,N,B=Math.pow(2,32)-1;!function(){var t;if(k={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in k)k.hasOwnProperty(t)&&(k[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),P=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),x=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),j={video:A,audio:x},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),R=D,U=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=D,L=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(t){var e,n,r,i=[],o=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)o+=i[e].byteLength;for(n=new Uint8Array(o+8),r=new DataView(n.buffer,n.byteOffset,n.byteLength),r.setUint32(0,n.byteLength),n.set(t,4),e=0,o=8;e<i.length;e++)n.set(i[e],o),o+=i[e].byteLength;return n},i=function(){return r(k.dinf,r(k.dref,M))},o=function(t){return r(k.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},a=function(){return r(k.ftyp,C,E,C,P)},g=function(t){return r(k.hdlr,j[t])},s=function(t){return r(k.mdat,t)},m=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),r(k.mdhd,e)},v=function(t){return r(k.mdia,m(t),g(t.type),c(t))},u=function(t){return r(k.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},c=function(t){return r(k.minf,"video"===t.type?r(k.vmhd,L):r(k.smhd,I),i(),_(t))},l=function(t,e){for(var n=[],i=e.length;i--;)n[i]=w(e[i]);return r.apply(null,[k.moof,u(t)].concat(n))},p=function(t){for(var e=t.length,n=[];e--;)n[e]=f(t[e]);return r.apply(null,[k.moov,h(4294967295)].concat(n).concat(d(t)))},d=function(t){for(var e=t.length,n=[];e--;)n[e]=S(t[e]);return r.apply(null,[k.mvex].concat(n))},h=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(k.mvhd,e)},b=function(t){var e,n,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)e=i[n].flags,o[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return r(k.sdtp,o)},_=function(t){return r(k.stbl,T(t),r(k.stts,N),r(k.stsc,R),r(k.stsz,U),r(k.stco,D))},function(){var t,e;T=function(n){return r(k.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?t(n):e(n))},t=function(t){var e,n=t.sps||[],i=t.pps||[],o=[],a=[];for(e=0;e<n.length;e++)o.push((65280&n[e].byteLength)>>>8),o.push(255&n[e].byteLength),o=o.concat(Array.prototype.slice.call(n[e]));for(e=0;e<i.length;e++)a.push((65280&i[e].byteLength)>>>8),a.push(255&i[e].byteLength),a=a.concat(Array.prototype.slice.call(i[e]));return r(k.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(k.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length]).concat(o).concat([i.length]).concat(a))),r(k.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},e=function(t){return r(k.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),o(t))}}(),y=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return r(k.tkhd,e)},w=function(t){var e,n,i,o,a,s,u;return e=r(k.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(t.baseMediaDecodeTime/(B+1)),u=Math.floor(t.baseMediaDecodeTime%(B+1)),n=r(k.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),a=92,"audio"===t.type?(i=O(t,a),r(k.traf,e,n,i)):(o=b(t),i=O(t,o.length+a),r(k.traf,e,n,i,o))},f=function(t){return t.duration=t.duration||4294967295,r(k.trak,y(t),v(t))},S=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),r(k.trex,e)},function(){var t,e,n;n=function(t,e){var n=0,r=0,i=0,o=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(r=2),void 0!==t[0].flags&&(i=4),void 0!==t[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},e=function(t,e){var i,o,a,s;for(o=t.samples||[],e+=20+16*o.length,i=n(o,e),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return r(k.trun,new Uint8Array(i))},t=function(t,e){var i,o,a,s;for(o=t.samples||[],e+=20+8*o.length,i=n(o,e),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return r(k.trun,new Uint8Array(i))},O=function(n,r){return"audio"===n.type?t(n,r):e(n,r)}}(),t.exports={ftyp:a,mdat:s,moof:l,moov:p,initSegment:function(t){var e,n=a(),r=p(t);return e=new Uint8Array(n.byteLength+r.byteLength),e.set(n),e.set(r,n.byteLength),e}}},function(t,e,n){"use strict";var r=n(60),i=n(354),o=function(){o.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new l(0,0),new l(0,1),new l(1,0),new l(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};o.prototype=new r,o.prototype.push=function(t){var e,n,r;if("sei_rbsp"===t.nalUnitType&&(e=i.parseSei(t.escapedRBSP),e.payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(n=i.parseUserData(e)))){if(t.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=i.parseCaptionPackets(t.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},o.prototype.flush=function(){if(!this.captionPackets_.length)return void this.ccStreams_.forEach(function(t){t.flush()},this);this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)},o.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},o.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},o.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},o.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(t){return null===t?"":(t=a[t]||t,String.fromCharCode(t))},u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var t=[],e=15;e--;)t.push("");return t},l=function(t,e){l.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,r,i,o;if((e=32639&t.ccData)===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),r=e>>>8,i=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=c();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(r,i))r=(3&r)<<8,o=s(r|i),this[this.mode_](t.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=(3&r)<<8,o=s(r|i),this[this.mode_](t.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&i)&&this.addFormatting(t.pts,["i"]),1==(1&i)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=u.indexOf(7968&e);"rollUp"===this.mode_&&this.setRollUp(t.pts,a),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=s(r),o+=s(i),this[this.mode_](t.pts,o),this.column_+=o.length)}};l.prototype=new r,l.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},l.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},l.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},l.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},l.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},l.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},l.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},l.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},l.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},l.prototype.isNormalChar=function(t){return t>=32&&t<=127},l.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},l.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},l.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},l.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},l.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},l.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},l.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},t.exports={CaptionStream:o,Cea608Stream:l}},function(t,e,n){"use strict";var r=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},r=0,i=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)r+=255,e++;for(r+=t[e++];255===t[e];)i+=255,e++;if(i+=t[e++],!n.payload&&4===r){n.payloadType=r,n.payloadSize=i,n.payload=t.subarray(e,e+i);break}e+=i,r=0,i=0}return n},i=function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},o=function(t,e){var n,r,i,o,a=[];if(!(64&e[0]))return a;for(r=31&e[0],n=0;n<r;n++)i=3*n,o={type:3&e[i+2],pts:t},4&e[i+2]&&(o.ccData=e[i+3]<<8|e[i+4],a.push(o));return a},a=function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n};t.exports={parseSei:r,parseUserData:i,parseCaptionPackets:o,discardEmulationPreventionBytes:a,USER_DATA_REGISTERED_ITU_T_T35:4}},function(t,e,n){"use strict";var r=n(60),i=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},o=function(t){var e,n;o.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=i(t.dts,n),t.pts=i(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){n=void 0,e=void 0}};o.prototype=new r,t.exports={TimestampRolloverStream:o,handleRollover:i}},,function(t,e,n){n(145),n(156),n(178),n(183),n(185),n(186),t.exports=n(358)},function(t,e,n){"use strict";function r(t){for(var e=m.a.atob(t),n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function i(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}function o(t,e){return function(n){var r=this;if(!e)return new on(t);if(on&&!n){var i=e.toString().replace(/^function.+?{/,"").slice(0,-1),o=a(i);return this[tn]=new on(o),s(this[tn],o),this[tn]}var u={postMessage:function(t){r.onmessage&&setTimeout(function(){r.onmessage({data:t,target:u})})}};e.call(u),this.postMessage=function(t){setTimeout(function(){u.onmessage({data:t,target:r})})},this.isThisThread=!0}}function a(t){try{return rn.createObjectURL(new Blob([t],{type:en}))}catch(n){var e=new nn;return e.append(t),rn.createObjectURL(e.getBlob(type))}}function s(t,e){if(t&&e){var n=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&rn.revokeObjectURL(t.objURL),n.call(t)}}}function u(){}function c(t,e,n){var r=["hls-request-manifest","hls-request-playlist","hls-request-segment-1"],i=r.length,o=0,a={uri:"",count:0},s=function(t,n){var r=".ts"===n?8:3;if(t!==a.uri)return void(a={uri:t,count:0});++a.count===r&&(e.trigger("intent:pause"),e.error({code:0,message:"unable to fetch hls segment or playlist"}))};t.Hls.xhr.beforeRequest=function(t){var a=t.uri.match(/(m3u8?|ts)$/g);!!n.live_metadata&&a&&s(t.uri,a[0]),t.uri.endsWith("requester=oo")||(t.uri=t.uri.concat("?","requester=oo")),o<i&&(e.trigger(r[o]),o++)}}function l(){return 2097152}function p(t){Object(fi.b)(t.video.localized_messages);var e=!!t.video.live_metadata,n={fluid:!0,autoplay:!1,preload:"metadata",children:Object(pi.a)(),html5:{nativeTextTracks:e&&Object(li.g)()||Object(li.d)(),hls:{bandwidth:l(),overrideNative:!h.a.browser.IS_SAFARI},nativeAudioTracks:h.a.browser.IS_SAFARI,nativeVideoTracks:h.a.browser.IS_SAFARI},persistTextTrackSettings:!0,language:t.video.locale,videos_js_language_data:t.video.videos_js_language_data},r=Object(ui.a)(h.a,t,n),i=r.facade,o=r.player;return c(h.a,o,t.video),i}Object.defineProperty(e,"__esModule",{value:!0});var d=n(2),h=n.n(d),f=(n(191),n(350)),y=n.n(f),v=n(351),m=n.n(v),g=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},T=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},w=function(){function t(){g(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},t.prototype.trigger=function(t){var e=this.listeners[t],n=void 0,r=void 0,i=void 0;if(e)if(2===arguments.length)for(r=e.length,n=0;n<r;++n)e[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=e.length,n=0;n<r;++n)e[n].apply(this,i)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),S=function(t){function e(){g(this,e);var n=T(this,t.call(this));return n.buffer="",n}return _(e,t),e.prototype.push=function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(w),O=function(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')},k=function(t){for(var e=t.split(O()),n={},r=e.length,i=void 0;r--;)""!==e[r]&&(i=/([^=]*)=(.*)/.exec(e[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),n[i[0]]=i[1]);return n},C=function(t){function e(){g(this,e);var n=T(this,t.call(this));return n.customParsers=[],n}return _(e,t),e.prototype.push=function(t){var e=void 0,n=void 0;if(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==t.length){if("#"!==t[0])return void this.trigger("data",{type:"uri",uri:t});for(var r=0;r<this.customParsers.length;r++)if(this.customParsers[r].call(this,t))return;if(0!==t.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:t.slice(1)});if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void this.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void this.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void this.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var i=k(e[1]);if(i.URI&&(n.uri=i.URI),i.BYTERANGE){var o=i.BYTERANGE.split("@"),a=o[0],s=o[1];n.byterange={},a&&(n.byterange.length=parseInt(a,10)),s&&(n.byterange.offset=parseInt(s,10))}}return void this.trigger("data",n)}if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=k(e[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),c={};u[0]&&(c.width=parseInt(u[0],10)),u[1]&&(c.height=parseInt(u[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void this.trigger("data",n)}if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=k(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))return void this.trigger("data",{type:"tag",tagType:"endlist"});if(e=/^#EXT-X-DISCONTINUITY/.exec(t))return void this.trigger("data",{type:"tag",tagType:"discontinuity"});if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=k(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=k(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:t.slice(4)})}},e.prototype.addParser=function(t){var e=this,n=t.expression,r=t.customType,i=t.dataParser,o=t.segment;"function"!=typeof i&&(i=function(t){return t}),this.customParsers.push(function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:i(t),customType:r,segment:o}),!0})},e}(w),E=function(t){function e(){g(this,e);var n=T(this,t.call(this));n.lineStream=new S,n.parseStream=new C,n.lineStream.pipe(n.parseStream);var r=n,i=[],o={},a=void 0,s=void 0,u=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l=0;return n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},n.parseStream.on("data",function(t){var e=void 0,n=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(o.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(o.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(o.duration=t.duration),0===t.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){return t.attributes?"NONE"===t.attributes.METHOD?void(s=null):t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void(void 0!==t.attributes.IV&&(s.iv=t.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){if(!isFinite(t.number))return void this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number});this.manifest.mediaSequence=t.number},"discontinuity-sequence":function(){if(!isFinite(t.number))return void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number});this.manifest.discontinuitySequence=t.number,l=t.number},"playlist-type":function(){if(!/VOD|EVENT/.test(t.playlistType))return void this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist});this.manifest.playlistType=t.playlistType},map:function(){a={},t.uri&&(a.uri=t.uri),t.byterange&&(a.byterange=t.byterange)},"stream-inf":function(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!t.attributes)return void this.trigger("warn",{message:"ignoring empty stream-inf attributes"});o.attributes||(o.attributes={}),b(o.attributes,t.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var r=this.manifest.mediaGroups[t.attributes.TYPE];r[t.attributes["GROUP-ID"]]=r[t.attributes["GROUP-ID"]]||{},e=r[t.attributes["GROUP-ID"]],n={default:/yes/i.test(t.attributes.DEFAULT)},n.default?n.autoselect=!0:n.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(n.language=t.attributes.LANGUAGE),t.attributes.URI&&(n.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(n.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(n.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(n.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=n},discontinuity:function(){l+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),o.dateTimeString=t.dateTimeString,o.dateTimeObject=t.dateTimeObject},targetduration:function(){if(!isFinite(t.duration)||t.duration<0)return void this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration});this.manifest.targetDuration=t.duration},totalduration:function(){if(!isFinite(t.duration)||t.duration<0)return void this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration});this.manifest.totalDuration=t.duration},start:function(){if(!t.attributes||isNaN(t.attributes["TIME-OFFSET"]))return void this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}},"cue-out":function(){o.cueOut=t.data},"cue-out-cont":function(){o.cueOutCont=t.data},"cue-in":function(){o.cueIn=t.data}})[t.tagType]||u).call(r)},uri:function(){o.uri=t.uri,i.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),s&&(o.key=s),o.timeline=l,a&&(o.map=a),o={}},comment:function(){},custom:function(){t.segment?(o.custom=o.custom||{},o.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)}),n}return _(e,t),e.prototype.push=function(t){this.lineStream.push(t)},e.prototype.end=function(){this.lineStream.push("\n")},e.prototype.addParser=function(t){this.parseStream.addParser(t)},e}(w),P=n(359),A=n.n(P),x=function(t){var e,n=t.attributes,r=t.segments,i={attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(i.contentProtection=n.contentProtection),i},j=function(t){var e,n=t.attributes,r=t.segments;return void 0===r&&(r=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration),{attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1}},L=function(t){return t.reduce(function(t,e){var n=e.attributes.role&&e.attributes.role.value||"main",r=e.attributes.lang||"",i="main";return r&&(i=e.attributes.lang+" ("+n+")"),t[i]&&t[i].playlists[0].attributes.BANDWIDTH>e.attributes.bandwidth?t:(t[i]={language:r,autoselect:!0,default:"main"===n,playlists:[x(e)],uri:""},t)},{})},I=function(t){return t.reduce(function(t,e){var n=e.attributes.lang||"text";return t[n]?t:(t[n]={language:n,default:!1,autoselect:!1,playlists:[j(e)],uri:""},t)},{})},M=function(t){var e,n=t.attributes,r=t.segments,i={attributes:(e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(i.contentProtection=n.contentProtection),i},D=function(t){var e;if(!t.length)return{};var n=t[0].attributes,r=n.sourceDuration,i=n.minimumUpdatePeriod,o=void 0===i?0:i,a=function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType},s=function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType},u=function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType},c=t.filter(a).map(M),l=t.filter(s),p=t.filter(u),d={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:r,playlists:c,minimumUpdatePeriod:1e3*o};return l.length&&(d.mediaGroups.AUDIO.audio=L(l)),p.length&&(d.mediaGroups.SUBTITLES.subs=I(p)),d},R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U=function(t){return!!t&&"object"===(void 0===t?"undefined":R(t))},N=function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce(function(e,n){return Object.keys(n).forEach(function(r){Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=e[r].concat(n[r]):U(e[r])&&U(n[r])?e[r]=t(e[r],n[r]):e[r]=n[r]}),e},{})},B=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=y.a.buildAbsoluteURL(m.a.location.href,t)),y.a.buildAbsoluteURL(t,e))},$=function(t){var e=t.baseUrl,n=void 0===e?"":e,r=t.source,i=void 0===r?"":r,o=t.range,a=void 0===o?"":o,s={uri:i,resolvedUri:B(n||"",i)};if(a){var u=a.split("-"),c=parseInt(u[0],10),l=parseInt(u[1],10);s.byterange={length:l-c,offset:c}}return s},F=function(t,e,n){var r=t.NOW,i=t.clientOffset,o=t.availabilityStartTime,a=t.timescale,s=void 0===a?1:a,u=t.start,c=void 0===u?0:u,l=t.minimumUpdatePeriod,p=void 0===l?0:l,d=(r+i)/1e3,h=o+c,f=d+p,y=f-h;return Math.ceil((y*s-e)/n)},V=function(t,e){for(var n=t.type,r=void 0===n?"static":n,i=t.minimumUpdatePeriod,o=void 0===i?0:i,a=t.media,s=void 0===a?"":a,u=t.sourceDuration,c=t.timescale,l=void 0===c?1:c,p=t.startNumber,d=void 0===p?1:p,h=t.periodIndex,f=[],y=-1,v=0;v<e.length;v++){var m=e[v],g=m.d,b=m.r||0,_=m.t||0;y<0&&(y=_),_&&_>y&&(y=_);var T=void 0;if(b<0){var w=v+1;T=w===e.length?"dynamic"===r&&o>0&&s.indexOf("$Number$")>0?F(t,y,g):(u*l-y)/g:(e[w].t-y)/g}else T=b+1;for(var S=d+f.length+T,O=d+f.length;O<S;)f.push({number:O,duration:g/l,time:y,timeline:h}),y+=g,O++}return f},H=function(t,e){for(var n=[],r=t;r<e;r++)n.push(r);return n},q=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},z=function(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},W={static:function(t){var e=t.duration,n=t.timescale,r=void 0===n?1:n,i=t.sourceDuration;return{start:0,end:Math.ceil(i/(e/r))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,r=t.availabilityStartTime,i=t.timescale,o=void 0===i?1:i,a=t.duration,s=t.start,u=void 0===s?0:s,c=t.minimumUpdatePeriod,l=void 0===c?0:c,p=t.timeShiftBufferDepth,d=void 0===p?1/0:p,h=(e+n)/1e3,f=r+u,y=h+l,v=y-f,m=Math.ceil(v*o/a),g=Math.floor((h-f-d)*o/a),b=Math.floor((h-f)*o/a);return{start:Math.max(0,g),end:Math.min(m,b)}}},G=function(t){return function(e,n){var r=t.duration,i=t.timescale,o=void 0===i?1:i,a=t.periodIndex,s=t.startNumber;return{number:(void 0===s?1:s)+e,duration:r/o,timeline:a,time:n*r}}},X=function(t){var e=t.type,n=void 0===e?"static":e,r=t.duration,i=t.timescale,o=void 0===i?1:i,a=t.sourceDuration,s=W[n](t),u=s.start,c=s.end,l=H(u,c).map(G(t));if("static"===n){var p=l.length-1;l[p].duration=a-r/o*p}return l},Y=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,K=function(t){return function(e,n,r,i){if("$$"===e)return"$";if(void 0===t[n])return e;var o=""+t[n];return"RepresentationID"===n?o:(i=r?parseInt(i,10):1,o.length>=i?o:""+new Array(i-o.length+1).join("0")+o)}},Q=function(t,e){return t.replace(Y,K(e))},J=function(t,e){return t.duration||e?t.duration?X(t):V(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]},Z=function(t,e){var n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},r=t.initialization,i=void 0===r?{sourceURL:"",range:""}:r,o=$({baseUrl:t.baseUrl,source:Q(i.sourceURL,n),range:i.range});return J(t,e).map(function(e){n.Number=e.number,n.Time=e.time;var r=Q(t.media||"",n);return{uri:r,timeline:e.timeline,duration:e.duration,resolvedUri:B(t.baseUrl||"",r),map:o,number:e.number}})},tt={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},et=function(t,e){var n=t.baseUrl,r=t.initialization,i=void 0===r?{}:r,o=$({baseUrl:n,source:i.sourceURL,range:i.range}),a=$({baseUrl:n,source:e.media,range:e.mediaRange});return a.map=o,a},nt=function(t,e){var n=t.duration,r=t.segmentUrls,i=void 0===r?[]:r;if(!n&&!e||n&&e)throw new Error(tt.SEGMENT_TIME_UNSPECIFIED);var o=i.map(function(e){return et(t,e)}),a=void 0;return n&&(a=X(t)),e&&(a=V(t,e)),a.map(function(t,e){if(o[e]){var n=o[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}}).filter(function(t){return t})},rt=function(t){var e=t.baseUrl,n=t.initialization,r=void 0===n?{}:n,i=t.sourceDuration,o=t.timescale,a=void 0===o?1:o,s=t.indexRange,u=void 0===s?"":s,c=t.duration;if(!e)throw new Error(tt.NO_BASE_URL);var l=$({baseUrl:e,source:r.sourceURL,range:r.range}),p=$({baseUrl:e,source:e,range:u});if(p.map=l,c){var d=X(t);d.length&&(p.duration=d[0].duration,p.timeline=d[0].timeline)}else i&&(p.duration=i/a,p.timeline=0);return p.number=0,[p]},it=function(t){var e=t.attributes,n=t.segmentInfo,r=void 0,i=void 0;if(n.template?(i=Z,r=N(e,n.template)):n.base?(i=rt,r=N(e,n.base)):n.list&&(i=nt,r=N(e,n.list)),!i)return{attributes:e};var o=i(r,n.timeline);if(r.duration){var a=r,s=a.duration,u=a.timescale,c=void 0===u?1:u;r.duration=s/c}else o.length?r.duration=o.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):r.duration=0;return{attributes:r,segments:o}},ot=function(t){return t.map(it)},at=function(t,e){return z(t.childNodes).filter(function(t){return t.tagName===e})},st=function(t){return t.textContent.trim()},ut=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,n=e.exec(t);if(!n)return 0;var r=n.slice(1),i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(o||0)+86400*parseFloat(a||0)+3600*parseFloat(s||0)+60*parseFloat(u||0)+parseFloat(c||0)},ct=function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)},lt={mediaPresentationDuration:function(t){return ut(t)},availabilityStartTime:function(t){return ct(t)/1e3},minimumUpdatePeriod:function(t){return ut(t)},timeShiftBufferDepth:function(t){return ut(t)},start:function(t){return ut(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?ut(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},pt=function(t){return t&&t.attributes?z(t.attributes).reduce(function(t,e){var n=lt[e.name]||lt.DEFAULT;return t[e.name]=n(e.value),t},{}):{}},dt={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},ht=function(t,e){return e.length?q(t.map(function(t){return e.map(function(e){return B(t,st(e))})})):t},ft=function(t){var e=at(t,"SegmentTemplate")[0],n=at(t,"SegmentList")[0],r=n&&at(n,"SegmentURL").map(function(t){return N({tag:"SegmentURL"},pt(t))}),i=at(t,"SegmentBase")[0],o=n||e,a=o&&at(o,"SegmentTimeline")[0],s=n||i||e,u=s&&at(s,"Initialization")[0],c=e&&pt(e);c&&u?c.initialization=u&&pt(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var l={template:c,timeline:a&&at(a,"S").map(function(t){return pt(t)}),list:n&&N(pt(n),{segmentUrls:r,initialization:pt(u)}),base:i&&N(pt(i),{initialization:pt(u)})};return Object.keys(l).forEach(function(t){l[t]||delete l[t]}),l},yt=function(t,e,n){return function(r){var i=at(r,"BaseURL"),o=ht(e,i),a=N(t,pt(r)),s=ft(r);return o.map(function(t){return{segmentInfo:N(n,s),attributes:N(a,{baseUrl:t})}})}},vt=function(t){return t.reduce(function(t,e){var n=pt(e),i=dt[n.schemeIdUri];if(i){t[i]={attributes:n};var o=at(e,"cenc:pssh")[0];if(o){var a=st(o),s=a&&r(a);t[i].pssh=s}}return t},{})},mt=function(t,e,n){return function(r){var i=pt(r),o=ht(e,at(r,"BaseURL")),a=at(r,"Role")[0],s={role:pt(a)},u=N(t,i,s),c=vt(at(r,"ContentProtection"));Object.keys(c).length&&(u=N(u,{contentProtection:c}));var l=ft(r),p=at(r,"Representation"),d=N(n,l);return q(p.map(yt(u,o,d)))}},gt=function(t,e){return function(n,r){var i=ht(e,at(n,"BaseURL")),o=pt(n),a=N(t,o,{periodIndex:r}),s=at(n,"AdaptationSet"),u=ft(n);return q(s.map(mt(a,i,u)))}},bt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.manifestUri,r=void 0===n?"":n,i=e.NOW,o=void 0===i?Date.now():i,a=e.clientOffset,s=void 0===a?0:a,u=at(t,"Period");if(1!==u.length)throw new Error(tt.INVALID_NUMBER_OF_PERIOD);var c=pt(t),l=ht([r],at(t,"BaseURL"));return c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=o,c.clientOffset=s,q(u.map(gt(c,l)))},_t=function(t){if(""===t)throw new Error(tt.DASH_EMPTY_MANIFEST);var e=new m.a.DOMParser,n=e.parseFromString(t,"application/xml"),r=n&&"MPD"===n.documentElement.tagName?n.documentElement:null;if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(tt.DASH_INVALID_XML);return r},Tt=function(t){var e=at(t,"UTCTiming")[0];if(!e)return null;var n=pt(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(tt.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},wt=function(t,e){return D(ot(bt(_t(t),e)))},St=function(t){return Tt(_t(t))},Ot=n(143),kt=n.n(Ot),Ct=n(362),Et=n(375),Pt=n.n(Et);var At=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},xt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),jt=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Lt=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},It=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],r=e[4],i=n[4],o=void 0,a=void 0,s=void 0,u=[],c=[],l=void 0,p=void 0,d=void 0,h=void 0,f=void 0,y=void 0;for(o=0;o<256;o++)c[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=l||1,s=c[s]||1)for(h=s^s<<1^s<<2^s<<3^s<<4,h=h>>8^255&h^99,r[a]=h,i[h]=a,d=u[p=u[l=u[a]]],y=16843009*d^65537*p^257*l^16843008*a,f=257*u[h]^16843008*h,o=0;o<4;o++)e[o][a]=f=f<<24^f>>>8,n[o][h]=y=y<<24^y>>>8;for(o=0;o<5;o++)e[o]=e[o].slice(0),n[o]=n[o].slice(0);return t},Mt=null,Dt=function(){function t(e){At(this,t),Mt||(Mt=It()),this._tables=[[Mt[0][0].slice(),Mt[0][1].slice(),Mt[0][2].slice(),Mt[0][3].slice(),Mt[0][4].slice()],[Mt[1][0].slice(),Mt[1][1].slice(),Mt[1][2].slice(),Mt[1][3].slice(),Mt[1][4].slice()]];var n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=this._tables[0][4],u=this._tables[1],c=e.length,l=1;if(4!==c&&6!==c&&8!==c)throw new Error("Invalid aes key size");for(o=e.slice(0),a=[],this._key=[o,a],n=c;n<4*c+28;n++)i=o[n-1],(n%c==0||8===c&&n%c==4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],n%c==0&&(i=i<<8^i>>>24^l<<24,l=l<<1^283*(l>>7))),o[n]=o[n-c]^i;for(r=0;n;r++,n--)i=o[3&r?n:n-4],a[r]=n<=4||r<4?i:u[0][s[i>>>24]]^u[1][s[i>>16&255]]^u[2][s[i>>8&255]]^u[3][s[255&i]]}return t.prototype.decrypt=function(t,e,n,r,i,o){var a=this._key[1],s=t^a[0],u=r^a[1],c=n^a[2],l=e^a[3],p=void 0,d=void 0,h=void 0,f=a.length/4-2,y=void 0,v=4,m=this._tables[1],g=m[0],b=m[1],_=m[2],T=m[3],w=m[4];for(y=0;y<f;y++)p=g[s>>>24]^b[u>>16&255]^_[c>>8&255]^T[255&l]^a[v],d=g[u>>>24]^b[c>>16&255]^_[l>>8&255]^T[255&s]^a[v+1],h=g[c>>>24]^b[l>>16&255]^_[s>>8&255]^T[255&u]^a[v+2],l=g[l>>>24]^b[s>>16&255]^_[u>>8&255]^T[255&c]^a[v+3],v+=4,s=p,u=d,c=h;for(y=0;y<4;y++)i[(3&-y)+o]=w[s>>>24]<<24^w[u>>16&255]<<16^w[c>>8&255]<<8^w[255&l]^a[v++],p=s,s=u,u=c,c=l,l=p},t}(),Rt=function(){function t(){At(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,r=0;r<n;++r)e[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,i)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),Ut=function(t){function e(){At(this,e);var n=Lt(this,t.call(this,Rt));return n.jobs=[],n.delay=1,n.timeout_=null,n}return jt(e,t),e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(Rt),Nt=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},Bt=function(t,e,n){var r=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),i=new Dt(Array.prototype.slice.call(e)),o=new Uint8Array(t.byteLength),a=new Int32Array(o.buffer),s=void 0,u=void 0,c=void 0,l=void 0,p=void 0,d=void 0,h=void 0,f=void 0,y=void 0;for(s=n[0],u=n[1],c=n[2],l=n[3],y=0;y<r.length;y+=4)p=Nt(r[y]),d=Nt(r[y+1]),h=Nt(r[y+2]),f=Nt(r[y+3]),i.decrypt(p,d,h,f,a,y),a[y]=Nt(a[y]^s),a[y+1]=Nt(a[y+1]^u),a[y+2]=Nt(a[y+2]^c),a[y+3]=Nt(a[y+3]^l),s=p,u=d,c=h,l=f;return o},$t=function(){function t(e,n,r,o){At(this,t);var a=t.STEP,s=new Int32Array(e.buffer),u=new Uint8Array(e.byteLength),c=0;for(this.asyncStream_=new Ut,this.asyncStream_.push(this.decryptChunk_(s.subarray(c,c+a),n,r,u)),c=a;c<s.length;c+=a)r=new Uint32Array([Nt(s[c-4]),Nt(s[c-3]),Nt(s[c-2]),Nt(s[c-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(c,c+a),n,r,u));this.asyncStream_.push(function(){o(null,i(u))})}return t.prototype.decryptChunk_=function(t,e,n,r){return function(){var i=Bt(t,e,n);r.set(i,t.byteOffset)}},xt(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}(),Ft=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=y.a.buildAbsoluteURL(m.a.location.href,t)),y.a.buildAbsoluteURL(t,e))},Vt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ht=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qt=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},zt=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Wt=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Gt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xt=h.a.mergeOptions,Yt=h.a.EventTarget,Kt=h.a.log,Qt=function(t,e){["AUDIO","SUBTITLES"].forEach(function(n){for(var r in t.mediaGroups[n])for(var i in t.mediaGroups[n][r]){var o=t.mediaGroups[n][r][i];e(o,n,r,i)}})},Jt=function(t,e,n){var r=e.slice();n=n||0;for(var i=Math.min(t.length,e.length+n),o=n;o<i;o++)r[o-n]=Xt(t[o],r[o-n]);return r},Zt=function(t,e){t.resolvedUri||(t.resolvedUri=Ft(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Ft(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Ft(e,t.map.uri))},te=function(t,e){var n=Xt(t,{}),r=n.playlists[e.uri];if(!r)return null;if(r.segments&&e.segments&&r.segments.length===e.segments.length&&r.mediaSequence===e.mediaSequence)return null;var i=Xt(r,e);r.segments&&(i.segments=Jt(r.segments,e.segments,e.mediaSequence-r.mediaSequence)),i.segments.forEach(function(t){Zt(t,i.resolvedUri)});for(var o=0;o<n.playlists.length;o++)n.playlists[o].uri===e.uri&&(n.playlists[o]=i);return n.playlists[e.uri]=i,n},ee=function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];t.playlists[n.uri]=n,n.resolvedUri=Ft(t.uri,n.uri),n.id=e,n.attributes||(n.attributes={},Kt.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},ne=function(t){Qt(t,function(e){e.uri&&(e.resolvedUri=Ft(t.uri,e.uri))})},re=function(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)},ie=function(t){function e(t,n,r){Vt(this,e);var i=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(i.srcUrl=t,i.hls_=n,i.withCredentials=r,!i.srcUrl)throw new Error("A non-empty playlist URL is required");return i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:Ft(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(t,e){if(i.request)return t?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))}),i}return zt(e,t),Ht(e,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this;this.request=null,this.state="HAVE_METADATA";var r=new E;r.push(t.responseText),r.end(),r.manifest.uri=e,r.manifest.attributes=r.manifest.attributes||{};var i=te(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,i?(this.master=i,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(m.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=m.a.setTimeout(function(){n.trigger("mediaupdatetimeout")},re(this.media(),!!i))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),m.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var r=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r){if(this.state="SWITCHING_MEDIA",this.request){if(Ft(this.master.uri,t.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:Ft(this.master.uri,t.uri),withCredentials:this.withCredentials},function(r,i){if(e.request){if(r)return e.playlistRequestError(e.request,t.uri,n);e.haveMetadata(i,t.uri),"HAVE_MASTER"===n?e.trigger("loadedmetadata"):e.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),m.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;m.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var r=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=m.a.setTimeout(function(){return e.load()},r))}if(!this.started)return void this.start();n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"HLS playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var r=new E;return r.push(n.responseText),(r.end(),t.state="HAVE_MASTER",r.manifest.uri=t.srcUrl,r.manifest.playlists)?(t.master=r.manifest,ee(t.master),ne(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(r.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:m.a.location.href,playlists:[{uri:t.srcUrl,id:0}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.master.playlists[0].resolvedUri=t.srcUrl,t.master.playlists[0].attributes=t.master.playlists[0].attributes||{},t.haveMetadata(n,t.srcUrl),t.trigger("loadedmetadata"))}})}}]),e}(Yt),oe=h.a.createTimeRange,ae=function(t,e){var n=0,r=e-t.mediaSequence,i=t.segments[r];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=t.segments[r],void 0!==i.end)return{result:n+i.end,precise:!0};if(n+=i.duration,void 0!==i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},se=function(t,e){for(var n=0,r=void 0,i=e-t.mediaSequence;i<t.segments.length;i++){if(r=t.segments[i],void 0!==r.start)return{result:r.start-n,precise:!0};if(n+=r.duration,void 0!==r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},ue=function(t,e,n){var r=void 0,i=void 0;return void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(r=ae(t,e),r.precise?r.result:(i=se(t,e),i.precise?i.result:r.result+n))},ce=function(t,e,n){if(!t)return 0;if("number"!=typeof n&&(n=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return m.a.Infinity}return ue(t,e,n)},le=function(t,e,n){var r=0;if(e>n){var i=[n,e];e=i[0],n=i[1]}if(e<0){for(var o=e;o<Math.min(0,n);o++)r+=t.targetDuration;e=0}for(var a=e;a<n;a++)r+=t.segments[a].duration;return r},pe=function(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,n=t.segments[e].duration||t.targetDuration,r=n+2*t.targetDuration;e--&&!((n+=t.segments[e].duration)>=r););return Math.max(0,e)},de=function(t,e,n){if(!t||!t.segments)return null;if(t.endList)return ce(t);if(null===e)return null;e=e||0;var r=n?pe(t):t.segments.length;return ue(t,t.mediaSequence+r,e)},he=function(t,e){var n=e||0,r=de(t,e,!0);return null===r?oe():oe(n,r)},fe=function(t){return t-Math.floor(t)==0},ye=function(t,e){if(fe(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,r=1;r<=n;r++){var i=Math.pow(10,r),o=e*i;if(fe(o)||r===n)return(o+t)/i}},ve=ye.bind(null,1),me=ye.bind(null,-1),ge=function(t,e,n,r){var i=void 0,o=void 0,a=t.segments.length,s=e-r;if(s<0){if(n>0)for(i=n-1;i>=0;i--)if(o=t.segments[i],(s+=me(o.duration))>0)return{mediaIndex:i,startTime:r-le(t,n,i)};return{mediaIndex:0,startTime:e}}if(n<0){for(i=n;i<0;i++)if((s-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(i=n;i<a;i++)if(o=t.segments[i],(s-=ve(o.duration))<0)return{mediaIndex:i,startTime:r+le(t,n,i)};return{mediaIndex:a-1,startTime:e}},be=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},_e=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Te=function(t){var e=be(t);return!t.disabled&&!e},we=function(t){return t.disabled},Se=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},Oe=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},ke=function(t,e){return e.attributes&&e.attributes[t]},Ce=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return ke("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*r)/e:NaN},Ee=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!Te(t)&&(t.attributes.BANDWIDTH||0)<n}).length},Pe={duration:ce,seekable:he,safeLiveIndex:pe,getMediaInfoForTime:ge,isEnabled:Te,isDisabled:we,isBlacklisted:be,isIncompatible:_e,playlistEnd:de,isAes:Se,isFmp4:Oe,hasAttribute:ke,estimateSegmentRequestTime:Ce,isLowestEnabledRendition:Ee},Ae=h.a.xhr,xe=h.a.mergeOptions,je=function(){return function t(e,n){e=xe({timeout:45e3},e);var r=t.beforeRequest||h.a.Hls.xhr.beforeRequest;if(r&&"function"==typeof r){var i=r(e);i&&(e=i)}var o=Ae(e,function(t,e){var r=o.response;!t&&r&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=r.byteLength||r.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),e.headers&&(o.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(o.timedout=!0),t||o.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(o&&(r||o.responseText)))),n(t,o)}),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=e.uri,o.requestTime=Date.now(),o}},Le=function(t,e){return t.start(e)+"-"+t.end(e)},Ie=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},Me=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},De=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];ArrayBuffer.isView(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e},Re=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},Ue=function(t){for(var e=Array.prototype.slice.call(t),n="",r=void 0,i=void 0,o=0;o<e.length/16;o++)r=e.slice(16*o,16*o+16).map(Ie).join(""),i=e.slice(16*o,16*o+16).map(Me).join(""),n+=r+" "+i+"\n";return n},Ne=function(t){var e=t.bytes;return Ue(e)},Be=function(t){var e="",n=void 0;for(n=0;n<t.length;n++)e+=Le(t,n)+" ";return e},$e=Object.freeze({createTransferableMessage:De,initSegmentId:Re,hexDump:Ue,tagDump:Ne,textRanges:Be}),Fe=function(t,e){var n=[],r=void 0;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&n.push([t.start(r),t.end(r)]);return h.a.createTimeRanges(n)},Ve=function(t,e){return Fe(t,function(t,n){return t-1/30<=e&&n+1/30>=e})},He=function(t,e){return Fe(t,function(t){return t-1/30>=e})},qe=function(t){if(t.length<2)return h.a.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var r=t.end(n-1),i=t.start(n);e.push([r,i])}return h.a.createTimeRanges(e)},ze=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},We=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((t.length?t.end(t.length-1):0)-e)/n},Ge=function(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},Xe=function(t,e,n){var r=e.player_;if(n.captions&&n.captions.length){t.inbandTextTracks_||(t.inbandTextTracks_={});for(var i in n.captionStreams)if(!t.inbandTextTracks_[i]){r.tech_.trigger({type:"usage",name:"hls-608"});var o=r.textTracks().getTrackById(i);t.inbandTextTracks_[i]=o||r.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)},Ye=function(t,e,n){var r=void 0,i=void 0;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime<=e&&i.endTime>=t&&n.removeCue(i)},Ke=function(t){Object.defineProperties(t.frame,{id:{get:function(){return h.a.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return h.a.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return h.a.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},Qe=function(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t},Je=function(t,e,n){var r=m.a.WebKitDataCue||m.a.VTTCue;if(e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new r(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n){var i=Qe(t.mediaSource_.duration);if(n.forEach(function(t){var e=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var n=new r(e,e,t.value||t.url||t.data||"");n.frame=t,n.value=t,Ke(n),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var o=t.metadataTrack_.cues,a=[],s=0;s<o.length;s++)o[s]&&a.push(o[s]);var u=a.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),c=Object.keys(u).sort(function(t,e){return Number(t)-Number(e)});c.forEach(function(t,e){var n=u[t],r=Number(c[e+1])||i;n.forEach(function(t){t.endTime=r})})}}},Ze="undefined"!=typeof window?window:{},tn="undefined"==typeof Symbol?"__target":Symbol(),en="application/javascript",nn=Ze.BlobBuilder||Ze.WebKitBlobBuilder||Ze.MozBlobBuilder||Ze.MSBlobBuilder,rn=Ze.URL||Ze.webkitURL||rn&&rn.msURL,on=Ze.Worker;if(on){var an,sn=a("self.onmessage = function () {}"),un=new Uint8Array(1);try{an=new on(sn),an.postMessage(un,[un.buffer])}catch(t){on=null}finally{rn.revokeObjectURL(sn),an&&an.terminate()}}var cn=new o("./transmuxer-worker.worker.js",function(t,e){var n=this;!function(){var t,e,r,i,o,a,s,u,c,l,p,d,h,f,y,v,m,g,b,_,T,w,S,O,k,C,E,P,A,x,j,L,I,M,D,R,U=Math.pow(2,32)-1;!function(){var t;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in S)S.hasOwnProperty(t)&&(S[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);O=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),k=new Uint8Array([0,0,0,1]),E=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:E,audio:P},L=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),j=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),M=I,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R=I,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(t){var e,n,r,i=[],o=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)o+=i[e].byteLength;for(n=new Uint8Array(o+8),r=new DataView(n.buffer,n.byteOffset,n.byteLength),r.setUint32(0,n.byteLength),n.set(t,4),e=0,o=8;e<i.length;e++)n.set(i[e],o),o+=i[e].byteLength;return n},e=function(){return t(S.dinf,t(S.dref,L))},r=function(e){return t(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},i=function(){return t(S.ftyp,O,k,O,C)},v=function(e){return t(S.hdlr,A[e])},o=function(e){return t(S.mdat,e)},y=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(S.mdhd,n)},f=function(e){return t(S.mdia,y(e),v(e.type),s(e))},a=function(e){return t(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},s=function(n){return t(S.minf,"video"===n.type?t(S.vmhd,x):t(S.smhd,j),e(),g(n))},u=function(e,n){for(var r=[],i=n.length;i--;)r[i]=_(n[i]);return t.apply(null,[S.moof,a(e)].concat(r))},c=function(e){for(var n=e.length,r=[];n--;)r[n]=d(e[n]);return t.apply(null,[S.moov,p(4294967295)].concat(r).concat(l(e)))},l=function(e){for(var n=e.length,r=[];n--;)r[n]=T(e[n]);return t.apply(null,[S.mvex].concat(r))},p=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(S.mvhd,n)},m=function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(S.sdtp,o)},g=function(e){return t(S.stbl,b(e),t(S.stts,R),t(S.stsc,M),t(S.stsz,D),t(S.stco,I))},function(){var e,n;b=function(r){return t(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===r.type?e(r):n(r))},e=function(e){var n,r=e.sps||[],i=e.pps||[],o=[],a=[];for(n=0;n<r.length;n++)o.push((65280&r[n].byteLength)>>>8),o.push(255&r[n].byteLength),o=o.concat(Array.prototype.slice.call(r[n]));for(n=0;n<i.length;n++)a.push((65280&i[n].byteLength)>>>8),a.push(255&i[n].byteLength),a=a.concat(Array.prototype.slice.call(i[n]));return t(S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length]).concat(o).concat([i.length]).concat(a))),t(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},n=function(e){return t(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))}}(),h=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(S.tkhd,n)},_=function(e){var n,r,i,o,a,s,u;return n=t(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(U+1)),u=Math.floor(e.baseMediaDecodeTime%(U+1)),r=t(S.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),a=92,"audio"===e.type?(i=w(e,a),t(S.traf,n,r,i)):(o=m(e),i=w(e,o.length+a),t(S.traf,n,r,i,o))},d=function(e){return e.duration=e.duration||4294967295,t(S.trak,h(e),f(e))},T=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(S.trex,n)},function(){var e,n,r;r=function(t,e){var n=0,r=0,i=0,o=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(r=2),void 0!==t[0].flags&&(i=4),void 0!==t[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},n=function(e,n){var i,o,a,s;for(o=e.samples||[],n+=20+16*o.length,i=r(o,n),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return t(S.trun,new Uint8Array(i))},e=function(e,n){var i,o,a,s;for(o=e.samples||[],n+=20+8*o.length,i=r(o,n),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return t(S.trun,new Uint8Array(i))},w=function(t,r){return"audio"===t.type?e(t,r):n(t,r)}}();var N,B,$,F,V,H={ftyp:i,mdat:o,moof:u,moov:c,initSegment:function(t){var e,n=i(),r=c(t);return e=new Uint8Array(n.byteLength+r.byteLength),e.set(n),e.set(r,n.byteLength),e}},q=function(t){return t>>>0},z={toUnsigned:q},W=z.toUnsigned;N=function(t,e){var n,r,i,o,a,s=[];if(!e.length)return null;for(n=0;n<t.byteLength;)r=W(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),i=B(t.subarray(n+4,n+8)),o=r>1?n+r:t.byteLength,i===e[0]&&(1===e.length?s.push(t.subarray(n+8,o)):(a=N(t.subarray(n+8,o),e.slice(1)),a.length&&(s=s.concat(a)))),n=o;return s},B=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},$=function(t){var e={};return N(t,["moov","trak"]).reduce(function(t,e){var n,r,i,o,a;return(n=N(e,["tkhd"])[0])?(r=n[0],i=0===r?12:20,o=W(n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),(a=N(e,["mdia","mdhd"])[0])?(r=a[0],i=0===r?12:20,t[o]=W(a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3]),t):null):null},e)},F=function(t,e){var n,r,i;return n=N(e,["moof","traf"]),r=[].concat.apply([],n.map(function(e){return N(e,["tfhd"]).map(function(n){var r,i,o;return r=W(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i=t[r]||9e4,o=N(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=W(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=W(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n})[0],(o=o||1/0)/i})})),i=Math.min.apply(null,r),isFinite(i)?i:0},V=function(t){var e=N(t,["moov","trak"]),n=[];return e.forEach(function(t){var e=N(t,["mdia","hdlr"]),r=N(t,["tkhd"]);e.forEach(function(t,e){var i,o,a,s=B(t.subarray(8,12)),u=r[e];"vide"===s&&(i=new DataView(u.buffer,u.byteOffset,u.byteLength),o=i.getUint8(0),a=0===o?i.getUint32(12):i.getUint32(20),n.push(a))})}),n};var G={findBox:N,parseType:B,timescale:$,startTime:F,videoTrackIds:V},X=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var r;return!!t[e]&&(r=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(r,1),r>-1)},this.trigger=function(e){var n,r,i,o;if(n=t[e])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){t={}}}};X.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},X.prototype.push=function(t){this.trigger("data",t)},X.prototype.flush=function(t){this.trigger("done",t)};var Y=X,K=function(t){var e,n,r=[],i=[];for(r.byteLength=0,e=0;e<t.length;e++)n=t[e],"access_unit_delimiter_rbsp"===n.nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),r=[n],r.byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},Q=function(t){var e,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,e=0;e<t.length;e++)n=t[e],n.keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),r=[n],r.nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},J=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},Z=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},tt=function(t,e){var n=Z();return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},et=function(t,e){var n,r,i,o,a,s=e||0,u=[];for(n=0;n<t.length;n++)for(o=t[n],r=0;r<o.length;r++)a=o[r],i=tt(a,s),s+=i.size,u.push(i);return u},nt=function(t){var e,n,r,i,o,a,s=0,u=t.byteLength,c=t.nalCount,l=u+4*c,p=new Uint8Array(l),d=new DataView(p.buffer);for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)a=o[r],d.setUint32(s,a.data.byteLength),s+=4,p.set(a.data,s),s+=a.data.byteLength;return p},rt={groupNalsIntoFrames:K,groupFramesIntoGops:Q,extendFirstKeyFrame:J,generateSampleTable:et,concatenateNalData:nt},it=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},ot=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},at=function(t,e){var n,r,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(r=t.samplerate/9e4,n*=r,n=Math.floor(n)),n},st={clearDtsInfo:ot,calculateTrackBaseMediaDecodeTime:at,collectDtsInfo:it},ut=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},r=0,i=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)r+=255,e++;for(r+=t[e++];255===t[e];)i+=255,e++;if(i+=t[e++],!n.payload&&4===r){n.payloadType=r,n.payloadSize=i,n.payload=t.subarray(e,e+i);break}e+=i,r=0,i=0}return n},ct=function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},lt=function(t,e){var n,r,i,o,a=[];if(!(64&e[0]))return a;for(r=31&e[0],n=0;n<r;n++)i=3*n,o={type:3&e[i+2],pts:t},4&e[i+2]&&(o.ccData=e[i+3]<<8|e[i+4],a.push(o));return a},pt=function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n},dt={parseSei:ut,parseUserData:ct,parseCaptionPackets:lt,discardEmulationPreventionBytes:pt,USER_DATA_REGISTERED_ITU_T_T35:4},ht=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new gt(0,0),new gt(0,1),new gt(1,0),new gt(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};ht.prototype=new Y,ht.prototype.push=function(t){var e,n,r;if("sei_rbsp"===t.nalUnitType&&(e=dt.parseSei(t.escapedRBSP),e.payloadType===dt.USER_DATA_REGISTERED_ITU_T_T35&&(n=dt.parseUserData(e)))){if(t.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=dt.parseCaptionPackets(t.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},ht.prototype.flush=function(){if(!this.captionPackets_.length)return void this.ccStreams_.forEach(function(t){t.flush()},this);this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)},ht.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},ht.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},ht.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},ht.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};var ft={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},yt=function(t){return null===t?"":(t=ft[t]||t,String.fromCharCode(t))},vt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],mt=function(){for(var t=[],e=15;e--;)t.push("");return t},gt=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,r,i,o;if((e=32639&t.ccData)===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),r=e>>>8,i=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=mt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=mt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=mt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(r,i))r=(3&r)<<8,o=yt(r|i),this[this.mode_](t.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=(3&r)<<8,o=yt(r|i),this[this.mode_](t.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&i)&&this.addFormatting(t.pts,["i"]),1==(1&i)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=vt.indexOf(7968&e);"rollUp"===this.mode_&&this.setRollUp(t.pts,a),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=yt(r),o+=yt(i),this[this.mode_](t.pts,o),this.column_+=o.length)}};gt.prototype=new Y,gt.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},gt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=mt(),this.nonDisplayed_=mt(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},gt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},gt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},gt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},gt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},gt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},gt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},gt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},gt.prototype.isNormalChar=function(t){return t>=32&&t<=127},gt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=mt(),this.displayed_=mt()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},gt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},gt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},gt.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},gt.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},gt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},gt.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};var bt={CaptionStream:ht,Cea608Stream:gt},_t={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Tt=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},wt=function t(e){var n,r;t.prototype.init.call(this),this.type_=e,this.push=function(t){t.type===this.type_&&(void 0===r&&(r=t.dts),t.dts=Tt(t.dts,r),t.pts=Tt(t.pts,r),n=t.dts,this.trigger("data",t))},this.flush=function(){r=n,this.trigger("done")},this.discontinuity=function(){r=void 0,n=void 0}};wt.prototype=new Y;var St,Ot={TimestampRolloverStream:wt,handleRollover:Tt},kt=function(t,e,n){var r,i="";for(r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i},Ct=function(t,e,n){return decodeURIComponent(kt(t,e,n))},Et=function(t,e,n){return unescape(kt(t,e,n))},Pt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},At={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Ct(t.data,1,e),t.value=Ct(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Ct(t.data,1,e),t.url=Ct(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=Et(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};St=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},r=0,i=[],o=0;if(St.prototype.init.call(this),this.dispatchType=_t.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,s,u,c,l;if("timed-metadata"===t.type){if(t.dataAlignmentIndicator&&(o=0,i.length=0),0===i.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))return void n.debug;if(i.push(t),o+=t.data.byteLength,1===i.length&&(r=Pt(t.data.subarray(6,10)),r+=10),!(o<r)){for(e={data:new Uint8Array(r),frames:[],pts:i[0].pts,dts:i[0].dts},c=0;c<r;)e.data.set(i[0].data.subarray(0,r-c),c),c+=i[0].data.byteLength,o-=i[0].data.byteLength,i.shift();a=10,64&e.data[5]&&(a+=4,a+=Pt(e.data.subarray(10,14)),r-=Pt(e.data.subarray(16,20)));do{if((s=Pt(e.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(l=String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),u={id:l,data:e.data.subarray(a+10,a+s+10)},u.key=u.id,At[u.id]&&(At[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var p=u.data,d=(1&p[3])<<30|p[4]<<22|p[5]<<14|p[6]<<6|p[7]>>>2;d*=4,d+=3&p[7],u.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),a+=10,a+=s}while(a<r);this.trigger("data",e)}}}},St.prototype=new Y;var xt,jt,Lt,It=St,Mt=Ot.TimestampRolloverStream;xt=function(){var t=new Uint8Array(188),e=0;xt.prototype.init.call(this),this.push=function(n){var r,i=0,o=188;for(e?(r=new Uint8Array(n.byteLength+e),r.set(t.subarray(0,e)),r.set(n,e),e=0):r=n;o<r.byteLength;)71!==r[i]||71!==r[o]?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=188,o+=188);i<r.byteLength&&(t.set(r.subarray(i),0),e=r.byteLength-i)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}},xt.prototype=new Y,jt=function(){var t,e,n,r;jt.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,r){var i=0;r.payloadUnitStartIndicator&&(i+=t[i]+1),"pat"===r.type?e(t.subarray(i),r):n(t.subarray(i),r)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],r.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=r.pmtPid},n=function(t,e){var n,i,o,a;if(1&t[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&t[1])<<8|t[2],i=3+n-4,o=(15&t[10])<<8|t[11],a=12+o;a<i;){var s=t[a],u=(31&t[a+1])<<8|t[a+2];s===_t.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=u:s===_t.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=u:s===_t.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][u]=s),a+=5+((15&t[a+3])<<8|t[a+4])}e.programMapTable=r.programMapTable}},this.push=function(e){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(r+=e[r]+1),0===n.pid)n.type="pat",t(e.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,r,n]):this.processPes_(e,r,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=_t.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=_t.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}},jt.prototype=new Y,jt.STREAM_TYPES={h264:27,adts:15},Lt=function(){var t=this,e={data:[],size:0},n={data:[],size:0},r={data:[],size:0},i=function(t,e){var n;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!=(4&t[6]),n=t[7],192&n&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},o=function(e,n,r){var o,a=new Uint8Array(e.size),s={type:n},u=0,c=0,l=!1;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)o=e.data[u],a.set(o.data,c),c+=o.data.byteLength;i(a,s),l="video"===n||s.packetLength<=e.size,(r||l)&&(e.size=0,e.data.length=0),l&&t.trigger("data",s)}};Lt.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var t,a;switch(i.streamType){case _t.H264_STREAM_TYPE:case _t.H264_STREAM_TYPE:t=e,a="video";break;case _t.ADTS_STREAM_TYPE:t=n,a="audio";break;case _t.METADATA_STREAM_TYPE:t=r,a="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&o(t,a,!0),t.data.push(i),t.size+=i.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=i.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[i.type]()},this.flush=function(){o(e,"video"),o(n,"audio"),o(r,"timed-metadata"),this.trigger("done")}},Lt.prototype=new Y;var Dt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:xt,TransportParseStream:jt,ElementaryStream:Lt,TimestampRolloverStream:Mt,CaptionStream:bt.CaptionStream,Cea608Stream:bt.Cea608Stream,MetadataStream:It};for(var Rt in _t)_t.hasOwnProperty(Rt)&&(Dt[Rt]=_t[Rt]);var Ut,Nt=Dt,Bt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ut=function(){var t;Ut.prototype.init.call(this),this.push=function(e){var n,r,i,o,a,s,u=0,c=0;if("audio"===e.type)for(t?(o=t,t=new Uint8Array(o.byteLength+e.data.byteLength),t.set(o),t.set(e.data,o.byteLength)):t=e.data;u+5<t.length;)if(255===t[u]&&240==(246&t[u+1])){if(r=2*(1&~t[u+1]),n=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,a=1024*(1+(3&t[u+6])),s=9e4*a/Bt[(60&t[u+2])>>>2],i=u+n,t.byteLength<i)return;if(this.trigger("data",{pts:e.pts+c*s,dts:e.dts+c*s,sampleCount:a,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:Bt[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+r,i)}),t.byteLength===i)return void(t=void 0);c++,t=t.subarray(i)}else u++},this.flush=function(){this.trigger("done")}},Ut.prototype=new Y;var $t,Ft=Ut;$t=function(t){var e=t.byteLength,n=0,r=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+r},this.loadWord=function(){var i=t.byteLength-e,o=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");o.set(t.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,e-=a},this.skipBits=function(t){var i;r>t?(n<<=t,r-=t):(t-=r,i=Math.floor(t/8),t-=8*i,e-=i,this.loadWord(),n<<=t,r-=t)},this.readBits=function(t){var i=Math.min(r,t),o=n>>>32-i;return r-=i,r>0?n<<=i:e>0&&this.loadWord(),i=t-i,i>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var t;for(t=0;t<r;++t)if(0!=(n&2147483648>>>t))return n<<=t,r-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Vt,Ht,qt,zt=$t;Ht=function(){var t,e,n=0;Ht.prototype.init.call(this),this.push=function(r){var i;for(e?(i=new Uint8Array(e.byteLength+r.data.byteLength),i.set(e),i.set(r.data,e.byteLength),e=i):e=r.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}},Ht.prototype=new Y,qt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Vt=function(){var t,e,n,r,i,o,a,s=new Ht;Vt.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,r=t.dts,s.push(t))},s.on("data",function(a){var s={trackId:e,pts:n,dts:r,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",s)}),s.on("done",function(){t.trigger("done")}),this.flush=function(){s.flush()},a=function(t,e){var n,r,i=8,o=8;for(n=0;n<t;n++)0!==o&&(r=e.readExpGolomb(),o=(i+r+256)%256),i=0===o?i:o},i=function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n},o=function(t){var e,n,r,i,o,s,u,c,l,p,d,h,f,y=0,v=0,m=0,g=0,b=1;if(e=new zt(t),n=e.readUnsignedByte(),i=e.readUnsignedByte(),r=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),qt[n]&&(o=e.readUnsignedExpGolomb(),3===o&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(d=3!==o?8:12,f=0;f<d;f++)e.readBoolean()&&(f<6?a(16,e):a(64,e));if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),u=e.readUnsignedExpGolomb(),f=0;f<u;f++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),c=e.readUnsignedExpGolomb(),l=e.readUnsignedExpGolomb(),p=e.readBits(1),0===p&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(y=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:h=[1,1];break;case 2:h=[12,11];break;case 3:h=[10,11];break;case 4:h=[16,11];break;case 5:h=[40,33];break;case 6:h=[24,11];break;case 7:h=[20,11];break;case 8:h=[32,11];break;case 9:h=[80,33];break;case 10:h=[18,11];break;case 11:h=[15,11];break;case 12:h=[64,33];break;case 13:h=[160,99];break;case 14:h=[4,3];break;case 15:h=[3,2];break;case 16:h=[2,1];break;case 255:h=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}h&&(b=h[0]/h[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(c+1)-2*y-2*v)*b),height:(2-p)*(l+1)*16-2*m-2*g}}},Vt.prototype=new Y;var Wt,Gt={H264Stream:Vt,NalByteStream:Ht};Wt=function(){var t=new Uint8Array,e=0;Wt.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,r=t[e+4]<<3;return 6144&t[e+3]|r|n},this.push=function(n){var r,i,o,a,s=0,u=0;for(t.length?(a=t.length,t=new Uint8Array(n.byteLength+a),t.set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(!0&t[u]&&240==(240&t[u+1])){if(t.length-u<7)break;if((s=this.parseAdtsSize(t,u))>t.length)break;o={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",o),u+=s}else u++;else{if(t.length-u<10)break;if((s=this.parseId3TagSize(t,u))>t.length)break;i={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",i),u+=s}r=t.length-u,t=r>0?t.subarray(u):new Uint8Array}},Wt.prototype=new Y;var Xt,Yt,Kt,Qt,Jt,Zt,te=Wt,ee=[33,16,5,32,164,27],ne=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],re=function(t){for(var e=[];t--;)e.push(0);return e},ie={96e3:[ee,[227,64],re(154),[56]],88200:[ee,[231],re(170),[56]],64e3:[ee,[248,192],re(240),[56]],48e3:[ee,[255,192],re(268),[55,148,128],re(54),[112]],44100:[ee,[255,192],re(268),[55,163,128],re(84),[112]],32e3:[ee,[255,192],re(268),[55,234],re(226),[112]],24e3:[ee,[255,192],re(268),[55,255,128],re(268),[111,112],re(126),[224]],16e3:[ee,[255,192],re(268),[55,255,128],re(268),[111,255],re(269),[223,108],re(195),[1,192]],12e3:[ne,re(268),[3,127,248],re(268),[6,255,240],re(268),[13,255,224],re(268),[27,253,128],re(259),[56]],11025:[ne,re(268),[3,127,248],re(268),[6,255,240],re(268),[13,255,224],re(268),[27,255,192],re(268),[55,175,128],re(108),[112]],8e3:[ne,re(268),[3,121,16],re(47),[7]]},oe=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=new Uint8Array(t[n].reduce(function(t,e){return t.concat(e)},[])),e},{})}(ie);Xt=function(t){return 9e4*t},Yt=function(t,e){return t*e},Kt=function(t){return t/9e4},Qt=function(t,e){return t/e},Jt=function(t,e){return Xt(Qt(t,e))},Zt=function(t,e){return Yt(Kt(t),e)};var ae,se,ue,ce,le,pe,de,he={secondsToVideoTs:Xt,secondsToAudioTs:Yt,videoTsToSeconds:Kt,audioTsToSeconds:Qt,audioTsToVideoTs:Jt,videoTsToAudioTs:Zt},fe=Gt.H264Stream,ye=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ve=["width","height","profileIdc","levelIdc","profileCompatibility"];le=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},pe=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},de=function(t){var e,n,r=0;for(e=0;e<t.length;e++)n=t[e],r+=n.data.byteLength;return r},se=function(t,e){var n=[],r=0,i=0,o=0,a=1/0;e=e||{},se.prototype.init.call(this),this.push=function(e){st.collectDtsInfo(t,e),t&&ye.forEach(function(n){t[n]=e[n]}),n.push(e)},this.setEarliestDts=function(e){i=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var i,o,a,s;if(0===n.length)return void this.trigger("done","AudioSegmentStream");i=this.trimAdtsFramesByEarliestDts_(n),t.baseMediaDecodeTime=st.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.prefixWithSilence_(t,i),t.samples=this.generateSampleTable_(i),a=H.mdat(this.concatenateFrameData_(i)),n=[],o=H.moof(r,[t]),s=new Uint8Array(o.byteLength+a.byteLength),r++,s.set(o),s.set(a,o.byteLength),st.clearDtsInfo(t),this.trigger("data",{track:t,boxes:s}),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var n,r,i,s=0,u=0,c=0,l=0;if(e.length&&(n=he.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),s=Math.ceil(9e4/(t.samplerate/1024)),o&&a&&(u=n-Math.max(o,a),c=Math.floor(u/s),l=c*s),!(c<1||l>45e3))){for(r=oe[t.samplerate],r||(r=e[0].data),i=0;i<c;i++)e.splice(i,0,{data:r});t.baseMediaDecodeTime-=Math.floor(he.videoTsToAudioTs(l,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,r=[];for(e=0;e<t.length;e++)n=t[e],r.push({size:n.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(t){var e,n,r=0,i=new Uint8Array(de(t));for(e=0;e<t.length;e++)n=t[e],i.set(n.data,r),r+=n.data.byteLength;return i}},se.prototype=new Y,ae=function(t,e){var n,r,i=0,o=[],a=[];e=e||{},ae.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){st.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],ve.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){for(var n,r,s,u,c,l;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=rt.groupNalsIntoFrames(o),s=rt.groupFramesIntoGops(n),s[0][0].keyFrame||(r=this.getGopForFusion_(o[0],t),r?(s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=rt.extendFirstKeyFrame(s)),a.length){var p;if(!(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");st.clearDtsInfo(t),s=p}st.collectDtsInfo(t,s),t.samples=rt.generateSampleTable(s),c=H.mdat(rt.concatenateNalData(s)),t.baseMediaDecodeTime=st.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=H.moof(i,[t]),l=new Uint8Array(u.byteLength+c.byteLength),i++,l.set(u),l.set(c,u.byteLength),this.trigger("data",{track:t,boxes:l}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){st.clearDtsInfo(t),n=void 0,r=void 0},this.getGopForFusion_=function(e){var n,r,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)o=this.gopCache_[a],i=o.gop,t.pps&&pe(t.pps[0],o.pps[0])&&t.sps&&pe(t.sps[0],o.sps[0])&&(i.dts<t.timelineStartInfo.dts||(n=e.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=o,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(t){var e,n,r,i,o,s,u,c;for(o=t.byteLength,s=t.nalCount,u=t.duration,e=n=0;e<a.length&&n<t.length&&(r=a[e],i=t[n],r.pts!==i.pts);)i.pts>r.pts?e++:(n++,o-=i.byteLength,s-=i.nalCount,u-=i.duration);return 0===n?t:n===t.length?null:(c=t.slice(n),c.byteLength=o,c.duration=u,c.nalCount=s,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(t){var e,n,r,i,o,s;for(e=a.length-1,n=t.length-1,o=null,s=!1;e>=0&&n>=0;){if(r=a[e],i=t[n],r.pts===i.pts){s=!0;break}r.pts>i.pts?e--:(e===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;var u;if(0===(u=s?n:o))return t;var c=t.slice(u),l=c.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return c.byteLength=l.byteLength,c.duration=l.duration,c.nalCount=l.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(t){a=t}},ae.prototype=new Y,ce=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ce.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}},ce.prototype=new Y,ce.prototype.flush=function(t){var e,n,r,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,ve.forEach(function(t){a.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,ye.forEach(function(t){a.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=H.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)e=this.pendingCaptions[i],e.startTime=e.startPts-s,e.startTime/=9e4,e.endTime=e.endPts-s,e.endTime/=9e4,a.captionStreams[e.stream]=!0,a.captions.push(e);for(i=0;i<this.pendingMetadata.length;i++)n=this.pendingMetadata[i],n.cueTime=n.pts-s,n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},ue=function(t){var e,n,r=this,i=!0;ue.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new Nt.MetadataStream,e.aacStream=new te,e.audioTimestampRolloverStream=new Nt.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new Nt.TimestampRolloverStream("timed-metadata"),e.adtsStream=new Ft,e.coalesceStream=new ce(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(i){"timed-metadata"!==i.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new se(n,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new Nt.MetadataStream,i.packetStream=new Nt.TransportPacketStream,i.parseStream=new Nt.TransportParseStream,i.elementaryStream=new Nt.ElementaryStream,i.videoTimestampRolloverStream=new Nt.TimestampRolloverStream("video"),i.audioTimestampRolloverStream=new Nt.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new Nt.TimestampRolloverStream("timed-metadata"),i.adtsStream=new Ft,i.h264Stream=new fe,i.captionStream=new Nt.CaptionStream,i.coalesceStream=new ce(t,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream),i.elementaryStream.pipe(i.videoTimestampRolloverStream).pipe(i.h264Stream),i.elementaryStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.elementaryStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)e||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||(n=o.tracks[a],n.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(e=o.tracks[a],e.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime);e&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new ae(e,t),i.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts))}),i.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new se(n,t),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=t,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,st.clearDtsInfo(n),n.timelineStartInfo.baseMediaDecodeTime=t,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,st.clearDtsInfo(e),r.captionStream.reset(),e.timelineStartInfo.baseMediaDecodeTime=t),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(i){var e=le(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},ue.prototype=new Y;var me,ge,be={Transmuxer:ue,VideoSegmentStream:ae,AudioSegmentStream:se,AUDIO_PROPERTIES:ye,VIDEO_PROPERTIES:ve},_e=G.parseType,Te=function(t){return new Date(1e3*t-20828448e5)},we=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},Se=function(t){var e,n,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=[];for(e=0;e+4<t.length;e+=n)if(n=r.getUint32(e),e+=4,n<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+t[e]&31)}return i},Oe={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:me(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,r,i,o=new DataView(t.buffer,t.byteOffset,t.byteLength),a={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},s=31&t[5];for(r=6,i=0;i<s;i++)n=o.getUint16(r),r+=2,a.sps.push(new Uint8Array(t.subarray(r,r+n))),r+=n;for(e=t[r],r++,i=0;i<e;i++)n=o.getUint16(r),r+=2,a.pps.push(new Uint8Array(t.subarray(r,r+n))),r+=n;return a},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:_e(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},r=8;r<t.byteLength;)n.compatibleBrands.push(_e(t.subarray(r,r+4))),r+=4;return n},dinf:function(t){return{boxes:me(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:me(t.subarray(8))}},hdlr:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:_e(t.subarray(8,12)),name:""},r=8;for(r=24;r<t.byteLength;r++){if(0===t[r]){r++;break}n.name+=String.fromCharCode(t[r])}return n.name=decodeURIComponent(escape(n.name)),n},mdat:function(t){return{byteLength:t.byteLength,nals:Se(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=4,i={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===i.version?(r+=4,i.creationTime=Te(n.getUint32(r)),r+=8,i.modificationTime=Te(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=8,i.duration=n.getUint32(r)):(i.creationTime=Te(n.getUint32(r)),r+=4,i.modificationTime=Te(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=4,i.duration=n.getUint32(r)),r+=4,e=n.getUint16(r),i.language+=String.fromCharCode(96+(e>>10)),i.language+=String.fromCharCode(96+((992&e)>>5)),i.language+=String.fromCharCode(96+(31&e)),i},mdia:function(t){return{boxes:me(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:me(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=me(t.subarray(28))[0]),n},moof:function(t){return{boxes:me(t)}},moov:function(t){return{boxes:me(t)}},mvex:function(t){return{boxes:me(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=Te(e.getUint32(n)),n+=8,r.modificationTime=Te(e.getUint32(n)),n+=4,r.timescale=e.getUint32(n),n+=8,r.duration=e.getUint32(n)):(r.creationTime=Te(e.getUint32(n)),n+=4,r.modificationTime=Te(e.getUint32(n)),n+=4,r.timescale=e.getUint32(n),n+=4,r.duration=e.getUint32(n)),n+=4,r.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,r.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,r.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,r.nextTrackId=e.getUint32(n),r},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},i=n.getUint16(22);for(e=24;i;e+=12,i--)r.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return r},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:me(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},i=n.getUint32(4);for(e=8;i;e+=4,i--)r.chunkOffsets.push(n.getUint32(e));return r},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=n.getUint32(4),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;r;e+=12,r--)i.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return i},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:me(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)r.entries.push(n.getUint32(e));return r},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},i=n.getUint32(4);for(e=8;i;e+=8,i--)r.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return r},styp:function(t){return Oe.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],u=32&r.flags[2],c=65536&r.flags[0],l=131072&r.flags[0];return e=8,i&&(e+=4,r.baseDataOffset=n.getUint32(12),e+=4),o&&(r.sampleDescriptionIndex=n.getUint32(e),e+=4),a&&(r.defaultSampleDuration=n.getUint32(e),e+=4),s&&(r.defaultSampleSize=n.getUint32(e),e+=4),u&&(r.defaultSampleFlags=n.getUint32(e)),c&&(r.durationIsEmpty=!0),!i&&l&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=Te(e.getUint32(n)),n+=8,r.modificationTime=Te(e.getUint32(n)),n+=4,r.trackId=e.getUint32(n),n+=4,n+=8,r.duration=e.getUint32(n)):(r.creationTime=Te(e.getUint32(n)),n+=4,r.modificationTime=Te(e.getUint32(n)),n+=4,r.trackId=e.getUint32(n),n+=4,n+=4,r.duration=e.getUint32(n)),n+=4,n+=8,r.layer=e.getUint16(n),n+=2,r.alternateGroup=e.getUint16(n),n+=2,r.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,r.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,r.height=e.getUint16(n)+e.getUint16(n+2)/16,r},traf:function(t){return{boxes:me(t)}},trak:function(t){return{boxes:me(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],u=4&n.flags[1],c=8&n.flags[1],l=r.getUint32(4),p=8;for(i&&(n.dataOffset=r.getInt32(p),p+=4),o&&l&&(e={flags:we(t.subarray(p,p+4))},p+=4,a&&(e.duration=r.getUint32(p),p+=4),s&&(e.size=r.getUint32(p),p+=4),c&&(e.compositionTimeOffset=r.getUint32(p),p+=4),n.samples.push(e),l--);l--;)e={},a&&(e.duration=r.getUint32(p),p+=4),s&&(e.size=r.getUint32(p),p+=4),u&&(e.flags=we(t.subarray(p,p+4)),p+=4),c&&(e.compositionTimeOffset=r.getUint32(p),p+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};me=function(t){for(var e,n,r,i,o,a=0,s=[],u=new ArrayBuffer(t.length),c=new Uint8Array(u),l=0;l<t.length;++l)c[l]=t[l];for(e=new DataView(u);a<t.byteLength;)n=e.getUint32(a),r=_e(t.subarray(a+4,a+8)),i=n>1?a+n:t.byteLength,o=(Oe[r]||function(t){return{data:t}})(t.subarray(a+8,i)),o.size=n,o.type=r,s.push(o),a=i;return s},ge=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map(function(t,r){return n+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var r=n+"  "+e+": ",i=t[e];if(i instanceof Uint8Array||i instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return o?1===o.length?r+"<"+o.join("").slice(1)+">":r+"<\n"+o.map(function(t){return n+"  "+t}).join("\n")+"\n"+n+"  >":r+"<>"}return r+JSON.stringify(i,null,2).split("\n").map(function(t,e){return 0===e?t:n+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+ge(t.boxes,e+1):"")}).join("\n")};var ke={inspect:me,textify:ge,parseTfdt:Oe.tfdt,parseHdlr:Oe.hdlr,parseTfhd:Oe.tfhd,parseTrun:Oe.trun},Ce=dt.discardEmulationPreventionBytes,Ee=bt.CaptionStream,Pe=function(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(n<i.size)return i;n-=i.size}return null},Ae=function(t,e,n){var r,i,o,a,s=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(i=0;i+4<t.length;i+=o)if(o=s.getUint32(i),i+=4,!(o<=0))switch(31&t[i]){case 6:var c=t.subarray(i+1,i+1+o),l=Pe(i,e);r={nalUnitType:"sei_rbsp",size:o,data:c,escapedRBSP:Ce(c),trackId:n},l?(r.pts=l.pts,r.dts=l.dts,a=l):(r.pts=a.pts,r.dts=a.dts),u.push(r)}return u},xe=function(t,e,n){var r=e,i=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return t.forEach(function(t){var e=ke.parseTrun(t),n=e.samples;n.forEach(function(t){void 0===t.duration&&(t.duration=i),void 0===t.size&&(t.size=o),t.trackId=a,t.dts=r,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=r+t.compositionTimeOffset,r+=t.duration}),s=s.concat(n)}),s},je=function(t,e){var n=G.findBox(t,["moof","traf"]),r=G.findBox(t,["mdat"]),i={},o=[];return r.forEach(function(t,e){var r=n[e];o.push({mdat:t,traf:r})}),o.forEach(function(t){var n,r,o=t.mdat,a=t.traf,s=G.findBox(a,["tfhd"]),u=ke.parseTfhd(s[0]),c=u.trackId,l=G.findBox(a,["tfdt"]),p=l.length>0?ke.parseTfdt(l[0]).baseMediaDecodeTime:0,d=G.findBox(a,["trun"]);e===c&&d.length>0&&(n=xe(d,p,u),r=Ae(o,n,c),i[c]||(i[c]=[]),i[c]=i[c].concat(r))}),i},Le=function(t,e,n){var r;return e?(r=je(t,e),{seiNals:r[e],timescale:n}):null},Ie=function(){var t,e,n,r,i,o=!1;this.isInitialized=function(){return o},this.init=function(){t=new Ee,o=!0,t.on("data",function(t){t.startTime=t.startPts/r,t.endTime=t.endPts/r,i.captions.push(t),i.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length)&&(n!==t[0]||r!==e[n])},this.parse=function(t,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],r=a[n];else if(!n||!r)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,o,a)}return null!==(s=Le(t,n,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,r=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},Me=Ie,De={generator:H,probe:G,Transmuxer:be.Transmuxer,AudioSegmentStream:be.AudioSegmentStream,VideoSegmentStream:be.VideoSegmentStream,CaptionParser:Me},Re=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ue=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ne=function(t,e){e.on("data",function(e){var n=e.initSegment;e.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=e.data;e.data=r.buffer,t.postMessage({action:"data",segment:e,byteOffset:r.byteOffset,byteLength:r.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){t.postMessage({action:"caption",data:e})}),e.on("done",function(e){t.postMessage({action:"done"})}),e.on("gopInfo",function(e){t.postMessage({action:"gopInfo",gopInfo:e})})},Be=function(){function t(e,n){Re(this,t),this.options=n||{},this.self=e,this.init()}return Ue(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new De.Transmuxer(this.options),Ne(this.self,this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}();new function(t){t.onmessage=function(e){if("init"===e.data.action&&e.data.options)return void(this.messageHandlers=new Be(t,e.data.options));this.messageHandlers||(this.messageHandlers=new Be(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)}}(n)}()}),ln={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},pn=function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})},dn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={codecCount:0},n=void 0;return e.codecCount=t.split(",").length,e.codecCount=e.codecCount||2,n=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t),n&&(e.videoCodec=n[2],e.videoObjectTypeIndicator=n[3]),e.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),e.audioProfile=e.audioProfile&&e.audioProfile[2],e},hn=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return pn([t])[0]})},fn=function(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'},yn=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"},vn=function(t){var e=t.attributes||{};return e.CODECS?dn(e.CODECS):ln},mn=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return dn(i.playlists[0].attributes.CODECS).audioProfile}return null},gn=function(t,e){var n=yn(e),r=vn(e),i=e.attributes||{},o=!0,a=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&i.AUDIO){var s=t.mediaGroups.AUDIO[i.AUDIO];if(s){a=!0,o=!1;for(var u in s)if(!s[u].uri&&!s[u].playlists){o=!0;break}}}a&&!r.audioProfile&&(o||(r.audioProfile=mn(t,i.AUDIO)),r.audioProfile||(h.a.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=ln.audioProfile));var c={};r.videoCodec&&(c.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(c.audio="mp4a.40."+r.audioProfile);var l=fn("audio",n,[c.audio]),p=fn("video",n,[c.video]),d=fn("video",n,[c.video,c.audio]);return a?!o&&c.video?[p,l]:o||c.video?[d,l]:[l,l]:c.video?[d]:[l]},bn=function(t){var e={type:"",parameters:{}},n=t.trim().split(";");return e.type=n.shift().trim(),n.forEach(function(t){var n=t.trim().split("=");if(n.length>1){var r=n[0].replace(/"/g,"").trim(),i=n[1].replace(/"/g,"").trim();e.parameters[r]=i}}),e},_n=function(t){return/mp4a\.\d+.\d+/i.test(t)},Tn=function(t){return/avc1\.[\da-f]+/i.test(t)},wn=function(t,e,n){if(void 0===e||null===e||!t.length)return[];var r=Math.ceil(9e4*(e-n+3)),i=void 0;for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)},Sn=function(t,e,n){if(!e.length)return t;if(n)return e.slice();var r=e[0].pts,i=0;for(i;i<t.length&&!(t[i].pts>=r);i++);return t.slice(0,i).concat(e)},On=function(t,e,n,r){for(var i=Math.ceil(9e4*(e-r)),o=Math.ceil(9e4*(n-r)),a=t.slice(),s=t.length;s--&&!(t[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(t[u].pts<=i););return u=Math.max(u,0),a.splice(u,s-u+1),a},kn=function(t,e,n){var r=null,i=null,o=0,a=[],s=[];if(!t&&!e)return h.a.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(n)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return h.a.createTimeRange();for(var u=t.buffered,c=e.buffered,l=u.length;l--;)a.push({time:u.start(l),type:"start"}),a.push({time:u.end(l),type:"end"});for(l=c.length;l--;)a.push({time:c.start(l),type:"start"}),a.push({time:c.end(l),type:"end"});for(a.sort(function(t,e){return t.time-e.time}),l=0;l<a.length;l++)"start"===a[l].type?2===++o&&(r=a[l].time):"end"===a[l].type&&1===--o&&(i=a[l].time),null!==r&&null!==i&&(s.push([r,i]),r=null,i=null);return h.a.createTimeRanges(s)},Cn=function(t,e){var n=t.addSourceBuffer(e),r=Object.create(null);r.updating=!1,r.realBuffer_=n;for(var i in n)!function(t){"function"==typeof n[t]?r[t]=function(){return n[t].apply(n,arguments)}:void 0===r[t]&&Object.defineProperty(r,t,{get:function(){return n[t]},set:function(e){return n[t]=e}})}(i);return r},En=function(t){function e(t,n){Vt(this,e);var r=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,h.a.EventTarget));r.timestampOffset_=0,r.pendingBuffers_=[],r.bufferUpdating_=!1,r.mediaSource_=t,r.codecs_=n,r.audioCodec_=null,r.videoCodec_=null,r.audioDisabled_=!1,r.appendAudioInitSegment_=!0,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=h.a.browser.IE_VERSION>=11;var i={remux:!1,alignGopsAtEnd:r.safeAppend_};return r.codecs_.forEach(function(t){_n(t)?r.audioCodec_=t:Tn(t)&&(r.videoCodec_=t)}),r.transmuxer_=new cn,r.transmuxer_.postMessage({action:"init",options:i}),r.transmuxer_.onmessage=function(t){return"data"===t.data.action?r.data_(t):"done"===t.data.action?r.done_(t):"gopInfo"===t.data.action?r.appendGopInfo_(t):void 0},Object.defineProperty(r,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(r,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(r,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(r,"buffered",{get:function(){return kn(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),r}return zt(e,t),Ht(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),Xe(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){if("closed"===this.mediaSource_.readyState)return void(this.pendingBuffers_.length=0);this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(n){if(t[n+"Codec_"]&&!t[n+"Buffer_"]){var r=null;if(t.mediaSource_[n+"Buffer_"])r=t.mediaSource_[n+"Buffer_"],r.updating=!1;else{var i=n+"Codec_",o=n+'/mp4;codecs="'+t[i]+'"';r=Cn(t.mediaSource_.nativeMediaSource_,o),t.mediaSource_[n+"Buffer_"]=r}t[n+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(i){r.addEventListener(i,function(){if("audio"!==n||!t.audioDisabled_){"updateend"===i&&(t[n+"Buffer_"].updating=!1);return e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(n===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)})?t.trigger(i):void 0}})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:wn(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=Sn(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=On(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),Ye(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Ye(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,r=e.data,i=e.initSegment;return t[n].segments.push(r),t[n].bytes+=r.byteLength,t[n].initSegment=i,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),Je(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,r=void 0;if(t.bytes){r=new Uint8Array(t.bytes),t.segments.forEach(function(t){r.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(r)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(h.a.EventTarget),Pn=function(t){function e(){Vt(this,e);var t=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=void 0;t.nativeMediaSource_=new m.a.MediaSource;for(n in t.nativeMediaSource_)n in e.prototype||"function"!=typeof t.nativeMediaSource_[n]||(t[n]=t.nativeMediaSource_[n].bind(t.nativeMediaSource_));return t.duration_=NaN,Object.defineProperty(t,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){if(this.duration_=t,t!==1/0)return void(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(t,"seekable",{get:function(){return this.duration_===1/0?h.a.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(t,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(t,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),t.sourceBuffers=[],t.activeSourceBuffers_=[],t.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var n=!1,r=!0,i=0;i<t.player_.audioTracks().length;i++){var o=t.player_.audioTracks()[i];if(o.enabled&&"main"!==o.kind){n=!0,r=!1;break}}t.sourceBuffers.forEach(function(e,i){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=n;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,r=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=i?r:!r,e.audioDisabled_))return;t.activeSourceBuffers_.push(e)})},t.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},t.onHlsReset_=function(){t.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},t.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},t),t.on("sourceopen",function(e){var n=A.a.querySelector('[src="'+t.url_+'"]');n&&(t.player_=h()(n.parentNode),t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_))}),t.on("sourceended",function(e){for(var n=Qe(t.duration),r=0;r<t.sourceBuffers.length;r++){var i=t.sourceBuffers[r],o=i.metadataTrack_&&i.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=n)}}),t.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),t}return zt(e,t),Ht(e,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,n=bn(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=pn(r),r=r.filter(function(t){return _n(t)||Tn(t)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),e=new En(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}(h.a.EventTarget),An=0;h.a.mediaSources={};var xn=function(t,e){var n=h.a.mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})},jn=function(){return!!m.a.MediaSource&&!!m.a.MediaSource.isTypeSupported&&m.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Ln=function(){if(this.MediaSource={open:xn,supportsNativeMediaSources:jn},jn())return new Pn;throw new Error("Cannot use create a virtual MediaSource for this video")};Ln.open=xn,Ln.supportsNativeMediaSources=jn;var In={createObjectURL:function(t){var e=void 0;return t instanceof Pn?(e=m.a.URL.createObjectURL(t.nativeMediaSource_),t.url_=e,e):t instanceof Pn?(e="blob:vjs-media-source/"+An,An++,h.a.mediaSources[e]=t,e):(e=m.a.URL.createObjectURL(t),t.url_=e,e)}};h.a.MediaSource=Ln,h.a.URL=In;var Mn=h.a.EventTarget,Dn=h.a.mergeOptions,Rn=function(t,e){for(var n=Dn(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),r=0;r<e.playlists.length;r++){var i=te(n,e.playlists[r]);i&&(n=i)}return Qt(e,function(t,e,r,i){if(t.playlists&&t.playlists.length){var o=t.playlists[0].uri,a=te(n,t.playlists[0]);a&&(n=a,n.mediaGroups[e][r][i].playlists[0]=n.playlists[o])}}),n},Un=function(t){function e(t,n,r,i){Vt(this,e);var o=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(o.hls_=n,o.withCredentials=r,!t)throw new Error("A non-empty playlist URL or playlist is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_()}),"string"==typeof t?(o.srcUrl=t,o.state="HAVE_NOTHING",Wt(o)):(o.masterPlaylistLoader_=i,o.state="HAVE_METADATA",o.started=!0,o.media(t),m.a.setTimeout(function(){o.trigger("loadedmetadata")},0),o)}return zt(e,t),Ht(e,[{key:"dispose",value:function(){this.stopRequest(),m.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var e=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var n=!this.media_||t.uri!==this.media_.uri;this.state="HAVE_METADATA",n&&(this.media_&&this.trigger("mediachanging"),this.media_=t,this.refreshMedia_(),"HAVE_MASTER"!==e&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(){if(!this.started)return void this.start();this.trigger("loadedplaylist")}},{key:"parseMasterXml",value:function(){var t=wt(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});t.uri=this.srcUrl;for(var e=0;e<t.playlists.length;e++){var n="placeholder-uri-"+e;t.playlists[e].uri=n,t.playlists[n]=t.playlists[e]}return Qt(t,function(e,n,r,i){if(e.playlists&&e.playlists.length){var o="placeholder-uri-"+n+"-"+r+"-"+i;e.playlists[0].uri=o,t.playlists[o]=e.playlists[0]}}),ee(t),ne(t),t}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?t.masterLoaded_=Date.parse(n.responseHeaders.date):t.masterLoaded_=Date.now(),t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))}})}},{key:"syncClientServerClock_",value:function(t){var e=this,n=St(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),t()):void(this.request=this.hls_.xhr({uri:Ft(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},function(r,i){if(e.request){if(r)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var o=void 0;o="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):e.masterLoaded_:Date.parse(i.responseText),e.clientOffset_=o-Date.now(),t()}}))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),m.a.setTimeout(function(){t.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&m.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText;var r=t.parseMasterXml();t.master=Rn(t.master,r),m.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var t=this,e=void 0,n=void 0;this.masterPlaylistLoader_?(e=this.masterPlaylistLoader_.master,n=this.masterPlaylistLoader_.parseMasterXml()):(e=this.master,n=this.parseMasterXml());var r=Rn(e,n);r?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=r:this.master=r,this.media_=r.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=m.a.setTimeout(function(){t.trigger("mediaupdatetimeout")},re(this.media(),!!r))),this.trigger("loadedplaylist")}}]),e}(Mn),Nn=function(t){return h.a.log.debug?h.a.log.debug.bind(h.a,"VHS:",t+" >"):function(){}},Bn=function(){function t(e,n,r,i){Vt(this,t),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=r,this.mimeType_=n,this.logger_=Nn("SourceUpdater["+r+"]["+n+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,i)):this.createSourceBuffer_(n,i)}return Ht(t,[{key:"createSourceBuffer_",value:function(t,e){var n=this;if(this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2))return void e.on("sourcebufferadded",function(){n.start_()});this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.logger_("buffered ["+ze(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:h.a.createTimeRanges()}},{key:"remove",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+t+" => "+e+"]"),n.sourceBuffer_.remove(t,e)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),t}(),$n={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Fn={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Vn=function(t){var e=void 0;return e=t.offset+t.length-1,"bytes="+t.offset+"-"+e},Hn=function(t){var e={};return t.byterange&&(e.Range=Vn(t.byterange)),e},qn=function(t){t.forEach(function(t){t.abort()})},zn=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},Wn=function(t){var e=t.target,n=Date.now()-e.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},Gn=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Fn.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Fn.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Fn.FAILURE,xhr:e}:null},Xn=function(t,e){return function(n,r){var i=r.response,o=Gn(n,r);if(o)return e(o,t);if(16!==i.byteLength)return e({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:Fn.FAILURE,xhr:r},t);var a=new DataView(i);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}},Yn=function(t,e,n){return function(r,i){var o=i.response,a=Gn(r,i);return a?n(a,t):0===o.byteLength?n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:Fn.FAILURE,xhr:i},t):(t.map.bytes=new Uint8Array(i.response),e.isInitialized()||e.init(),t.map.timescales=kt.a.timescale(t.map.bytes),t.map.videoTrackIds=kt.a.videoTrackIds(t.map.bytes),n(null,t))}},Kn=function(t,e,n){return function(r,i){var o=i.response,a=Gn(r,i),s=void 0;return a?n(a,t):0===o.byteLength?n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:Fn.FAILURE,xhr:i},t):(t.stats=zn(i),t.key?t.encryptedBytes=new Uint8Array(i.response):t.bytes=new Uint8Array(i.response),t.map&&t.map.bytes&&(e.isInitialized()||e.init(),(s=e.parse(t.bytes,t.map.videoTrackIds,t.map.timescales))&&s.captions&&(t.captionStreams=s.captionStreams,t.fmp4Captions=s.captions)),n(null,t))}},Qn=function(t,e,n){var r=function r(i){if(i.data.source===e.requestId){t.removeEventListener("message",r);var o=i.data.decrypted;return e.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),n(null,e)}};t.addEventListener("message",r),t.postMessage(De({source:e.requestId,encrypted:e.encryptedBytes,key:e.key.bytes,iv:e.key.iv}),[e.encryptedBytes.buffer,e.key.bytes.buffer])},Jn=function(t){return t.reduce(function(t,e){return e.code>t.code?e:t})},Zn=function(t,e,n){var r=[],i=0;return function(o,a){if(o&&(qn(t),r.push(o)),(i+=1)===t.length){if(a.endOfAllRequests=Date.now(),r.length>0){var s=Jn(r);return n(s,a)}return a.encryptedBytes?Qn(e,a,n):n(null,a)}}},tr=function(t,e){return function(n){return t.stats=h.a.mergeOptions(t.stats,Wn(n)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(n,t)}},er=function(t,e,n,r,i,o,a){var s=[],u=Zn(s,n,a);if(i.key){var c=h.a.mergeOptions(e,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),l=Xn(i,u),p=t(c,l);s.push(p)}if(i.map&&!i.map.bytes){var d=h.a.mergeOptions(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Hn(i.map)}),f=Yn(i,r,u),y=t(d,f);s.push(y)}var v=h.a.mergeOptions(e,{uri:i.resolvedUri,responseType:"arraybuffer",headers:Hn(i)}),m=Kn(i,r,u),g=t(v,m);return g.addEventListener("progress",tr(i,o)),s.push(g),function(){return qn(s)}},nr=function(t,e){var n=void 0;return t?(n=m.a.getComputedStyle(t),n?n[e]:""):""},rr=function(t,e){var n=t.slice();t.sort(function(t,r){var i=e(t,r);return 0===i?n.indexOf(t)-n.indexOf(r):i})},ir=function(t,e){var n=void 0,r=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||m.a.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||m.a.Number.MAX_VALUE,n-r},or=function(t,e){var n=void 0,r=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||m.a.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||m.a.Number.MAX_VALUE,n===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-r},ar=function(t,e,n,r){var i=t.playlists.map(function(t){var e=void 0,n=void 0,r=void 0;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,r=t.attributes.BANDWIDTH,r=r||m.a.Number.MAX_VALUE,{bandwidth:r,width:e,height:n,playlist:t}});rr(i,function(t,e){return t.bandwidth-e.bandwidth}),i=i.filter(function(t){return!Pe.isIncompatible(t.playlist)});var o=i.filter(function(t){return Pe.isEnabled(t.playlist)});o.length||(o=i.filter(function(t){return!Pe.isDisabled(t.playlist)}));var a=o.filter(function(t){return t.bandwidth*$n.BANDWIDTH_VARIANCE<e}),s=a[a.length-1],u=a.filter(function(t){return t.bandwidth===s.bandwidth})[0],c=a.filter(function(t){return t.width&&t.height});rr(c,function(t,e){return t.width-e.width});var l=c.filter(function(t){return t.width===n&&t.height===r});s=l[l.length-1];var p=l.filter(function(t){return t.bandwidth===s.bandwidth})[0],d=void 0,h=void 0,f=void 0;p||(d=c.filter(function(t){return t.width>n||t.height>r}),h=d.filter(function(t){return t.width===d[0].width&&t.height===d[0].height}),s=h[h.length-1],f=h.filter(function(t){return t.bandwidth===s.bandwidth})[0]);var y=f||p||u||o[0]||i[0];return y?y.playlist:null},sr=function(){return ar(this.playlists.master,this.systemBandwidth,parseInt(nr(this.tech_.el(),"width"),10),parseInt(nr(this.tech_.el(),"height"),10))},ur=function(t){var e=t.master,n=t.currentTime,r=t.bandwidth,i=t.duration,o=t.segmentDuration,a=t.timeUntilRebuffer,s=t.currentTimeline,u=t.syncController,c=e.playlists.filter(function(t){return!Pe.isIncompatible(t)}),l=c.filter(Pe.isEnabled);l.length||(l=c.filter(function(t){return!Pe.isDisabled(t)}));var p=l.filter(Pe.hasAttribute.bind(null,"BANDWIDTH")),d=p.map(function(t){var e=u.getSyncPoint(t,i,s,n),c=e?1:2;return{playlist:t,rebufferingImpact:Pe.estimateSegmentRequestTime(o,r,t)*c-a}}),h=d.filter(function(t){return t.rebufferingImpact<=0});return rr(h,function(t,e){return ir(e.playlist,t.playlist)}),h.length?h[0]:(rr(d,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),d[0]||null)},cr=function(){var t=this.playlists.master.playlists.filter(Pe.isEnabled);return rr(t,function(t,e){return ir(t,e)}),t.filter(function(t){return dn(t.attributes.CODECS).videoCodec})[0]||null},lr=function(t,e,n){for(var r in n)if(!t[r]){e.trigger({type:"usage",name:"hls-608"});var i=e.textTracks().getTrackById(r);t[r]=i||e.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}},pr=function(t){var e=t.inbandTextTracks,n=t.captionArray,r=t.timestampOffset;if(n){var i=window.WebKitDataCue||window.VTTCue;n.forEach(function(t){var n=t.stream,o=t.startTime,a=t.endTime;e[n]&&(o+=r,a+=r,e[n].addCue(new i(o,a,t.text)))})}},dr=function(t,e,n){if(!t||!e)return!1;var r=t.segments,i=n===r.length;return t.endList&&"open"===e.readyState&&i},hr=function(t){return"number"==typeof t&&isFinite(t)},fr=function(t,e,n){return"main"===t&&e&&n?n.containsAudio||n.containsVideo?e.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},yr=function(t,e,n){var r=void 0;return r=t.length&&t.start(0)>0&&t.start(0)<e?t.start(0):e-30,Math.min(r,e-n)},vr=function(t){var e=t.segment,n=e.start,r=e.end,i=t.playlist,o=i.mediaSequence,a=i.id,s=i.segments,u=void 0===s?[]:s,c=t.mediaIndex,l=t.timeline;return["appending ["+c+"] of ["+o+", "+(o+u.length)+"] from playlist ["+a+"]","["+n+" => "+r+"] in timeline ["+l+"]"].join(" ")},mr=function(t){function e(t){Vt(this,e);var n=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=t.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=t.hasPlayed,n.currentTime_=t.currentTime,n.seekable_=t.seekable,n.seeking_=t.seeking,n.duration_=t.duration,n.mediaSource_=t.mediaSource,n.hls_=t.hls,n.loaderType_=t.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=t.segmentMetadataTrack,n.goalBufferLength_=t.goalBufferLength,n.sourceType_=t.sourceType,n.inbandTextTracks_=t.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.captionParser_=new Ct.CaptionParser,n.decrypter_=t.decrypter,n.syncController_=t.syncController,n.syncPoint_={segmentIndex:0,time:0},n.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),n.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),n.fetchAtBuffer_=!1,n.logger_=Nn("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),n}return zt(e,t),Ht(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){if("WAITING"!==this.state)return void(this.pendingSegment_&&(this.pendingSegment_=null));this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():h.a.createTimeRanges()}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=Re(t),r=this.initSegments_[n];return e&&!r&&t.bytes&&(this.initSegments_[n]=r={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),r||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Bn(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var i=n?n.id:null;if(this.logger_("playlist update ["+i+" => "+t.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==t.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var o=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),r&&(r.mediaIndex-=o,r.mediaIndex>=0&&(r.segment=t.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(m.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),t),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,n),Ye(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)Ye(t,e,this.inbandTextTracks_[r])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&m.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=m.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&m.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=m.a.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t){if(dr(this.playlist_,this.mediaSource_,t.mediaIndex))return void this.endOfStream();(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(t))}}}},{key:"checkBuffer_",value:function(t,e,n,r,i,o){var a=0,s=void 0;t.length&&(a=t.end(t.length-1));var u=Math.max(0,a-i);if(!e.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!r&&u>=1)return null;if(null===o)return n=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,n,null,!0);if(null!==n){var c=e.segments[n];return s=c&&c.end?c.end:a,this.generateSegmentInfo_(e,n+1,s,!1)}if(this.fetchAtBuffer_){var l=Pe.getMediaInfoForTime(e,a,o.segmentIndex,o.time);n=l.mediaIndex,s=l.startTime}else{var p=Pe.getMediaInfoForTime(e,i,o.segmentIndex,o.time);n=p.mediaIndex,s=p.startTime}return this.generateSegmentInfo_(e,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,r){if(e<0||e>=t.segments.length)return null;var i=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:i.resolvedUri,mediaIndex:e,isSyncRequest:r,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:i.duration,segment:i}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,r=this.pendingSegment_.duration,i=Pe.estimateSegmentRequestTime(r,n,this.playlist_,t.bytesReceived),o=We(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(i<=o)return!1;var a=ur({master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=i-o,u=s-a.rebufferingImpact,c=.5;return o<=1/30&&(c=1),!a.playlist||a.playlist.uri===this.playlist_.uri||u<c?!1:(this.bandwidth=a.playlist.attributes.BANDWIDTH*$n.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=er(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=yr(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var r=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key={resolvedUri:e.key.resolvedUri,iv:r}}return e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===Fn.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===Fn.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(lr(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),pr({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(!this.pendingSegment_)return void(this.state="READY");var e=this.pendingSegment_,n=e.segment,r=this.syncController_.probeSegmentInfo(e);void 0===this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var i=fr(this.loaderType_,this.startingMedia_,r);if(i)return this.error({message:i,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var o=this.syncController_.mappingForTimeline(e.timeline);if(null!==o&&this.trigger({type:"segmenttimemapping",mapping:o}),this.state="APPENDING",n.map){var a=Re(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==a){var s=this.initSegment(n.map);this.sourceUpdater_.appendBuffer(s.bytes,function(){t.activeInitSegmentId_=a})}}e.byteLength=e.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_(vr(e)),this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;if(this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration)return void this.resetEverything();n&&this.trigger("bandwidthupdate"),this.trigger("progress"),dr(t.playlist,this.mediaSource_,t.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,r=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(r-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,n=e.start,r=e.end;if(hr(n)&&hr(r)){Ye(n,r,this.segmentMetadataTrack_);var i=m.a.WebKitDataCue||m.a.VTTCue,o={bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:r},a=JSON.stringify(o),s=new i(n,r,a);s.value=o,this.segmentMetadataTrack_.addCue(s)}}}}]),e}(h.a.EventTarget),gr=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},br=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),_r=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vt(this,e);var r=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.mediaSource_=null,r.subtitlesTrack_=null,r}return zt(e,t),Ht(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return h.a.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return h.a.createTimeRanges([[e,n]])}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var n=Re(t),r=this.initSegments_[n];if(e&&!r&&t.bytes){var i=br.byteLength+t.bytes.byteLength,o=new Uint8Array(i);o.set(t.bytes),o.set(br,t.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:o}}return r||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t?this.subtitlesTrack_:(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(t,e){Ye(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){var n=function(){t.state="READY",t.paused()||t.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(!this.pendingSegment_||!this.subtitlesTrack_)return void(this.state="READY");this.state="APPENDING";var e=this.pendingSegment_,n=e.segment;if("function"!=typeof m.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){t.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",r),void this.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",r),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")})}n.requested=!0;try{this.parseVTTCues_(e)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function(t){var e=void 0,n=!1;"function"==typeof m.a.TextDecoder?e=new m.a.TextDecoder("utf8"):(e=m.a.WebVTT.StringDecoder(),n=!0);var r=new m.a.WebVTT.Parser(m.a,m.a.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=t.cues.push.bind(t.cues),r.ontimestampmap=function(e){return t.timestampmap=e},r.onparsingerror=function(t){h.a.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var i=t.segment.map.bytes;n&&(i=gr(i)),r.parse(i)}var o=t.bytes;n&&(o=gr(o)),r.parse(o),r.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var r=t.segment;if(e){if(!t.cues.length)return void(r.empty=!0);var i=t.timestampmap,o=i.MPEGTS/9e4-i.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=o,t.endTime+=o}),!n.syncInfo){var a=t.cues[0].startTime,s=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(a,s-r.duration)}}}}}]),e}(mr),Tr=function(t,e){for(var n=t.cues,r=0;r<n.length;r++){var i=n[r];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},wr=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.segments)for(var r=n,i=void 0,o=0;o<t.segments.length;o++){var a=t.segments[o];if(i||(i=Tr(e,r+a.duration/2)),i){if("cueIn"in a){i.endTime=r,i.adEndTime=r,r+=a.duration,i=null;continue}if(r<i.endTime){r+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new m.a.VTTCue(r,r+a.duration,a.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(a.cueOut),e.addCue(i)),"cueOutCont"in a){var s=void 0,u=void 0,c=a.cueOutCont.split("/").map(parseFloat),l=Gt(c,2);s=l[0],u=l[1],i=new m.a.VTTCue(r,r+a.duration,""),i.adStartTime=r-s,i.adEndTime=i.adStartTime+u,e.addCue(i)}r+=a.duration}},Sr=Pt.a.inspect,Or=[{name:"VOD",run:function(t,e,n,r,i){if(n!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(t,e,n,r,i){if(!t.datetimeToDisplayTime)return null;var o=e.segments||[],a=null,s=null;i=i||0;for(var u=0;u<o.length;u++){var c=o[u];if(c.dateTimeObject){var l=c.dateTimeObject.getTime()/1e3,p=l+t.datetimeToDisplayTime,d=Math.abs(i-p);if(null!==s&&s<d)break;s=d,a={time:p,segmentIndex:u}}}return a}},{name:"Segment",run:function(t,e,n,r,i){var o=e.segments||[],a=null,s=null;i=i||0;for(var u=0;u<o.length;u++){var c=o[u];if(c.timeline===r&&void 0!==c.start){var l=Math.abs(i-c.start);if(null!==s&&s<l)break;(!a||null===s||s>=l)&&(s=l,a={time:c.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(t,e,n,r,i){var o=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,s=0;s<e.discontinuityStarts.length;s++){var u=e.discontinuityStarts[s],c=e.discontinuitySequence+s+1,l=t.discontinuities[c];if(l){var p=Math.abs(i-l.time);if(null!==a&&a<p)break;(!o||null===a||a>=p)&&(a=p,o={time:l.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(t,e,n,r,i){if(e.syncInfo){return{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}}return null}}],kr=function(t){function e(){Vt(this,e);var t=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=Nn("SyncController"),t}return zt(e,t),Ht(e,[{key:"getSyncPoint",value:function(t,e,n,r){var i=this.runStrategies_(t,e,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+le(t,r.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,r){for(var i=[],o=0;o<Or.length;o++){var a=Or[o],s=a.run(this,t,e,n,r);s&&(s.strategy=a.name,i.push({strategy:a.name,syncPoint:s}))}return i}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,r=Math.abs(t[0].syncPoint[e.key]-e.value),i=t[0].strategy,o=1;o<t.length;o++){var a=Math.abs(t[o].syncPoint[e.key]-e.value);a<r&&(r=a,n=t[o].syncPoint,i=t[o].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+i+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence,r=n-1;r>=0;r--){var i=t.segments[r];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+r,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,n=t.playlist,r=void 0;return r=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t),r&&this.calculateSegmentTimeMapping_(t,r)&&(this.saveDiscontinuitySyncInfo_(t),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:e.start})),r}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=kt.a.timescale(e.map.bytes),r=kt.a.startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=r),{start:r,end:r+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=Sr(t.bytes,this.inspectCache_),n=void 0,r=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,n=e.video[0].dtsTime,r=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,n=e.audio[0].dtsTime,r=e.audio[1].dtsTime),{start:n,end:r,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,r=this.timelines[t.timeline];if(null!==t.timestampOffset)r={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]"),n.start=t.startOfSegment,n.end=e.end+r.mapping;else{if(!r)return!1;n.start=e.start+r.mapping,n.end=e.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var r=0;r<e.discontinuityStarts.length;r++){var i=e.discontinuityStarts[r],o=e.discontinuitySequence+r+1,a=i-t.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u=void 0;u=a<0?n.start-le(e,t.mediaIndex,i):n.end+le(e,t.mediaIndex+1,i),this.discontinuities[o]={time:u,accuracy:s}}}}}]),e}(h.a.EventTarget),Cr=new o("./decrypter-worker.worker.js",function(t,e){var n=this;!function(){function t(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},a=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],r=e[4],i=n[4],o=void 0,a=void 0,s=void 0,u=[],c=[],l=void 0,p=void 0,d=void 0,h=void 0,f=void 0,y=void 0;for(o=0;o<256;o++)c[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=l||1,s=c[s]||1)for(h=s^s<<1^s<<2^s<<3^s<<4,h=h>>8^255&h^99,r[a]=h,i[h]=a,d=u[p=u[l=u[a]]],y=16843009*d^65537*p^257*l^16843008*a,f=257*u[h]^16843008*h,o=0;o<4;o++)e[o][a]=f=f<<24^f>>>8,n[o][h]=y=y<<24^y>>>8;for(o=0;o<5;o++)e[o]=e[o].slice(0),n[o]=n[o].slice(0);return t},s=null,u=function(){function t(n){e(this,t),s||(s=a()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var r=void 0,i=void 0,o=void 0,u=void 0,c=void 0,l=this._tables[0][4],p=this._tables[1],d=n.length,h=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(u=n.slice(0),c=[],this._key=[u,c],r=d;r<4*d+28;r++)o=u[r-1],(r%d==0||8===d&&r%d==4)&&(o=l[o>>>24]<<24^l[o>>16&255]<<16^l[o>>8&255]<<8^l[255&o],r%d==0&&(o=o<<8^o>>>24^h<<24,h=h<<1^283*(h>>7))),u[r]=u[r-d]^o;for(i=0;r;i++,r--)o=u[3&i?r:r-4],c[i]=r<=4||i<4?o:p[0][l[o>>>24]]^p[1][l[o>>16&255]]^p[2][l[o>>8&255]]^p[3][l[255&o]]}return t.prototype.decrypt=function(t,e,n,r,i,o){var a=this._key[1],s=t^a[0],u=r^a[1],c=n^a[2],l=e^a[3],p=void 0,d=void 0,h=void 0,f=a.length/4-2,y=void 0,v=4,m=this._tables[1],g=m[0],b=m[1],_=m[2],T=m[3],w=m[4];for(y=0;y<f;y++)p=g[s>>>24]^b[u>>16&255]^_[c>>8&255]^T[255&l]^a[v],d=g[u>>>24]^b[c>>16&255]^_[l>>8&255]^T[255&s]^a[v+1],h=g[c>>>24]^b[l>>16&255]^_[s>>8&255]^T[255&u]^a[v+2],l=g[l>>>24]^b[s>>16&255]^_[u>>8&255]^T[255&c]^a[v+3],v+=4,s=p,u=d,c=h;for(y=0;y<4;y++)i[(3&-y)+o]=w[s>>>24]<<24^w[u>>16&255]<<16^w[c>>8&255]<<8^w[255&l]^a[v++],p=s,s=u,u=c,c=l,l=p},t}(),c=function(){function t(){e(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,r=0;r<n;++r)e[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,i)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),l=function(t){function n(){e(this,n);var r=o(this,t.call(this,c));return r.jobs=[],r.delay=1,r.timeout_=null,r}return i(n,t),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(c),p=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},d=function(t,e,n){var r=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),i=new u(Array.prototype.slice.call(e)),o=new Uint8Array(t.byteLength),a=new Int32Array(o.buffer),s=void 0,c=void 0,l=void 0,d=void 0,h=void 0,f=void 0,y=void 0,v=void 0,m=void 0;for(s=n[0],c=n[1],l=n[2],d=n[3],m=0;m<r.length;m+=4)h=p(r[m]),f=p(r[m+1]),y=p(r[m+2]),v=p(r[m+3]),i.decrypt(h,f,y,v,a,m),a[m]=p(a[m]^s),a[m+1]=p(a[m+1]^c),a[m+2]=p(a[m+2]^l),a[m+3]=p(a[m+3]^d),s=h,c=f,l=y,d=v;return o},h=function(){function n(r,i,o,a){e(this,n);var s=n.STEP,u=new Int32Array(r.buffer),c=new Uint8Array(r.byteLength),d=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(u.subarray(d,d+s),i,o,c)),d=s;d<u.length;d+=s)o=new Uint32Array([p(u[d-4]),p(u[d-3]),p(u[d-2]),p(u[d-1])]),this.asyncStream_.push(this.decryptChunk_(u.subarray(d,d+s),i,o,c));this.asyncStream_.push(function(){a(null,t(c))})}return n.prototype.decryptChunk_=function(t,e,n,r){return function(){var i=d(t,e,n);r.set(i,t.byteOffset)}},r(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}(),f=function(t){var e={};return Object.keys(t).forEach(function(n){var r=t[n];ArrayBuffer.isView(r)?e[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[n]=r}),e};new function(t){t.onmessage=function(e){var n=e.data,r=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),i=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new h(r,i,o,function(e,r){t.postMessage(f({source:n.source,decrypted:r}),[r.buffer])})}}(n)}()}),Er=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Pr=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Ar=function(t,e){e.activePlaylistLoader=t,t.load()},xr=function(t,e){return function(){var n=e.segmentLoaders,r=n[t],i=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(Pr(r,o),s){if(!s.playlistLoader)return void(u&&i.resetEverything());r.resyncLoader(),Ar(s.playlistLoader,o)}}},jr=function(t,e){return function(){var n=e.segmentLoaders,r=n[t],i=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(Pr(r,o),s){if(!s.playlistLoader)return void i.resetEverything();if(u===s.playlistLoader)return void Ar(s.playlistLoader,o);r.track&&r.track(a),r.resetEverything(),Ar(s.playlistLoader,o)}}},Lr={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],r=e.mediaTypes[t],i=e.blacklistCurrentPlaylist;Pr(n,r);var o=r.activeTrack(),a=r.activeGroup(),s=(a.filter(function(t){return t.default})[0]||a[0]).id,u=r.tracks[s];if(o===u)return void i({message:"Problem encountered loading the default audio track."});h.a.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in r.tracks)r.tracks[c].enabled=r.tracks[c]===u;r.onTrackChanged()}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],r=e.mediaTypes[t];h.a.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Pr(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}},Ir={AUDIO:function(t,e,n){if(e){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();o.playlist(t,i),(!r.paused()||t.endList&&"none"!==r.preload())&&o.load()}),e.on("loadedplaylist",function(){o.playlist(e.media(),i),r.paused()||o.load()}),e.on("error",Lr[t](t,n))}},SUBTITLES:function(t,e,n){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[t],a=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();o.playlist(t,i),o.track(a.activeTrack()),(!r.paused()||t.endList&&"none"!==r.preload())&&o.load()}),e.on("loadedplaylist",function(){o.playlist(e.media(),i),r.paused()||o.load()}),e.on("error",Lr[t](t,n))}},Mr=function(t,e){return function(n){return n.attributes[t]===e}},Dr=function(t){return function(e){return e.resolvedUri===t}},Rr={AUDIO:function(t,e){var n=e.hls,r=e.sourceType,i=e.segmentLoaders[t],o=e.requestOptions.withCredentials,a=e.master,s=a.mediaGroups,u=a.playlists,c=e.mediaTypes[t],l=c.groups,p=c.tracks,d=e.masterPlaylistLoader;s[t]&&0!==Object.keys(s[t]).length||(s[t]={main:{default:{default:!0}}});for(var f in s[t]){l[f]||(l[f]=[]);var y=u.filter(Mr(t,f));for(var v in s[t][f]){var m=s[t][f][v];y.filter(Dr(m.resolvedUri)).length&&delete m.resolvedUri;var g=void 0;if(g=m.resolvedUri?new ie(m.resolvedUri,n,o):m.playlists&&"dash"===r?new Un(m.playlists[0],n,o,d):null,m=h.a.mergeOptions({id:v,playlistLoader:g},m),Ir[t](t,m.playlistLoader,e),l[f].push(m),void 0===p[v]){var b=new h.a.AudioTrack({id:v,kind:Er(m),enabled:!1,language:m.language,default:m.default,label:v});p[v]=b}}}i.on("error",Lr[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,r=e.hls,i=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions.withCredentials,s=e.master.mediaGroups,u=e.mediaTypes[t],c=u.groups,l=u.tracks,p=e.masterPlaylistLoader;for(var d in s[t]){c[d]||(c[d]=[]);for(var f in s[t][d])if(!s[t][d][f].forced){var y=s[t][d][f],v=void 0;if("hls"===i?v=new ie(y.resolvedUri,r,a):"dash"===i&&(v=new Un(y.playlists[0],r,a,p)),y=h.a.mergeOptions({id:f,playlistLoader:v},y),Ir[t](t,y.playlistLoader,e),c[d].push(y),void 0===l[f]){var m=n.addRemoteTextTrack({id:f,kind:"subtitles",enabled:!1,language:y.language,label:f},!1).track;l[f]=m}}}o.on("error",Lr[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,r=e.master.mediaGroups,i=e.mediaTypes[t],o=i.groups,a=i.tracks;for(var s in r[t]){o[s]||(o[s]=[]);for(var u in r[t][s]){var c=r[t][s][u];if(c.instreamId.match(/CC\d/)&&(o[s].push(h.a.mergeOptions({id:u},c)),void 0===a[u])){var l=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",enabled:!1,language:c.language,label:u},!1).track;a[u]=l}}}}},Ur=function(t,e){return function(n){var r=e.masterPlaylistLoader,i=e.mediaTypes[t].groups,o=r.media();if(!o)return null;var a=null;return o.attributes[t]&&(a=i[o.attributes[t]]),a=a||i.main,void 0===n?a:null===n?null:a.filter(function(t){return t.id===n.id})[0]||null}},Nr={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var r in n)if("showing"===n[r].mode)return n[r];return null}}},Br=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){Rr[e](e,t)});var e=t.mediaTypes,n=t.masterPlaylistLoader,r=t.tech,i=t.hls;["AUDIO","SUBTITLES"].forEach(function(n){e[n].activeGroup=Ur(n,t),e[n].activeTrack=Nr[n](n,t),e[n].onGroupChanged=xr(n,t),e[n].onTrackChanged=jr(n,t)});var o=e.AUDIO.activeGroup(),a=(o.filter(function(t){return t.default})[0]||o[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return e[t].onGroupChanged()})});var s=function(){e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var u in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[u])},$r=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:u,activeTrack:u,onGroupChanged:u,onTrackChanged:u}}),t},Fr=void 0,Vr=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Hr=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},qr=function(t){function e(t){Vt(this,e);var n=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=t.url,i=t.withCredentials,o=t.tech,a=t.bandwidth,s=t.externHls,u=t.useCueTags,c=t.blacklistDuration,l=t.enableLowInitialPlaylist,p=t.sourceType,d=t.seekTo;if(!r)throw new Error("A non-empty playlist URL is required");Fr=s,n.withCredentials=i,n.tech_=o,n.hls_=o.hls,n.seekTo_=d,n.sourceType_=p,n.useCueTags_=u,n.blacklistDuration=c,n.enableLowInitialPlaylist=l,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:n.withCredentials,timeout:null},n.mediaTypes_=$r(),n.mediaSource=new h.a.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=h.a.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new kr(t),n.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Cr,n.inbandTextTracks_={};var f={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:a,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_};return n.masterPlaylistLoader_="dash"===n.sourceType_?new Un(r,n.hls_,n.withCredentials):new ie(r,n.hls_,n.withCredentials),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new mr(h.a.mergeOptions(f,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new mr(h.a.mergeOptions(f,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new _r(h.a.mergeOptions(f,{loaderType:"vtt"}),t),n.setupSegmentLoaderListeners_(),Vr.forEach(function(t){n[t+"_"]=Hr.bind(n,t)}),n.logger_=Nn("MPC"),n.masterPlaylistLoader_.load(),n}return zt(e,t),Ht(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;Ee(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),Br({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(e){return h.a.log.warn("Failed to create SourceBuffers",e),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),t.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){t.excludeUnsupportedVariants_();var n=void 0;return t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,void t.masterPlaylistLoader_.media(t.initialMedia_)}if(t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||(t.mainSegmentLoader_.load(),t.audioSegmentLoader_&&t.audioSegmentLoader_.load()),!e.endList){var r=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};if(t.duration()!==1/0){var i=function e(){t.duration()===1/0?r():t.tech_.one("durationchange",e)};t.tech_.one("durationchange",i)}else r()}}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;Ee(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n=t.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o]){var s=n.AUDIO[o][a];s.uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Fr.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Fr.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),r=t.tech_.buffered(),i=r.length?r.end(r.length-1)-t.tech_.currentTime():0,o=t.bufferLowWaterLine();(!n.endList||t.duration()<$n.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<n.attributes.BANDWIDTH||i>=o)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.seekTo_(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(h.a.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.seekTo_(n.end(0)),t.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return h.a.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var n=Fr.Playlist.playlistEnd(t,e),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=.1;var o=i.end(i.length-1);return o-r<=.1&&n-o<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=void 0,r=void 0;if(n=t.playlist||this.masterPlaylistLoader_.media(),e=e||t.blacklistDuration||this.blacklistDuration,!n){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(Te).length;return i?(h.a.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(n.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),h.a.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=Ve(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Fr.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==r&&(t=Fr.Playlist.seekable(n,r),0!==t.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(e=Fr.Playlist.seekable(n,r),0===e.length)return}e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=h.a.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.logger_("seekable updated ["+ze(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=Fr.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),i=function e(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",i):i())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var n=t.mediaTypes_[e].groups;for(var r in n)n[r].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t=this.masterPlaylistLoader_.media(),e=void 0;if(t&&"open"===this.mediaSource.readyState){if(e=gn(this.masterPlaylistLoader_.master,t),e.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=t.length>1&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new h.a.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){t.attributes.CODECS&&m.a.MediaSource&&m.a.MediaSource.isTypeSupported&&!m.a.MediaSource.isTypeSupported('video/mp4; codecs="'+hn(t.attributes.CODECS)+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(t){var e=2,n=null,r=void 0;t.attributes.CODECS&&(r=dn(t.attributes.CODECS),n=r.videoCodec,e=r.codecCount),this.master().playlists.forEach(function(t){var r={codecCount:2,videoCodec:null};t.attributes.CODECS&&(r=dn(t.attributes.CODECS)),r.codecCount!==e&&(t.excludeUntil=1/0),r.videoCodec!==n&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),wr(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=$n.GOAL_BUFFER_LENGTH,n=$n.GOAL_BUFFER_LENGTH_RATE,r=Math.max(e,$n.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,r)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=$n.BUFFER_LOW_WATER_LINE,n=$n.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(e,$n.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,r)}}]),e}(h.a.EventTarget),zr=function(t,e,n){return function(r){var i=t.master.playlists[e],o=_e(i),a=Te(i);return void 0===r?a:(r?delete i.disabled:i.disabled=!0,r===a||o||(n(),r?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),r)}},Wr=function t(e,n,r){Vt(this,t);var i=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);if(n.attributes.RESOLUTION){var o=n.attributes.RESOLUTION;this.width=o.width,this.height=o.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=r,this.enabled=zr(e.playlists,n.uri,i)},Gr=function(t){var e=t.playlists;t.representations=function(){return e.master.playlists.filter(function(t){return!_e(t)}).map(function(e,n){return new Wr(t,e,e.uri)})}},Xr=["seeking","seeked","pause","playing","error"],Yr=function(){function t(e){var n=this;Vt(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.seekTo=e.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Nn("PlaybackWatcher"),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},i=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",i),this.tech_.on(Xr,o),this.tech_.on("canplay",r),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",i),n.tech_.off(Xr,o),n.tech_.off("canplay",r),n.checkCurrentTimeTimeout_&&m.a.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return Ht(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&m.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=m.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),n=this.tech_.currentTime(),r=void 0;if(t&&this.afterSeekableWindow_(e,n)){r=e.end(e.length-1)}if(t&&this.beforeSeekableWindow_(e,n)){r=e.start(0)+.1}return void 0!==r&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+ze(e)+". Seeking to "+r+"."),this.seekTo(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=Ve(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),i=He(r,e);if(this.videoUnderflow_(i,r,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(i.length>0){var o=i.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+o+", seeking to "+i.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){var r=this.gapFromVideoUnderflow_(e,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),r=He(e,n);this.cancelTimer_(),0!==r.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",r.start(0)),this.seekTo(r.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=qe(t),r=0;r<n.length;r++){var i=n.start(r),o=n.end(r);if(e-i<4&&e-i>2)return{start:i,end:o}}return null}}]),t}(),Kr={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},Qr=function t(e,n){var r=0,i=0,o=h.a.mergeOptions(Kr,n);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){i&&e.currentTime(i)},s=function(t){null!==t&&void 0!==t&&(i=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){return Date.now()-r<1e3*o.errorInterval?void e.trigger({type:"usage",name:"hls-error-reload-canceled"}):o.getSource&&"function"==typeof o.getSource?(r=Date.now(),o.getSource.call(e,s)):void h.a.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},c=function t(){e.off("loadedmetadata",a),e.off("error",u),e.off("dispose",t)},l=function(n){c(),t(e,n)};e.on("error",u),e.on("dispose",c),e.reloadSourceOnError=l},Jr=function(t){Qr(this,t)};h.a.use("*",function(t){return{setSource:function(t,e){e(null,t)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.currentTime())}}});var Zr={PlaylistLoader:ie,Playlist:Pe,Decrypter:$t,AsyncStream:Ut,decrypt:Bt,utils:$e,STANDARD_PLAYLIST_SELECTOR:sr,INITIAL_PLAYLIST_SELECTOR:cr,comparePlaylistBandwidth:ir,comparePlaylistResolution:or,xhr:je()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(Zr,t,{get:function(){return h.a.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),$n[t]},set:function(e){if(h.a.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0)return void h.a.log.warn("value of Hls."+t+" must be greater than or equal to 0");$n[t]=e}})});var ti=function(t){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t)?"hls":/^application\/dash\+xml/i.test(t)?"dash":null},ei=function(t,e){for(var n=e.media(),r=-1,i=0;i<t.length;i++)if(t[i].id===n.uri){r=i;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},ni=function(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),ei(t,e.playlists)};Zr.canPlaySource=function(){return h.a.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ri=function(t,e,n){if(!t)return t;var r={};for(var i in t)r[i]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+e.attributes.CODECS+'"'},e.contentProtection&&e.contentProtection[i]&&e.contentProtection[i].pssh&&(r[i].pssh=e.contentProtection[i].pssh),"string"==typeof t[i]&&(r[i].url=t[i]);return h.a.mergeOptions(t,r)},ii=function(t){if("dash"===t.options_.sourceType){var e=h.a.players[t.tech_.options_.playerId];if(e.eme){var n=ri(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(e.currentSource().keySystems=n)}}};Zr.supportsNativeHls=function(){var t=A.a.createElement("video");return!!h.a.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),Zr.supportsNativeDash=function(){return!!h.a.getTech("Html5").isSupported()&&/maybe|probably/i.test(A.a.createElement("video").canPlayType("application/dash+xml"))}(),Zr.supportsTypeNatively=function(t){return"hls"===t?Zr.supportsNativeHls:"dash"===t&&Zr.supportsNativeDash},Zr.isSupported=function(){return h.a.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var oi=h.a.getComponent("Component"),ai=function(t){function e(t,n,r){Vt(this,e);var i=Wt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r.hls));if(n.options_&&n.options_.playerId){var o=h()(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return h.a.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),i}}),o.vhs=i,o.dash=i}if(i.tech_=n,i.source_=t,i.stats={},i.setOptions_(),i.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(A.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=A.a.fullscreenElement||A.a.webkitFullscreenElement||A.a.mozFullScreenElement||A.a.msFullscreenElement;e&&e.contains(i.tech_.el())&&i.masterPlaylistController_.smoothQualityChange_()}),i.on(i.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),i.on(i.tech_,"play",i.play),i}return zt(e,t),Ht(e,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(t,e){var n=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Zr,this.options_.sourceType=ti(e),this.options_.seekTo=function(t){n.tech_.setCurrentTime(t),n.setCurrentTime(t)},this.masterPlaylistController_=new qr(this.options_),this.playbackWatcher_=new Yr(h.a.mergeOptions(this.options_,{seekable:function(){return n.seekable()}})),this.masterPlaylistController_.on("error",function(){h.a.players[n.tech_.options_.playerId].error(n.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Zr.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Zr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){h.a.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Ge(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Ge(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){Gr(n),ii(n)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return n.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(h.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=h.a.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){ni(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){ei(t.qualityLevels_,t.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),qt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}}]),e}(oi),si={name:"videojs-http-streaming",VERSION:"1.2.5",canHandleSource:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=h.a.mergeOptions(h.a.options,e);return si.canPlayType(t.type,n)},handleSource:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=h.a.mergeOptions(h.a.options,n);return e.hls=new ai(t,e,r),e.hls.xhr=je(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=h.a.mergeOptions(h.a.options,e),r=n.hls.overrideNative,i=ti(t);return!i||Zr.supportsTypeNatively(i)&&!r?"":"maybe"}};void 0!==h.a.MediaSource&&void 0!==h.a.URL||(h.a.MediaSource=Ln,h.a.URL=In),Ln.supportsNativeMediaSources()&&h.a.getTech("Html5").registerSourceHandler(si,0),h.a.HlsHandler=ai,h.a.HlsSourceHandler=si,h.a.Hls=Zr,h.a.use||h.a.registerComponent("Hls",Zr),h.a.options.hls=h.a.options.hls||{},h.a.registerPlugin?h.a.registerPlugin("reloadSourceOnError",Jr):h.a.plugin("reloadSourceOnError",Jr);var ui=n(196),ci=n(349),li=n(30),pi=n(142),di=n(58),hi=n(59),fi=n(3),yi=hi.a.js,vi=yi.evaluatedJSMark,mi=yi.startedJSExecutionMark,gi=yi.evaluateMainJSMeasure;Object(di.b)(gi,mi,vi),Object(ci.a)().createPlayer=p},function(t,e,n){var r="undefined"!=typeof window?window:{},i=n(360);if("undefined"!=typeof document)t.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=o}},function(t,e){},function(t,e){var n=function(t){return t>>>0};t.exports={toUnsigned:n}},function(t,e,n){t.exports={generator:n(352),probe:n(143),Transmuxer:n(195).Transmuxer,AudioSegmentStream:n(195).AudioSegmentStream,VideoSegmentStream:n(195).VideoSegmentStream,CaptionParser:n(373)}},function(t,e){var n=function(t){var e,n,r=[],i=[];for(r.byteLength=0,e=0;e<t.length;e++)n=t[e],"access_unit_delimiter_rbsp"===n.nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),r=[n],r.byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},r=function(t){var e,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,e=0;e<t.length;e++)n=t[e],n.keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),r=[n],r.nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},i=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},o=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},a=function(t,e){var n=o();return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},s=function(t,e){var n,r,i,o,s,u=e||0,c=[];for(n=0;n<t.length;n++)for(o=t[n],r=0;r<o.length;r++)s=o[r],i=a(s,u),u+=i.size,c.push(i);return c},u=function(t){var e,n,r,i,o,a,s=0,u=t.byteLength,c=t.nalCount,l=u+4*c,p=new Uint8Array(l),d=new DataView(p.buffer);for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)a=o[r],d.setUint32(s,a.data.byteLength),s+=4,p.set(a.data,s),s+=a.data.byteLength;return p};t.exports={groupNalsIntoFrames:n,groupFramesIntoGops:r,extendFirstKeyFrame:i,generateSampleTable:s,concatenateNalData:u}},function(t,e){var n=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},r=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},i=function(t,e){var n,r,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(r=t.samplerate/9e4,n*=r,n=Math.floor(n)),n};t.exports={clearDtsInfo:r,calculateTrackBaseMediaDecodeTime:i,collectDtsInfo:n}},function(t,e,n){"use strict";var r,i,o,a=n(60),s=n(353),u=n(109),c=n(355).TimestampRolloverStream,l=n(109);r=function(){var t=new Uint8Array(188),e=0;r.prototype.init.call(this),this.push=function(n){var r,i=0,o=188;for(e?(r=new Uint8Array(n.byteLength+e),r.set(t.subarray(0,e)),r.set(n,e),e=0):r=n;o<r.byteLength;)71!==r[i]||71!==r[o]?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=188,o+=188);i<r.byteLength&&(t.set(r.subarray(i),0),e=r.byteLength-i)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}},r.prototype=new a,i=function(){var t,e,n,r;i.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,r){var i=0;r.payloadUnitStartIndicator&&(i+=t[i]+1),"pat"===r.type?e(t.subarray(i),r):n(t.subarray(i),r)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],r.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=r.pmtPid},n=function(t,e){var n,i,o,a;if(1&t[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&t[1])<<8|t[2],i=3+n-4,o=(15&t[10])<<8|t[11],a=12+o;a<i;){var s=t[a],c=(31&t[a+1])<<8|t[a+2];s===u.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=c:s===u.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=c:s===u.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][c]=s),a+=5+((15&t[a+3])<<8|t[a+4])}e.programMapTable=r.programMapTable}},this.push=function(e){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(r+=e[r]+1),0===n.pid)n.type="pat",t(e.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,r,n]):this.processPes_(e,r,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}},i.prototype=new a,i.STREAM_TYPES={h264:27,adts:15},o=function(){var t=this,e={data:[],size:0},n={data:[],size:0},r={data:[],size:0},i=function(t,e){var n;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!=(4&t[6]),n=t[7],192&n&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},a=function(e,n,r){var o,a=new Uint8Array(e.size),s={type:n},u=0,c=0,l=!1;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)o=e.data[u],a.set(o.data,c),c+=o.data.byteLength;i(a,s),l="video"===n||s.packetLength<=e.size,(r||l)&&(e.size=0,e.data.length=0),l&&t.trigger("data",s)}};o.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var t,o;switch(i.streamType){case u.H264_STREAM_TYPE:case l.H264_STREAM_TYPE:t=e,o="video";break;case u.ADTS_STREAM_TYPE:t=n,o="audio";break;case u.METADATA_STREAM_TYPE:t=r,o="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&a(t,o,!0),t.data.push(i),t.size+=i.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=i.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[i.type]()},this.flush=function(){a(e,"video"),a(n,"audio"),a(r,"timed-metadata"),this.trigger("done")}},o.prototype=new a;var p={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:r,TransportParseStream:i,ElementaryStream:o,TimestampRolloverStream:c,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:n(366)};for(var d in u)u.hasOwnProperty(d)&&(p[d]=u[d]);t.exports=p},function(t,e,n){"use strict";var r,i=n(60),o=n(109),a=function(t,e,n){var r,i="";for(r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i},s=function(t,e,n){return decodeURIComponent(a(t,e,n))},u=function(t,e,n){return unescape(a(t,e,n))},c=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},l={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.value=s(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.url=s(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=u(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};r=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,a=[],s=0;if(r.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,r,o,u,p,d;if("timed-metadata"===t.type){if(t.dataAlignmentIndicator&&(s=0,a.length=0),0===a.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))return void n.debug;if(a.push(t),s+=t.data.byteLength,1===a.length&&(i=c(t.data.subarray(6,10)),i+=10),!(s<i)){for(e={data:new Uint8Array(i),frames:[],pts:a[0].pts,dts:a[0].dts},p=0;p<i;)e.data.set(a[0].data.subarray(0,i-p),p),p+=a[0].data.byteLength,s-=a[0].data.byteLength,a.shift();r=10,64&e.data[5]&&(r+=4,r+=c(e.data.subarray(10,14)),i-=c(e.data.subarray(16,20)));do{if((o=c(e.data.subarray(r+4,r+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(d=String.fromCharCode(e.data[r],e.data[r+1],e.data[r+2],e.data[r+3]),u={id:d,data:e.data.subarray(r+10,r+o+10)},u.key=u.id,l[u.id]&&(l[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var h=u.data,f=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;f*=4,f+=3&h[7],u.timeStamp=f,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),r+=10,r+=o}while(r<i);this.trigger("data",e)}}}},r.prototype=new i,t.exports=r},function(t,e,n){"use strict";var r,i=n(60),o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];r=function(){var t;r.prototype.init.call(this),this.push=function(e){var n,r,i,a,s,u,c=0,l=0;if("audio"===e.type)for(t?(a=t,t=new Uint8Array(a.byteLength+e.data.byteLength),t.set(a),t.set(e.data,a.byteLength)):t=e.data;c+5<t.length;)if(255===t[c]&&240==(246&t[c+1])){if(r=2*(1&~t[c+1]),n=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,s=1024*(1+(3&t[c+6])),u=9e4*s/o[(60&t[c+2])>>>2],i=c+n,t.byteLength<i)return;if(this.trigger("data",{pts:e.pts+l*u,dts:e.dts+l*u,sampleCount:s,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:o[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+r,i)}),t.byteLength===i)return void(t=void 0);l++,t=t.subarray(i)}else c++},this.flush=function(){this.trigger("done")}},r.prototype=new i,t.exports=r},function(t,e,n){"use strict";var r,i,o,a=n(60),s=n(369);i=function(){var t,e,n=0;i.prototype.init.call(this),this.push=function(r){var i;for(e?(i=new Uint8Array(e.byteLength+r.data.byteLength),i.set(e),i.set(r.data,e.byteLength),e=i):e=r.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}},i.prototype=new a,o={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},r=function(){var t,e,n,a,u,c,l,p=new i;r.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,a=t.dts,p.push(t))},p.on("data",function(r){var i={trackId:e,pts:n,dts:a,data:r};switch(31&r[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=u(r.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=u(r.subarray(1)),i.config=c(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",i)}),p.on("done",function(){t.trigger("done")}),this.flush=function(){p.flush()},l=function(t,e){var n,r,i=8,o=8;for(n=0;n<t;n++)0!==o&&(r=e.readExpGolomb(),o=(i+r+256)%256),i=0===o?i:o},u=function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n},c=function(t){var e,n,r,i,a,u,c,p,d,h,f,y,v,m=0,g=0,b=0,_=0,T=1;if(e=new s(t),n=e.readUnsignedByte(),i=e.readUnsignedByte(),r=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),o[n]&&(a=e.readUnsignedExpGolomb(),3===a&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(f=3!==a?8:12,v=0;v<f;v++)e.readBoolean()&&(v<6?l(16,e):l(64,e));if(e.skipUnsignedExpGolomb(),0===(u=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===u)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),c=e.readUnsignedExpGolomb(),v=0;v<c;v++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),p=e.readUnsignedExpGolomb(),d=e.readUnsignedExpGolomb(),h=e.readBits(1),0===h&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}y&&(T=y[0]/y[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(p+1)-2*m-2*g)*T),height:(2-h)*(d+1)*16-2*b-2*_}}},r.prototype=new a,t.exports={H264Stream:r,NalByteStream:i}},function(t,e,n){"use strict";var r;r=function(t){var e=t.byteLength,n=0,r=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+r},this.loadWord=function(){var i=t.byteLength-e,o=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");o.set(t.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,e-=a},this.skipBits=function(t){var i;r>t?(n<<=t,r-=t):(t-=r,i=Math.floor(t/8),t-=8*i,e-=i,this.loadWord(),n<<=t,r-=t)},this.readBits=function(t){var i=Math.min(r,t),o=n>>>32-i;return r-=i,r>0?n<<=i:e>0&&this.loadWord(),i=t-i,i>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var t;for(t=0;t<r;++t)if(0!=(n&2147483648>>>t))return n<<=t,r-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=r},function(t,e,n){"use strict";var r,i=n(60);r=function(){var t=new Uint8Array,e=0;r.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,r=t[e+4]<<3;return 6144&t[e+3]|r|n},this.push=function(n){var r,i,o,a,s=0,u=0;for(t.length?(a=t.length,t=new Uint8Array(n.byteLength+a),t.set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(!0&t[u]&&240==(240&t[u+1])){if(t.length-u<7)break;if((s=this.parseAdtsSize(t,u))>t.length)break;o={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",o),u+=s}else u++;else{if(t.length-u<10)break;if((s=this.parseId3TagSize(t,u))>t.length)break;i={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",i),u+=s}r=t.length-u,t=r>0?t.subarray(u):new Uint8Array}},r.prototype=new i,t.exports=r},function(t,e){var n=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],i=function(t){for(var e=[];t--;)e.push(0);return e},o={96e3:[n,[227,64],i(154),[56]],88200:[n,[231],i(170),[56]],64e3:[n,[248,192],i(240),[56]],48e3:[n,[255,192],i(268),[55,148,128],i(54),[112]],44100:[n,[255,192],i(268),[55,163,128],i(84),[112]],32e3:[n,[255,192],i(268),[55,234],i(226),[112]],24e3:[n,[255,192],i(268),[55,255,128],i(268),[111,112],i(126),[224]],16e3:[n,[255,192],i(268),[55,255,128],i(268),[111,255],i(269),[223,108],i(195),[1,192]],12e3:[r,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,253,128],i(259),[56]],11025:[r,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,255,192],i(268),[55,175,128],i(108),[112]],8e3:[r,i(268),[3,121,16],i(47),[7]]};t.exports=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=new Uint8Array(t[n].reduce(function(t,e){return t.concat(e)},[])),e},{})}(o)},function(t,e){var n,r,i,o,a,s;n=function(t){return 9e4*t},r=function(t,e){return t*e},i=function(t){return t/9e4},o=function(t,e){return t/e},a=function(t,e){return n(o(t,e))},s=function(t,e){return r(i(t),e)},t.exports={secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:i,audioTsToSeconds:o,audioTsToVideoTs:a,videoTsToAudioTs:s}},function(t,e,n){"use strict";var r=n(354).discardEmulationPreventionBytes,i=n(353).CaptionStream,o=n(143),a=n(374),s=function(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(n<i.size)return i;n-=i.size}return null},u=function(t,e,n){var i,o,a,u,c=new DataView(t.buffer,t.byteOffset,t.byteLength),l=[];for(o=0;o+4<t.length;o+=a)if(a=c.getUint32(o),o+=4,!(a<=0))switch(31&t[o]){case 6:var p=t.subarray(o+1,o+1+a),d=s(o,e);i={nalUnitType:"sei_rbsp",size:a,data:p,escapedRBSP:r(p),trackId:n},d?(i.pts=d.pts,i.dts=d.dts,u=d):(i.pts=u.pts,i.dts=u.dts),l.push(i)}return l},c=function(t,e,n){var r=e,i=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,s=n.trackId,u=[];return t.forEach(function(t){var e=a.parseTrun(t),n=e.samples;n.forEach(function(t){void 0===t.duration&&(t.duration=i),void 0===t.size&&(t.size=o),t.trackId=s,t.dts=r,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=r+t.compositionTimeOffset,r+=t.duration}),u=u.concat(n)}),u},l=function(t,e){var n=o.findBox(t,["moof","traf"]),r=o.findBox(t,["mdat"]),i={},s=[];return r.forEach(function(t,e){var r=n[e];s.push({mdat:t,traf:r})}),s.forEach(function(t){var n,r,s=t.mdat,l=t.traf,p=o.findBox(l,["tfhd"]),d=a.parseTfhd(p[0]),h=d.trackId,f=o.findBox(l,["tfdt"]),y=f.length>0?a.parseTfdt(f[0]).baseMediaDecodeTime:0,v=o.findBox(l,["trun"]);e===h&&v.length>0&&(n=c(v,y,d),r=u(s,n,h),i[h]||(i[h]=[]),i[h]=i[h].concat(r))}),i},p=function(t,e,n){var r;return e?(r=l(t,e),{seiNals:r[e],timescale:n}):null},d=function(){var t,e,n,r,o,a=!1;this.isInitialized=function(){return a},this.init=function(){t=new i,a=!0,t.on("data",function(t){t.startTime=t.startPts/r,t.endTime=t.endPts/r,o.captions.push(t),o.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length)&&(n!==t[0]||r!==e[n])},this.parse=function(t,i,a){var s;if(!this.isInitialized())return null;if(!i||!a)return null;if(this.isNewInit(i,a))n=i[0],r=a[n];else if(!n||!r)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,i,a)}return null!==(s=p(t,n,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),o):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){o.captions=[],o.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,r=null,o?this.clearParsedCaptions():o={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};t.exports=d},function(t,e,n){"use strict";var r,i,o=n(143).parseType,a=function(t){return new Date(1e3*t-20828448e5)},s=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},u=function(t){var e,n,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=[];for(e=0;e+4<t.length;e+=n)if(n=r.getUint32(e),e+=4,n<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+t[e]&31)}return i},c={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:r(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,r,i,o=new DataView(t.buffer,t.byteOffset,t.byteLength),a={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},s=31&t[5];for(r=6,i=0;i<s;i++)n=o.getUint16(r),r+=2,a.sps.push(new Uint8Array(t.subarray(r,r+n))),r+=n;for(e=t[r],r++,i=0;i<e;i++)n=o.getUint16(r),r+=2,a.pps.push(new Uint8Array(t.subarray(r,r+n))),r+=n;return a},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:o(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},r=8;r<t.byteLength;)n.compatibleBrands.push(o(t.subarray(r,r+4))),r+=4;return n},dinf:function(t){return{boxes:r(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:r(t.subarray(8))}},hdlr:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:o(t.subarray(8,12)),name:""},r=8;for(r=24;r<t.byteLength;r++){if(0===t[r]){r++;break}n.name+=String.fromCharCode(t[r])}return n.name=decodeURIComponent(escape(n.name)),n},mdat:function(t){return{byteLength:t.byteLength,nals:u(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=4,i={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===i.version?(r+=4,i.creationTime=a(n.getUint32(r)),r+=8,i.modificationTime=a(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=8,i.duration=n.getUint32(r)):(i.creationTime=a(n.getUint32(r)),r+=4,i.modificationTime=a(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=4,i.duration=n.getUint32(r)),r+=4,e=n.getUint16(r),i.language+=String.fromCharCode(96+(e>>10)),i.language+=String.fromCharCode(96+((992&e)>>5)),i.language+=String.fromCharCode(96+(31&e)),i},mdia:function(t){return{boxes:r(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:r(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=r(t.subarray(28))[0]),n},moof:function(t){return{boxes:r(t)}},moov:function(t){return{boxes:r(t)}},mvex:function(t){return{boxes:r(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(e.getUint32(n)),n+=8,r.modificationTime=a(e.getUint32(n)),n+=4,r.timescale=e.getUint32(n),n+=8,r.duration=e.getUint32(n)):(r.creationTime=a(e.getUint32(n)),n+=4,r.modificationTime=a(e.getUint32(n)),n+=4,r.timescale=e.getUint32(n),n+=4,r.duration=e.getUint32(n)),n+=4,r.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,r.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,r.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,r.nextTrackId=e.getUint32(n),r},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},i=n.getUint16(22);for(e=24;i;e+=12,i--)r.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return r},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:r(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},i=n.getUint32(4);for(e=8;i;e+=4,i--)r.chunkOffsets.push(n.getUint32(e));return r},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=n.getUint32(4),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;r;e+=12,r--)i.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return i},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:r(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)r.entries.push(n.getUint32(e));return r},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},i=n.getUint32(4);for(e=8;i;e+=8,i--)r.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return r},styp:function(t){return c.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],u=32&r.flags[2],c=65536&r.flags[0],l=131072&r.flags[0];return e=8,i&&(e+=4,r.baseDataOffset=n.getUint32(12),e+=4),o&&(r.sampleDescriptionIndex=n.getUint32(e),e+=4),a&&(r.defaultSampleDuration=n.getUint32(e),e+=4),s&&(r.defaultSampleSize=n.getUint32(e),e+=4),u&&(r.defaultSampleFlags=n.getUint32(e)),c&&(r.durationIsEmpty=!0),!i&&l&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(e.getUint32(n)),n+=8,r.modificationTime=a(e.getUint32(n)),n+=4,r.trackId=e.getUint32(n),n+=4,n+=8,r.duration=e.getUint32(n)):(r.creationTime=a(e.getUint32(n)),n+=4,r.modificationTime=a(e.getUint32(n)),n+=4,r.trackId=e.getUint32(n),n+=4,n+=4,r.duration=e.getUint32(n)),n+=4,n+=8,r.layer=e.getUint16(n),n+=2,r.alternateGroup=e.getUint16(n),n+=2,r.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,r.width=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,r.height=e.getUint16(n)+e.getUint16(n+2)/16,r},traf:function(t){return{boxes:r(t)}},trak:function(t){return{boxes:r(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],u=2&n.flags[1],c=4&n.flags[1],l=8&n.flags[1],p=r.getUint32(4),d=8;for(i&&(n.dataOffset=r.getInt32(d),d+=4),o&&p&&(e={flags:s(t.subarray(d,d+4))},d+=4,a&&(e.duration=r.getUint32(d),d+=4),u&&(e.size=r.getUint32(d),d+=4),l&&(e.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(e),p--);p--;)e={},a&&(e.duration=r.getUint32(d),d+=4),u&&(e.size=r.getUint32(d),d+=4),c&&(e.flags=s(t.subarray(d,d+4)),d+=4),l&&(e.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};r=function(t){for(var e,n,r,i,a,s=0,u=[],l=new ArrayBuffer(t.length),p=new Uint8Array(l),d=0;d<t.length;++d)p[d]=t[d];for(e=new DataView(l);s<t.byteLength;)n=e.getUint32(s),r=o(t.subarray(s+4,s+8)),i=n>1?s+n:t.byteLength,a=(c[r]||function(t){return{data:t}})(t.subarray(s+8,i)),a.size=n,a.type=r,u.push(a),s=i;return u},i=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map(function(t,r){return n+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var r=n+"  "+e+": ",i=t[e];if(i instanceof Uint8Array||i instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return o?1===o.length?r+"<"+o.join("").slice(1)+">":r+"<\n"+o.map(function(t){return n+"  "+t}).join("\n")+"\n"+n+"  >":r+"<>"}return r+JSON.stringify(i,null,2).split("\n").map(function(t,e){return 0===e?t:n+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+i(t.boxes,e+1):"")}).join("\n")},t.exports={inspect:r,textify:i,parseTfdt:c.tfdt,parseHdlr:c.hdlr,parseTfhd:c.tfhd,parseTrun:c.trun}},function(t,e,n){"use strict";var r=n(109),i=n(355).handleRollover,o={};o.ts=n(376),o.aac=n(377);var a=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},s=function(t,e){for(var n,r=0,i=188;i<t.byteLength;)if(71!==t[r]||71!==t[i])r++,i++;else{switch(n=t.subarray(r,i),o.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=o.ts.parsePat(n));break;case"pmt":e.table||(e.table=o.ts.parsePmt(n))}if(e.pid&&e.table)return;r+=188,i+=188}},u=function(t,e,n){for(var r,i,a,s,u=0,c=188,l=!1;c<t.byteLength;)if(71!==t[u]||71!==t[c])u++,c++;else{switch(r=t.subarray(u,c),o.ts.parseType(r,e.pid)){case"pes":i=o.ts.parsePesType(r,e.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;u+=188,c+=188}for(c=t.byteLength,u=c-188,l=!1;u>=0;)if(71!==t[u]||71!==t[c])u--,c--;else{switch(r=t.subarray(u,c),o.ts.parseType(r,e.pid)){case"pes":i=o.ts.parsePesType(r,e.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;u-=188,c-=188}},c=function(t,e,n){for(var r,i,a,s,u,c,l,p=0,d=188,h=!1,f={data:[],size:0};d<t.byteLength;)if(71!==t[p]||71!==t[d])p++,d++;else{switch(r=t.subarray(p,d),o.ts.parseType(r,e.pid)){case"pes":if(i=o.ts.parsePesType(r,e.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(a&&!h&&(s=o.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0),!n.firstKeyFrame)){if(a&&0!==f.size){for(u=new Uint8Array(f.size),c=0;f.data.length;)l=f.data.shift(),u.set(l,c),c+=l.byteLength;o.ts.videoPacketContainsKeyFrame(u)&&(n.firstKeyFrame=o.ts.parsePesTime(u),n.firstKeyFrame.type="video"),f.size=0}f.data.push(r),f.size+=r.byteLength}}if(h&&n.firstKeyFrame)break;p+=188,d+=188}for(d=t.byteLength,p=d-188,h=!1;p>=0;)if(71!==t[p]||71!==t[d])p--,d--;else{switch(r=t.subarray(p,d),o.ts.parseType(r,e.pid)){case"pes":i=o.ts.parsePesType(r,e.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0)}if(h)break;p-=188,d-=188}},l=function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=i(t.dts,n),t.pts=i(t.pts,n),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4})}if(t.video&&t.video.length){var r=e;if(void 0===r&&(r=t.video[0].dts),t.video.forEach(function(t){t.dts=i(t.dts,r),t.pts=i(t.pts,r),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4}),t.firstKeyFrame){var o=t.firstKeyFrame;o.dts=i(o.dts,r),o.pts=i(o.pts,r),o.dtsTime=o.dts/9e4,o.ptsTime=o.dts/9e4}}},p=function(t){for(var e,n=!1,r=0,i=null,a=null,s=0,u=0;t.length-u>=3;){switch(o.aac.parseType(t,u)){case"timed-metadata":if(t.length-u<10){n=!0;break}if((s=o.aac.parseId3TagSize(t,u))>t.length){n=!0;break}null===a&&(e=t.subarray(u,u+s),a=o.aac.parseAacTimestamp(e)),u+=s;break;case"audio":if(t.length-u<7){n=!0;break}if((s=o.aac.parseAdtsSize(t,u))>t.length){n=!0;break}null===i&&(e=t.subarray(u,u+s),i=o.aac.parseSampleRate(e)),r++,u+=s;break;default:u++}if(n)return null}if(null===i||null===a)return null;var c=9e4/i;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*r*c,pts:a+1024*r*c}]}},d=function(t){var e={pid:null,table:null},n={};s(t,e);for(var i in e.table)if(e.table.hasOwnProperty(i)){var o=e.table[i];switch(o){case r.H264_STREAM_TYPE:n.video=[],c(t,e,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],u(t,e,n),0===n.audio.length&&delete n.audio}}return n},h=function(t,e){var n,r=a(t);return(n=r?p(t):d(t))&&(n.audio||n.video)?(l(n,e),n):null};t.exports={inspect:h}},function(t,e,n){"use strict";var r=n(109),i=function(t){var e=31&t[1];return e<<=8,e|=t[2]},o=function(t){return!!(64&t[1])},a=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},s=function(t,e){var n=i(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},u=function(t){var e=o(t),n=4+a(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},c=function(t){var e={},n=o(t),r=4+a(t);if(n&&(r+=t[r]+1),1&t[r+5]){var i,s,u;i=(15&t[r+1])<<8|t[r+2],s=3+i-4,u=(15&t[r+10])<<8|t[r+11];for(var c=12+u;c<s;){var l=r+c;e[(31&t[l+1])<<8|t[l+2]]=t[l],c+=5+((15&t[l+3])<<8|t[l+4])}return e}},l=function(t,e){switch(e[i(t)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},p=function(t){if(!o(t))return null;var e=4+a(t);if(e>=t.byteLength)return null;var n,r=null;return n=t[e+7],192&n&&(r={},r.pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,r.pts*=4,r.pts+=(6&t[e+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,r.dts*=4,r.dts+=(6&t[e+18])>>>1)),r},d=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},h=function(t){for(var e,n=4+a(t),r=t.subarray(n),i=0,o=0,s=!1;o<r.byteLength-3;o++)if(1===r[o+2]){i=o+5;break}for(;i<r.byteLength;)switch(r[i]){case 0:if(0!==r[i-1]){i+=2;break}if(0!==r[i-2]){i++;break}o+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===(e=d(31&r[o+3]))&&(s=!0);do{i++}while(1!==r[i]&&i<r.length);o=i-2,i+=3;break;case 1:if(0!==r[i-1]||0!==r[i-2]){i+=3;break}e=d(31&r[o+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(s=!0),o=i-2,i+=3;break;default:i+=3}return r=r.subarray(o),i-=o,o=0,r&&r.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===(e=d(31&r[o+3]))&&(s=!0),s};t.exports={parseType:s,parsePat:u,parsePmt:c,parsePayloadUnitStartIndicator:o,parsePesType:l,parsePesTime:p,videoPacketContainsKeyFrame:h}},function(t,e,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},o=function(t,e,n){var r,i="";for(r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i},a=function(t,e,n){return unescape(o(t,e,n))},s=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},u=function(t,e){var n=(224&t[e+5])>>5,r=t[e+4]<<3;return 6144&t[e+3]|r|n},c=function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},l=function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return r[(60&t[e+2])>>>2];e++}return null},p=function(t){var e,n,r;e=10,64&t[5]&&(e+=4,e+=i(t.subarray(10,14)));do{if((n=i(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){r=t.subarray(e+10,e+n+10);for(var o=0;o<r.byteLength;o++)if(0===r[o]){var s=a(r,0,o);if("com.apple.streaming.transportStreamTimestamp"===s){var u=r.subarray(o+1),c=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;return c*=4,c+=3&u[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null};t.exports={parseId3TagSize:s,parseAdtsSize:u,parseType:c,parseSampleRate:l,parseAacTimestamp:p}}]);